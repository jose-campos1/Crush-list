"use strict";(self.webpackChunkperson_list_services_1_1=self.webpackChunkperson_list_services_1_1||[]).push([[179],{3844:(ft,De,R)=>{R.d(De,{hO:()=>Qe});var g=R(8256),z=R(2090),Z=R(4859),W=R(9681),ce=R(1877);class Ee{constructor(K,te){this._delegate=K,this.firebase=te,(0,W._addComponent)(K,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(K,te=W._DEFAULT_ENTRY_NAME){var oe;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(K);return!ke.isInitialized()&&"EXPLICIT"===(null===(oe=ke.getComponent())||void 0===oe?void 0:oe.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:te})}_removeServiceInstance(K,te=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(te)}_addComponent(K){(0,W._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,W._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ge=new z.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function L(){const j=function ye(j){const K={},te={__esModule:!0,initializeApp:function ut(Ve,rt={}){const Wt=W.initializeApp(Ve,rt);if((0,z.r3)(K,Wt.name))return K[Wt.name];const Tt=new j(Wt,te);return K[Wt.name]=Tt,Tt},app:ke,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function ze(Ve){const rt=Ve.name,Wt=rt.replace("-compat","");if(W._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Tt=(tt=ke())=>{if("function"!=typeof tt[Wt])throw Ge.create("invalid-app-argument",{appName:rt});return tt[Wt]()};void 0!==Ve.serviceProps&&(0,z.ZB)(Tt,Ve.serviceProps),te[Wt]=Tt,j.prototype[Wt]=function(...tt){return this._getService.bind(this,rt).apply(this,Ve.multipleInstances?tt:[])}}return"PUBLIC"===Ve.type?te[Wt]:null},removeApp:function oe(Ve){delete K[Ve]},useAsService:function vt(Ve,rt){return"serverAuth"===rt?null:rt},modularAPIs:W}};function ke(Ve){if(!(0,z.r3)(K,Ve=Ve||W._DEFAULT_ENTRY_NAME))throw Ge.create("no-app",{appName:Ve});return K[Ve]}return te.default=te,Object.defineProperty(te,"apps",{get:function Dt(){return Object.keys(K).map(Ve=>K[Ve])}}),ke.App=j,te}(Ee);return j.INTERNAL=Object.assign(Object.assign({},j.INTERNAL),{createFirebaseNamespace:L,extendNamespace:function K(te){(0,z.ZB)(j,te)},createSubscribe:z.ne,ErrorFactory:z.LL,deepExtend:z.ZB}),j}(),ee=new ce.Yd("@firebase/app-compat");if((0,z.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const j=self.firebase.SDK_VERSION;j&&j.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=V;!function Le(j){(0,W.registerVersion)("@firebase/app-compat","0.2.4",j)}(),Ne.registerVersion("firebase","9.17.2","app-compat");var Ft=R(5344);ft=R.hmd(ft);class Te{constructor(K){return K}}const qe=new g.OlP("angularfire2.app.options"),he=new g.OlP("angularfire2.app.name"),_e={provide:Te,useFactory:function re(j,K,te){const ke="object"==typeof te&&te||{};ke.name=ke.name||"string"==typeof te&&te||"[DEFAULT]";const Dt=Ne.apps.filter(ze=>ze&&ze.name===ke.name)[0]||K.runOutsideAngular(()=>Ne.initializeApp(j,ke));try{JSON.stringify(j)!==JSON.stringify(Dt.options)&&((j,...K)=>{(0,g.X6Q)()&&typeof console<"u"&&console[j](...K)})("error",`${Dt.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Te(Dt)},deps:[qe,g.R0b,[new g.FiY,he]]};let Qe=(()=>{class j{constructor(te){Ne.registerVersion("angularfire",Ft.q4.full,"core"),Ne.registerVersion("angularfire",Ft.q4.full,"app-compat"),Ne.registerVersion("angular",g.q4F.full,te.toString())}static initializeApp(te,oe){return{ngModule:j,providers:[{provide:qe,useValue:te},{provide:he,useValue:oe}]}}}return j.\u0275fac=function(te){return new(te||j)(g.LFG(g.Lbi))},j.\u0275mod=g.oAB({type:j}),j.\u0275inj=g.cJS({providers:[_e]}),j})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5344:(ft,De,R)=>{R.d(De,{q4:()=>qv,HU:()=>Qv,vb:()=>Yv,JM:()=>Us,u3:()=>Ir});var g=R(8256),z=R(259),Z=R(5861),W=R(9681),ce=R(2090),Ee=R(4859),Re=R(1877);R(2833);const ye="@firebase/remote-config",L="0.4.4",X=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class j{constructor(D,N,H,me){this.client=D,this.storage=N,this.storageCache=H,this.logger=me}isCachedDataFresh(D,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-N,me=H<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${me}.`),me}fetch(D){var N=this;return(0,Z.Z)(function*(){const[H,me]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(me&&N.isCachedDataFresh(D.cacheMaxAgeMillis,H))return me;D.eTag=me&&me.eTag;const Se=yield N.client.fetch(D),Je=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Se.status&&Je.push(N.storage.setLastSuccessfulFetchResponse(Se)),yield Promise.all(Je),Se})()}}function K(S=navigator){return S.languages&&S.languages[0]||S.language}class te{constructor(D,N,H,me,Se,Je){this.firebaseInstallations=D,this.sdkVersion=N,this.namespace=H,this.projectId=me,this.apiKey=Se,this.appId=Je}fetch(D){var N=this;return(0,Z.Z)(function*(){const[H,me]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Je=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Rn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Nn={sdk_version:N.sdkVersion,app_instance_id:H,app_instance_id_token:me,app_id:N.appId,language_code:K()},Ln={method:"POST",headers:Rn,body:JSON.stringify(Nn)},Xt=fetch(Je,Ln),Ut=new Promise(($i,$s)=>{D.signal.addEventListener(()=>{const Td=new Error("The operation was aborted.");Td.name="AbortError",$s(Td)})});let ss;try{yield Promise.race([Xt,Ut]),ss=yield Xt}catch($i){let $s="fetch-client-network";throw"AbortError"===$i?.name&&($s="fetch-timeout"),X.create($s,{originalErrorMessage:$i?.message})}let ht=ss.status;const Wa=ss.headers.get("ETag")||void 0;let Dd,En;if(200===ss.status){let $i;try{$i=yield ss.json()}catch($s){throw X.create("fetch-client-parse",{originalErrorMessage:$s?.message})}Dd=$i.entries,En=$i.state}if("INSTANCE_STATE_UNSPECIFIED"===En?ht=500:"NO_CHANGE"===En?ht=304:("NO_TEMPLATE"===En||"EMPTY_CONFIG"===En)&&(Dd={}),304!==ht&&200!==ht)throw X.create("fetch-status",{httpStatus:ht});return{status:ht,eTag:Wa,config:Dd}})()}}class ut{constructor(D,N){this.client=D,this.storage=N}fetch(D){var N=this;return(0,Z.Z)(function*(){const H=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(D,H)})()}attemptFetch(D,{throttleEndTimeMillis:N,backoffCount:H}){var me=this;return(0,Z.Z)(function*(){yield function oe(S,D){return new Promise((N,H)=>{const me=Math.max(D-Date.now(),0),Se=setTimeout(N,me);S.addEventListener(()=>{clearTimeout(Se),H(X.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,N);try{const Se=yield me.client.fetch(D);return yield me.storage.deleteThrottleMetadata(),Se}catch(Se){if(!function ke(S){if(!(S instanceof ce.ZR&&S.customData))return!1;const D=Number(S.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Se))throw Se;const Je={throttleEndTimeMillis:Date.now()+(0,ce.$s)(H),backoffCount:H+1};return yield me.storage.setThrottleMetadata(Je),me.attemptFetch(D,Je)}})()}}class vt{constructor(D,N,H,me,Se){this.app=D,this._client=N,this._storageCache=H,this._storage=me,this._logger=Se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ve(S,D){const N=S.target.error||void 0;return X.create(D,{originalErrorMessage:N&&N?.message})}const rt="app_namespace_store";class Dn{constructor(D,N,H,me=function tt(){return new Promise((S,D)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=H=>{D(Ve(H,"storage-open"))},N.onsuccess=H=>{S(H.target.result)},N.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(rt,{keyPath:"compositeKey"})}}catch(N){D(X.create("storage-open",{originalErrorMessage:N?.message}))}})}()){this.appId=D,this.appName=N,this.namespace=H,this.openDbPromise=me}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var N=this;return(0,Z.Z)(function*(){const H=yield N.openDbPromise;return new Promise((me,Se)=>{const Rn=H.transaction([rt],"readonly").objectStore(rt),Nn=N.createCompositeKey(D);try{const Ln=Rn.get(Nn);Ln.onerror=Xt=>{Se(Ve(Xt,"storage-get"))},Ln.onsuccess=Xt=>{const Ut=Xt.target.result;me(Ut?Ut.value:void 0)}}catch(Ln){Se(X.create("storage-get",{originalErrorMessage:Ln?.message}))}})})()}set(D,N){var H=this;return(0,Z.Z)(function*(){const me=yield H.openDbPromise;return new Promise((Se,Je)=>{const Nn=me.transaction([rt],"readwrite").objectStore(rt),Ln=H.createCompositeKey(D);try{const Xt=Nn.put({compositeKey:Ln,value:N});Xt.onerror=Ut=>{Je(Ve(Ut,"storage-set"))},Xt.onsuccess=()=>{Se()}}catch(Xt){Je(X.create("storage-set",{originalErrorMessage:Xt?.message}))}})})()}delete(D){var N=this;return(0,Z.Z)(function*(){const H=yield N.openDbPromise;return new Promise((me,Se)=>{const Rn=H.transaction([rt],"readwrite").objectStore(rt),Nn=N.createCompositeKey(D);try{const Ln=Rn.delete(Nn);Ln.onerror=Xt=>{Se(Ve(Xt,"storage-delete"))},Ln.onsuccess=()=>{me()}}catch(Ln){Se(X.create("storage-delete",{originalErrorMessage:Ln?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class vr{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,Z.Z)(function*(){const N=D.storage.getLastFetchStatus(),H=D.storage.getLastSuccessfulFetchTimestampMillis(),me=D.storage.getActiveConfig(),Se=yield N;Se&&(D.lastFetchStatus=Se);const Je=yield H;Je&&(D.lastSuccessfulFetchTimestampMillis=Je);const Rn=yield me;Rn&&(D.activeConfig=Rn)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function jr(){return sn.apply(this,arguments)}function sn(){return(sn=(0,Z.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function $r(){(0,W._registerComponent)(new Ee.wA("remote-config",function S(D,{instanceIdentifier:N}){const H=D.getProvider("app").getImmediate(),me=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw X.create("registration-window");if(!(0,ce.hl)())throw X.create("indexed-db-unavailable");const{projectId:Se,apiKey:Je,appId:Rn}=H.options;if(!Se)throw X.create("registration-project-id");if(!Je)throw X.create("registration-api-key");if(!Rn)throw X.create("registration-app-id");const Nn=new Dn(Rn,H.name,N=N||"firebase"),Ln=new vr(Nn),Xt=new Re.Yd(ye);Xt.logLevel=Re.in.ERROR;const Ut=new te(me,W.SDK_VERSION,N,Se,Je,Rn),ss=new ut(Ut,Nn),ht=new j(ss,Nn,Ln,Xt),Wa=new vt(H,ht,Ln,Nn,Xt);return function qe(S){const D=(0,ce.m9)(S);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Wa),Wa},"PUBLIC").setMultipleInstances(!0)),(0,W.registerVersion)(ye,L),(0,W.registerVersion)(ye,L,"esm2017")}();var _n=R(8766);const si="/firebase-messaging-sw.js",mi="/firebase-cloud-messaging-push-scope",yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jn="https://fcmregistrations.googleapis.com/v1",Fn="google.c.a.c_id",Hr="google.c.a.c_l",qt="google.c.a.ts",nt="google.c.a.e";var gn=(()=>{return(S=gn||(gn={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",gn;var S})();function dn(S){const D=new Uint8Array(S);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hn(S){const N=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(N),me=new Uint8Array(H.length);for(let Se=0;Se<H.length;++Se)me[Se]=H.charCodeAt(Se);return me}const er="fcm_token_details_db",Kn=5,fn="fcm_token_object_Store";function _i(){return _i=(0,Z.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Se=>Se.name).includes(er))return null;let D=null;return(yield(0,_n.X3)(er,Kn,{upgrade:(H=(0,Z.Z)(function*(me,Se,Je,Rn){var Nn;if(Se<2||!me.objectStoreNames.contains(fn))return;const Ln=Rn.objectStore(fn),Xt=yield Ln.index("fcmSenderId").get(S);if(yield Ln.clear(),Xt)if(2===Se){const Ut=Xt;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;D={token:Ut.fcmToken,createTime:null!==(Nn=Ut.createTime)&&void 0!==Nn?Nn:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:dn(Ut.vapidKey)}}}else if(3===Se){const Ut=Xt;D={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:dn(Ut.auth),p256dh:dn(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:dn(Ut.vapidKey)}}}else if(4===Se){const Ut=Xt;D={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:dn(Ut.auth),p256dh:dn(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:dn(Ut.vapidKey)}}}}),function(Se,Je,Rn,Nn){return H.apply(this,arguments)})})).close(),yield(0,_n.Lj)(er),yield(0,_n.Lj)("fcm_vapid_details_db"),yield(0,_n.Lj)("undefined"),function Ht(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:D}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var H}),_i.apply(this,arguments)}const Gr="firebase-messaging-database",zr=1,$e="firebase-messaging-store";let de=null;function Ye(){return de||(de=(0,_n.X3)(Gr,zr,{upgrade:(S,D)=>{0===D&&S.createObjectStore($e)}})),de}function wt(S){return kt.apply(this,arguments)}function kt(){return kt=(0,Z.Z)(function*(S){const D=A(S),H=yield(yield Ye()).transaction($e).objectStore($e).get(D);if(H)return H;{const me=yield function on(S){return _i.apply(this,arguments)}(S.appConfig.senderId);if(me)return yield Rt(S,me),me}}),kt.apply(this,arguments)}function Rt(S,D){return ln.apply(this,arguments)}function ln(){return(ln=(0,Z.Z)(function*(S,D){const N=A(S),me=(yield Ye()).transaction($e,"readwrite");return yield me.objectStore($e).put(D,N),yield me.done,D})).apply(this,arguments)}function C(){return(C=(0,Z.Z)(function*(S){const D=A(S),H=(yield Ye()).transaction($e,"readwrite");yield H.objectStore($e).delete(D),yield H.done})).apply(this,arguments)}function A({appConfig:S}){return S.appId}const P=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ie(S,D){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,Z.Z)(function*(S,D){const N=yield en(S),H=yt(D),me={method:"POST",headers:N,body:JSON.stringify(H)};let Se;try{Se=yield(yield fetch(dt(S.appConfig),me)).json()}catch(Je){throw P.create("token-subscribe-failed",{errorInfo:Je?.toString()})}if(Se.error)throw P.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw P.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function It(){return(It=(0,Z.Z)(function*(S,D){const N=yield en(S),H=yt(D.subscriptionOptions),me={method:"PATCH",headers:N,body:JSON.stringify(H)};let Se;try{Se=yield(yield fetch(`${dt(S.appConfig)}/${D.token}`,me)).json()}catch(Je){throw P.create("token-update-failed",{errorInfo:Je?.toString()})}if(Se.error)throw P.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw P.create("token-update-no-token");return Se.token})).apply(this,arguments)}function mt(S,D){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,Z.Z)(function*(S,D){const H={method:"DELETE",headers:yield en(S)};try{const Se=yield(yield fetch(`${dt(S.appConfig)}/${D}`,H)).json();if(Se.error)throw P.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(me){throw P.create("token-unsubscribe-failed",{errorInfo:me?.toString()})}})).apply(this,arguments)}function dt({projectId:S}){return`${Jn}/projects/${S}/registrations`}function en(S){return vn.apply(this,arguments)}function vn(){return(vn=(0,Z.Z)(function*({appConfig:S,installations:D}){const N=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function yt({p256dh:S,auth:D,endpoint:N,vapidKey:H}){const me={web:{endpoint:N,auth:D,p256dh:S}};return H!==yi&&(me.web.applicationPubKey=H),me}const ks=6048e5;function Ls(){return Ls=(0,Z.Z)(function*(S){const D=yield function mn(S,D){return Qt.apply(this,arguments)}(S.swRegistration,S.vapidKey),N={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:D.endpoint,auth:dn(D.getKey("auth")),p256dh:dn(D.getKey("p256dh"))},H=yield wt(S.firebaseDependencies);if(H){if(function tr(S,D){return D.vapidKey===S.vapidKey&&D.endpoint===S.endpoint&&D.auth===S.auth&&D.p256dh===S.p256dh}(H.subscriptionOptions,N))return Date.now()>=H.createTime+ks?function $(S,D){return ae.apply(this,arguments)}(S,{token:H.token,createTime:Date.now(),subscriptionOptions:N}):H.token;try{yield mt(S.firebaseDependencies,H.token)}catch(me){console.warn(me)}return Ie(S.firebaseDependencies,N)}return Ie(S.firebaseDependencies,N)}),Ls.apply(this,arguments)}function oi(){return oi=(0,Z.Z)(function*(S){const D=yield wt(S.firebaseDependencies);D&&(yield mt(S.firebaseDependencies,D.token),yield function O(S){return C.apply(this,arguments)}(S.firebaseDependencies));const N=yield S.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()}),oi.apply(this,arguments)}function ae(){return ae=(0,Z.Z)(function*(S,D){try{const N=yield function Xe(S,D){return It.apply(this,arguments)}(S.firebaseDependencies,D),H=Object.assign(Object.assign({},D),{token:N,createTime:Date.now()});return yield Rt(S.firebaseDependencies,H),N}catch(N){throw yield function qo(S){return oi.apply(this,arguments)}(S),N}}),ae.apply(this,arguments)}function Ie(S,D){return at.apply(this,arguments)}function at(){return(at=(0,Z.Z)(function*(S,D){const H={token:yield ie(S,D),createTime:Date.now(),subscriptionOptions:D};return yield Rt(S,H),H.token})).apply(this,arguments)}function Qt(){return(Qt=(0,Z.Z)(function*(S,D){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hn(D)})})).apply(this,arguments)}function wr(S){const D={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function ts(S,D){if(!D.notification)return;S.notification={};const N=D.notification.title;N&&(S.notification.title=N);const H=D.notification.body;H&&(S.notification.body=H);const me=D.notification.image;me&&(S.notification.image=me);const Se=D.notification.icon;Se&&(S.notification.icon=Se)}(D,S),function Rr(S,D){D.data&&(S.data=D.data)}(D,S),function uo(S,D){var N,H,me,Se,Je;if(!(D.fcmOptions||null!==(N=D.notification)&&void 0!==N&&N.click_action))return;S.fcmOptions={};const Rn=null!==(me=null===(H=D.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==me?me:null===(Se=D.notification)||void 0===Se?void 0:Se.click_action;Rn&&(S.fcmOptions.link=Rn);const Nn=null===(Je=D.fcmOptions)||void 0===Je?void 0:Je.analytics_label;Nn&&(S.fcmOptions.analyticsLabel=Nn)}(D,S),D}function ur(S,D){const N=[];for(let H=0;H<S.length;H++)N.push(S.charAt(H)),H<D.length&&N.push(D.charAt(H));return N.join("")}function ns(S){return P.create("missing-app-config-values",{valueName:S})}ur("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ur("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wr{constructor(D,N,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const me=function Nr(S){if(!S||!S.options)throw ns("App Configuration Object");if(!S.name)throw ns("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:N}=S;for(const H of D)if(!N[H])throw ns(H);return{appName:S.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:me,installations:N,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Ui(S){return We.apply(this,arguments)}function We(){return(We=(0,Z.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(si,{scope:mi}),S.swRegistration.update().catch(()=>{})}catch(D){throw P.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Tn(){return(Tn=(0,Z.Z)(function*(S,D){if(!D&&!S.swRegistration&&(yield Ui(S)),D||!S.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw P.create("invalid-sw-registration");S.swRegistration=D}})).apply(this,arguments)}function rs(){return(rs=(0,Z.Z)(function*(S,D){D?S.vapidKey=D:S.vapidKey||(S.vapidKey=yi)})).apply(this,arguments)}function Bi(){return Bi=(0,Z.Z)(function*(S,D){if(!navigator)throw P.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw P.create("permission-blocked");return yield function ai(S,D){return rs.apply(this,arguments)}(S,D?.vapidKey),yield function At(S,D){return Tn.apply(this,arguments)}(S,D?.serviceWorkerRegistration),function Fs(S){return Ls.apply(this,arguments)}(S)}),Bi.apply(this,arguments)}function lo(){return(lo=(0,Z.Z)(function*(S,D,N){const H=function ja(S){switch(S){case gn.NOTIFICATION_CLICKED:return"notification_open";case gn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:N[Fn],message_name:N[Hr],message_time:N[qt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function co(){return co=(0,Z.Z)(function*(S,D){const N=D.data;if(!N.isFirebaseMessaging)return;S.onMessageHandler&&N.messageType===gn.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(wr(N)):S.onMessageHandler.next(wr(N)));const H=N.data;(function Zt(S){return"object"==typeof S&&!!S&&Fn in S})(H)&&"1"===H[nt]&&(yield function xn(S,D,N){return lo.apply(this,arguments)}(S,N.messageType,H))}),co.apply(this,arguments)}const Ko="@firebase/messaging",Yo=S=>{const D=new Wr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Lt(S,D){return co.apply(this,arguments)}(D,N)),D},Pr=S=>{const D=S.getProvider("messaging").getImmediate();return{getToken:H=>function nr(S,D){return Bi.apply(this,arguments)}(D,H)}};function Vs(){return vi.apply(this,arguments)}function vi(){return(vi=(0,Z.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Or(){(0,W._registerComponent)(new Ee.wA("messaging",Yo,"PUBLIC")),(0,W._registerComponent)(new Ee.wA("messaging-internal",Pr,"PRIVATE")),(0,W.registerVersion)(Ko,"0.12.4"),(0,W.registerVersion)(Ko,"0.12.4","esm2017")}();var ho=R(3008),kr=R(727);class Hv extends kr.w0{constructor(D,N){super()}schedule(D,N=0){return this}}const Er={setInterval(S,D,...N){const{delegate:H}=Er;return H?.setInterval?H.setInterval(S,D,...N):setInterval(S,D,...N)},clearInterval(S){const{delegate:D}=Er;return(D?.clearInterval||clearInterval)(S)},delegate:void 0};var Ai=R(8737);class za extends Hv{constructor(D,N){super(D,N),this.scheduler=D,this.work=N,this.pending=!1}schedule(D,N=0){var H;if(this.closed)return this;this.state=D;const me=this.id,Se=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(Se,me,N)),this.pending=!0,this.delay=N,this.id=null!==(H=this.id)&&void 0!==H?H:this.requestAsyncId(Se,this.id,N),this}requestAsyncId(D,N,H=0){return Er.setInterval(D.flush.bind(D,this),H)}recycleAsyncId(D,N,H=0){if(null!=H&&this.delay===H&&!1===this.pending)return N;null!=N&&Er.clearInterval(N)}execute(D,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const H=this._execute(D,N);if(H)return H;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,N){let me,H=!1;try{this.work(D)}catch(Se){H=!0,me=Se||new Error("Scheduled action threw falsy error")}if(H)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:D,scheduler:N}=this,{actions:H}=N;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ai.P)(H,this),null!=D&&(this.id=this.recycleAsyncId(N,D,null)),this.delay=null,super.unsubscribe()}}}const Xo={now:()=>(Xo.delegate||Date).now(),delegate:void 0};class Fr{constructor(D,N=Fr.now){this.schedulerActionCtor=D,this.now=N}schedule(D,N=0,H){return new this.schedulerActionCtor(this,D).schedule(H,N)}}Fr.now=Xo.now;class wl extends Fr{constructor(D,N=Fr.now){super(D,N),this.actions=[],this._active=!1}flush(D){const{actions:N}=this;if(this._active)return void N.push(D);let H;this._active=!0;do{if(H=D.execute(D.state,D.delay))break}while(D=N.shift());if(this._active=!1,H){for(;D=N.shift();)D.unsubscribe();throw H}}}const Op=new class Gv extends wl{}(class Zo extends za{constructor(D,N){super(D,N),this.scheduler=D,this.work=N}schedule(D,N=0){return N>0?super.schedule(D,N):(this.delay=N,this.state=D,this.scheduler.flush(this),this)}execute(D,N){return N>0||this.closed?super.execute(D,N):this._execute(D,N)}requestAsyncId(D,N,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(D,N,H):(D.flush(this),0)}}),yd=new wl(za);var Wv=R(9751),sD=R(8505),Fp=R(9468),_d=R(5363);const qv=new g.GfV("7.5.0"),vd="__angularfire_symbol__analyticsIsSupportedValue",wd="__angularfire_symbol__analyticsIsSupported",Lp="__angularfire_symbol__remoteConfigIsSupportedValue",Vp="__angularfire_symbol__remoteConfigIsSupported",Up="__angularfire_symbol__messagingIsSupportedValue",El="__angularfire_symbol__messagingIsSupported";function Us(S,D,N){if(D){if(1===D.length)return D[0];const Se=D.filter(Je=>Je.app===N);if(1===Se.length)return Se[0]}return N.container.getProvider(S).getImmediate({optional:!0})}globalThis[wd]||(globalThis[wd]=(0,ho.Gb)().then(S=>globalThis[vd]=S).catch(()=>globalThis[vd]=!1)),globalThis[El]||(globalThis[El]=Vs().then(S=>globalThis[Up]=S).catch(()=>globalThis[Up]=!1)),globalThis[Vp]||(globalThis[Vp]=jr().then(S=>globalThis[Lp]=S).catch(()=>globalThis[Lp]=!1));const Yv=(S,D)=>{const N=D?[D]:(0,z.C6)(),H=[];return N.forEach(me=>{me.container.getProvider(S).instances.forEach(Je=>{H.includes(Je)||H.push(Je)})}),H};function is(){}class Ed{constructor(D,N=Op){this.zone=D,this.delegate=N}now(){return this.delegate.now()}schedule(D,N,H){const me=this.zone;return this.delegate.schedule(function(Je){me.runGuarded(()=>{D.apply(this,[Je])})},N,H)}}class Cl{constructor(D){this.zone=D,this.task=null}call(D,N){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",is,{},is,is)),N.pipe((0,sD.b)({next:H,complete:H,error:H})).subscribe(D).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qv=(()=>{class S{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Ed(Zone.current)),this.insideAngular=N.run(()=>new Ed(Zone.current,yd)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(N){return new(N||S)(g.LFG(g.R0b))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ws(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Bs(S){return ws().ngZone.run(()=>S())}function Lr(S){return ws(),function Cd(S){return function(N){return(N=N.lift(new Cl(S.ngZone))).pipe((0,Fp.R)(S.outsideAngular),(0,_d.Q)(S.insideAngular))}}(ws())(S)}const bd=(S,D)=>function(){const H=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Bs(()=>S.apply(void 0,H))},Ir=(S,D)=>function(){let N;const H=arguments;for(let Se=0;Se<arguments.length;Se++)"function"==typeof H[Se]&&(D&&(N||(N=Bs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",is,{},is,is)))),H[Se]=bd(H[Se],N));const me=function Id(S){return ws().ngZone.runOutsideAngular(()=>S())}(()=>S.apply(this,H));if(!D){if(me instanceof Wv.y){const Se=ws();return me.pipe((0,Fp.R)(Se.outsideAngular),(0,_d.Q)(Se.insideAngular))}return Bs(()=>me)}return me instanceof Wv.y?me.pipe(Lr):me instanceof Promise?Bs(()=>new Promise((Se,Je)=>me.then(Rn=>Bs(()=>Se(Rn)),Rn=>Bs(()=>Je(Rn))))):"function"==typeof me&&N?function(){return setTimeout(()=>{N&&"scheduled"===N.state&&N.invoke()},10),me.apply(this,arguments)}:Bs(()=>me)}},2090:(ft,De,R)=>{R.d(De,{$s:()=>wt,BH:()=>Te,DV:()=>ii,GJ:()=>$r,L:()=>ye,LL:()=>ze,P0:()=>Pe,Pz:()=>Me,Sg:()=>qe,UI:()=>sn,US:()=>Ee,Wl:()=>Wt,Yr:()=>j,ZB:()=>ee,ZR:()=>Dt,aH:()=>Ue,b$:()=>Et,cI:()=>rt,dS:()=>_i,eu:()=>oe,g5:()=>Z,gK:()=>er,gQ:()=>Hr,h$:()=>Ge,hl:()=>te,hu:()=>z,jU:()=>_e,m9:()=>ln,ne:()=>qt,p$:()=>V,pd:()=>Fn,q4:()=>Ft,r3:()=>un,ru:()=>Qe,tV:()=>L,uI:()=>re,ug:()=>Ht,vZ:()=>_n,w1:()=>q,w9:()=>vr,xO:()=>yi,xb:()=>jr,z$:()=>he,zI:()=>ke,zd:()=>Jn});const g={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},z=function(O,C){if(!O)throw Z(C)},Z=function(O){return new Error("Firebase Database ("+g.SDK_VERSION+") INTERNAL ASSERT FAILED: "+O)},W=function(O){const C=[];let A=0;for(let B=0;B<O.length;B++){let P=O.charCodeAt(B);P<128?C[A++]=P:P<2048?(C[A++]=P>>6|192,C[A++]=63&P|128):55296==(64512&P)&&B+1<O.length&&56320==(64512&O.charCodeAt(B+1))?(P=65536+((1023&P)<<10)+(1023&O.charCodeAt(++B)),C[A++]=P>>18|240,C[A++]=P>>12&63|128,C[A++]=P>>6&63|128,C[A++]=63&P|128):(C[A++]=P>>12|224,C[A++]=P>>6&63|128,C[A++]=63&P|128)}return C},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(O,C){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const A=C?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let P=0;P<O.length;P+=3){const ie=O[P],Ae=P+1<O.length,Xe=Ae?O[P+1]:0,It=P+2<O.length,mt=It?O[P+2]:0;let en=(15&Xe)<<2|mt>>6,vn=63&mt;It||(vn=64,Ae||(en=64)),B.push(A[ie>>2],A[(3&ie)<<4|Xe>>4],A[en],A[vn])}return B.join("")},encodeString(O,C){return this.HAS_NATIVE_SUPPORT&&!C?btoa(O):this.encodeByteArray(W(O),C)},decodeString(O,C){return this.HAS_NATIVE_SUPPORT&&!C?atob(O):function(O){const C=[];let A=0,B=0;for(;A<O.length;){const P=O[A++];if(P<128)C[B++]=String.fromCharCode(P);else if(P>191&&P<224){const ie=O[A++];C[B++]=String.fromCharCode((31&P)<<6|63&ie)}else if(P>239&&P<365){const It=((7&P)<<18|(63&O[A++])<<12|(63&O[A++])<<6|63&O[A++])-65536;C[B++]=String.fromCharCode(55296+(It>>10)),C[B++]=String.fromCharCode(56320+(1023&It))}else{const ie=O[A++],Ae=O[A++];C[B++]=String.fromCharCode((15&P)<<12|(63&ie)<<6|63&Ae)}}return C.join("")}(this.decodeStringToByteArray(O,C))},decodeStringToByteArray(O,C){this.init_();const A=C?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let P=0;P<O.length;){const ie=A[O.charAt(P++)],Xe=P<O.length?A[O.charAt(P)]:0;++P;const mt=P<O.length?A[O.charAt(P)]:64;++P;const dt=P<O.length?A[O.charAt(P)]:64;if(++P,null==ie||null==Xe||null==mt||null==dt)throw new Re;B.push(ie<<2|Xe>>4),64!==mt&&(B.push(Xe<<4&240|mt>>2),64!==dt&&B.push(mt<<6&192|dt))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(O){const C=W(O);return Ee.encodeByteArray(C,!0)},ye=function(O){return Ge(O).replace(/\./g,"")},L=function(O){try{return Ee.decodeString(O,!0)}catch(C){console.error("base64Decode failed: ",C)}return null};function V(O){return ee(void 0,O)}function ee(O,C){if(!(C instanceof Object))return C;switch(C.constructor){case Date:return new Date(C.getTime());case Object:void 0===O&&(O={});break;case Array:O=[];break;default:return C}for(const A in C)!C.hasOwnProperty(A)||!Ce(A)||(O[A]=ee(O[A],C[A]));return O}function Ce(O){return"__proto__"!==O}const Ze=()=>{try{return function X(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const O=process.env.__FIREBASE_DEFAULTS__;return O?JSON.parse(O):void 0})()||(()=>{if(typeof document>"u")return;let O;try{O=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const C=O&&L(O[1]);return C&&JSON.parse(C)})()}catch(O){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${O}`)}},Ft=O=>{var C,A;return null===(A=null===(C=Ze())||void 0===C?void 0:C.emulatorHosts)||void 0===A?void 0:A[O]},Pe=O=>{const C=Ft(O);if(!C)return;const A=C.lastIndexOf(":");if(A<=0||A+1===C.length)throw new Error(`Invalid host ${C} with no separate hostname and port!`);const B=parseInt(C.substring(A+1),10);return"["===C[0]?[C.substring(1,A-1),B]:[C.substring(0,A),B]},Ue=()=>{var O;return null===(O=Ze())||void 0===O?void 0:O.config},Me=O=>{var C;return null===(C=Ze())||void 0===C?void 0:C[`_${O}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((C,A)=>{this.resolve=C,this.reject=A})}wrapCallback(C){return(A,B)=>{A?this.reject(A):this.resolve(B),"function"==typeof C&&(this.promise.catch(()=>{}),1===C.length?C(A):C(A,B))}}}function qe(O,C){if(O.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=C||"demo-project",P=O.iat||0,ie=O.sub||O.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ae=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:P,exp:P+3600,auth_time:P,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},O);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Ae)),""].join(".")}function he(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function _e(){return"object"==typeof self&&self.self===self}function Qe(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function q(){const O=he();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function j(){return!0===g.NODE_CLIENT||!0===g.NODE_ADMIN}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((O,C)=>{try{let A=!0;const B="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(B);P.onsuccess=()=>{P.result.close(),A||self.indexedDB.deleteDatabase(B),O(!0)},P.onupgradeneeded=()=>{A=!1},P.onerror=()=>{var ie;C((null===(ie=P.error)||void 0===ie?void 0:ie.message)||"")}}catch(A){C(A)}})}function ke(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Dt extends Error{constructor(C,A,B){super(A),this.code=C,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,Dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(C,A,B){this.service=C,this.serviceName=A,this.errors=B}create(C,...A){const B=A[0]||{},P=`${this.service}/${C}`,ie=this.errors[C],Ae=ie?function vt(O,C){return O.replace(Ve,(A,B)=>{const P=C[B];return null!=P?String(P):`<${B}?>`})}(ie,B):"Error";return new Dt(P,`${this.serviceName}: ${Ae} (${P}).`,B)}}const Ve=/\{\$([^}]+)}/g;function rt(O){return JSON.parse(O)}function Wt(O){return JSON.stringify(O)}const Tt=function(O){let C={},A={},B={},P="";try{const ie=O.split(".");C=rt(L(ie[0])||""),A=rt(L(ie[1])||""),P=ie[2],B=A.d||{},delete A.d}catch{}return{header:C,claims:A,data:B,signature:P}},vr=function(O){const A=Tt(O).claims;return!!A&&"object"==typeof A&&A.hasOwnProperty("iat")},$r=function(O){const C=Tt(O).claims;return"object"==typeof C&&!0===C.admin};function un(O,C){return Object.prototype.hasOwnProperty.call(O,C)}function ii(O,C){if(Object.prototype.hasOwnProperty.call(O,C))return O[C]}function jr(O){for(const C in O)if(Object.prototype.hasOwnProperty.call(O,C))return!1;return!0}function sn(O,C,A){const B={};for(const P in O)Object.prototype.hasOwnProperty.call(O,P)&&(B[P]=C.call(A,O[P],P,O));return B}function _n(O,C){if(O===C)return!0;const A=Object.keys(O),B=Object.keys(C);for(const P of A){if(!B.includes(P))return!1;const ie=O[P],Ae=C[P];if(si(ie)&&si(Ae)){if(!_n(ie,Ae))return!1}else if(ie!==Ae)return!1}for(const P of B)if(!A.includes(P))return!1;return!0}function si(O){return null!==O&&"object"==typeof O}function yi(O){const C=[];for(const[A,B]of Object.entries(O))Array.isArray(B)?B.forEach(P=>{C.push(encodeURIComponent(A)+"="+encodeURIComponent(P))}):C.push(encodeURIComponent(A)+"="+encodeURIComponent(B));return C.length?"&"+C.join("&"):""}function Jn(O){const C={};return O.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[P,ie]=B.split("=");C[decodeURIComponent(P)]=decodeURIComponent(ie)}}),C}function Fn(O){const C=O.indexOf("?");if(!C)return"";const A=O.indexOf("#",C);return O.substring(C,A>0?A:void 0)}class Hr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let C=1;C<this.blockSize;++C)this.pad_[C]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(C,A){A||(A=0);const B=this.W_;if("string"==typeof C)for(let dt=0;dt<16;dt++)B[dt]=C.charCodeAt(A)<<24|C.charCodeAt(A+1)<<16|C.charCodeAt(A+2)<<8|C.charCodeAt(A+3),A+=4;else for(let dt=0;dt<16;dt++)B[dt]=C[A]<<24|C[A+1]<<16|C[A+2]<<8|C[A+3],A+=4;for(let dt=16;dt<80;dt++){const en=B[dt-3]^B[dt-8]^B[dt-14]^B[dt-16];B[dt]=4294967295&(en<<1|en>>>31)}let mt,Ct,P=this.chain_[0],ie=this.chain_[1],Ae=this.chain_[2],Xe=this.chain_[3],It=this.chain_[4];for(let dt=0;dt<80;dt++){dt<40?dt<20?(mt=Xe^ie&(Ae^Xe),Ct=1518500249):(mt=ie^Ae^Xe,Ct=1859775393):dt<60?(mt=ie&Ae|Xe&(ie|Ae),Ct=2400959708):(mt=ie^Ae^Xe,Ct=3395469782);const en=(P<<5|P>>>27)+mt+It+Ct+B[dt]&4294967295;It=Xe,Xe=Ae,Ae=4294967295&(ie<<30|ie>>>2),ie=P,P=en}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+ie&4294967295,this.chain_[2]=this.chain_[2]+Ae&4294967295,this.chain_[3]=this.chain_[3]+Xe&4294967295,this.chain_[4]=this.chain_[4]+It&4294967295}update(C,A){if(null==C)return;void 0===A&&(A=C.length);const B=A-this.blockSize;let P=0;const ie=this.buf_;let Ae=this.inbuf_;for(;P<A;){if(0===Ae)for(;P<=B;)this.compress_(C,P),P+=this.blockSize;if("string"==typeof C){for(;P<A;)if(ie[Ae]=C.charCodeAt(P),++Ae,++P,Ae===this.blockSize){this.compress_(ie),Ae=0;break}}else for(;P<A;)if(ie[Ae]=C[P],++Ae,++P,Ae===this.blockSize){this.compress_(ie),Ae=0;break}}this.inbuf_=Ae,this.total_+=A}digest(){const C=[];let A=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&A,A/=256;this.compress_(this.buf_);let B=0;for(let P=0;P<5;P++)for(let ie=24;ie>=0;ie-=8)C[B]=this.chain_[P]>>ie&255,++B;return C}}function qt(O,C){const A=new nt(O,C);return A.subscribe.bind(A)}class nt{constructor(C,A){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=A,this.task.then(()=>{C(this)}).catch(B=>{this.error(B)})}next(C){this.forEachObserver(A=>{A.next(C)})}error(C){this.forEachObserver(A=>{A.error(C)}),this.close(C)}complete(){this.forEachObserver(C=>{C.complete()}),this.close()}subscribe(C,A,B){let P;if(void 0===C&&void 0===A&&void 0===B)throw new Error("Missing Observer.");P=function gn(O,C){if("object"!=typeof O||null===O)return!1;for(const A of C)if(A in O&&"function"==typeof O[A])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:A,complete:B},void 0===P.next&&(P.next=dn),void 0===P.error&&(P.error=dn),void 0===P.complete&&(P.complete=dn);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),ie}unsubscribeOne(C){void 0===this.observers||void 0===this.observers[C]||(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let A=0;A<this.observers.length;A++)this.sendOne(A,C)}sendOne(C,A){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{A(this.observers[C])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}function er(O,C){return`${O} failed: ${C} argument `}const _i=function(O){const C=[];let A=0;for(let B=0;B<O.length;B++){let P=O.charCodeAt(B);if(P>=55296&&P<=56319){const ie=P-55296;B++,z(B<O.length,"Surrogate pair missing trail surrogate."),P=65536+(ie<<10)+(O.charCodeAt(B)-56320)}P<128?C[A++]=P:P<2048?(C[A++]=P>>6|192,C[A++]=63&P|128):P<65536?(C[A++]=P>>12|224,C[A++]=P>>6&63|128,C[A++]=63&P|128):(C[A++]=P>>18|240,C[A++]=P>>12&63|128,C[A++]=P>>6&63|128,C[A++]=63&P|128)}return C},Ht=function(O){let C=0;for(let A=0;A<O.length;A++){const B=O.charCodeAt(A);B<128?C++:B<2048?C+=2:B>=55296&&B<=56319?(C+=4,A++):C+=3}return C},zr=1e3,$e=2,de=144e5,Ye=.5;function wt(O,C=zr,A=$e){const B=C*Math.pow(A,O),P=Math.round(Ye*B*(Math.random()-.5)*2);return Math.min(de,B+P)}function ln(O){return O&&O._delegate?O._delegate:O}},896:(ft,De,R)=>{var g=R(8256);let z=null;function Z(){return z}class ce{}const Ee=new g.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Ge(){return(0,g.LFG)(L)}()},providedIn:"platform"}),n})();const ye=new g.OlP("Location Initialized");let L=(()=>{class n extends Re{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(t){const r=Z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){V()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){V()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ee))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function ee(){return new L((0,g.LFG)(Ee))}()},providedIn:"platform"}),n})();function V(){return!!window.history.pushState}function Ce(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function X(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(Ze)},providedIn:"root"}),n})();const _t=new g.OlP("appBaseHref");let Ze=(()=>{class n extends Ne{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ce(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+Le(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+Le(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Re),g.LFG(_t,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ft=(()=>{class n extends Ne{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ce(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+Le(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+Le(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Re),g.LFG(_t,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(X(Te(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function Me(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Ce,n.stripTrailingSlash=X,n.\u0275fac=function(t){return new(t||n)(g.LFG(Ne))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Ue(){return new Pe((0,g.LFG)(Ne))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}function Rr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class Ui{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let We=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ui(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,l),At(h,i)}});for(let i=0,a=r.length;i<a;i++){const h=r.get(i).context;h.index=i,h.count=a,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{At(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function At(n,e){n.context.$implicit=e.item}let ai=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new rs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class rs{constructor(){this.$implicit=null,this.ngIf=null}}function nr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,g.AaK)(e)}'.`)}let Fp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();let oD=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new aD((0,g.LFG)(Ee),window)}),n})();class aD{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Us(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Kv(this.window.history)||Kv(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kv(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class is{}class mD extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hp extends mD{static makeCurrent(){!function W(n){z||(z=n)}(new Hp)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Sd(){return Tl=Tl||document.querySelector("base"),Tl?Tl.getAttribute("href"):null}();return null==t?null:function Ad(n){ta=ta||document.createElement("a"),ta.setAttribute("href",n);const e=ta.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Tl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rr(document.cookie,e)}}let ta,Tl=null;const Md=new g.OlP("TRANSITION_ID"),yD=[{provide:g.ip1,useFactory:function iw(n,e,t){return()=>{t.get(g.CZH).donePromise.then(()=>{const r=Z(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Md,Ee,g.zs3],multi:!0}];let Sl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const xd=new g.OlP("EventManagerPlugins");let Gp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(xd),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Rd{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Z().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let _D=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Al=(()=>{class n extends _D{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ee))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const zp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sw=/%COMP%/g,Wp=new g.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function lw(n,e){return e.flat(100).map(t=>t.replace(sw,n))}function xl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Rl=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Qa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof cw?i.applyToHost(t):i instanceof ji&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(r.encapsulation){case g.ifc.Emulated:a=new cw(l,h,r,this.appId,p);break;case g.ifc.ShadowDom:return new wD(l,h,t,r);default:a=new ji(l,h,r,p)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Gp),g.LFG(Al),g.LFG(g.AFp),g.LFG(Wp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Qa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(zp[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Kp(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Kp(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=zp[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=zp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,i&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xl(r)):this.eventManager.addEventListener(e,t,xl(r))}}function Kp(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wD extends Qa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=lw(i.id,i.styles);for(const l of a){const h=document.createElement("style");h.textContent=l,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ji extends Qa{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=lw(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class cw extends ji{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function uw(n){return"_ngcontent-%COMP%".replace(sw,n)}(l),this.hostAttr=function Pd(n){return"_nghost-%COMP%".replace(sw,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Od=(()=>{class n extends Rd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ee))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const kd=["alt","control","meta","shift"],dw={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qp=(()=>{class n extends Rd{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Z().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),l="code."),kd.forEach(y=>{const w=r.indexOf(y);w>-1&&(r.splice(w,1),l+=y+".")}),l+=a,0!=r.length||0===a.length)return null;const p={};return p.domEventName=i,p.fullKey=l,p}static matchEventFullKeyCode(t,r){let i=dw[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kd.forEach(l=>{l!==i&&(0,Yp[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ee))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const fw=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function bD(){Hp.makeCurrent()},multi:!0},{provide:Ee,useFactory:function na(){return(0,g.RDi)(document),document},deps:[]}]),Jp=new g.OlP(""),ra=[{provide:g.rWj,useClass:class Ya{addToWindow(e){g.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const i=g.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const h=function(p){l=l||p,a--,0==a&&r(l)};i.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Z().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],pw=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Fd(){return new g.qLn},deps:[]},{provide:xd,useClass:Od,multi:!0,deps:[Ee,g.R0b,g.Lbi]},{provide:xd,useClass:Qp,multi:!0,deps:[Ee]},{provide:Rl,useClass:Rl,deps:[Gp,Al,g.AFp,Wp]},{provide:g.FYo,useExisting:Rl},{provide:_D,useExisting:Al},{provide:Al,useClass:Al,deps:[Ee]},{provide:Gp,useClass:Gp,deps:[xd,g.R0b]},{provide:is,useClass:Sl,deps:[]},[]];let gw=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId},{provide:Md,useExisting:g.AFp},yD]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Jp,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...pw,...ra],imports:[Fp,g.hGG]}),n})(),ia=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ee))},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function eg(){return new ia((0,g.LFG)(Ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Bn=R(8996),Xa=R(7669);function gt(...n){const e=(0,Xa.yG)(n);return(0,Bn.D)(n,e)}var Ja=R(7579);class Cs extends Ja.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const eu=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hi=R(9751);const{isArray:iO}=Array,{getPrototypeOf:ww,prototype:AD,keys:MD}=Object;function Ew(n){if(1===n.length){const e=n[0];if(iO(e))return{args:e,keys:null};if(function xD(n){return n&&"object"==typeof n&&ww(n)===AD}(e)){const t=MD(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Vd=R(4671),$t=R(4004);const{isArray:rg}=Array;function Bd(n){return(0,$t.U)(e=>function Ud(n,e){return rg(e)?n(...e):n(e)}(n,e))}function tu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ui=R(5403),Pl=R(9672);function Iw(...n){const e=(0,Xa.yG)(n),t=(0,Xa.jO)(n),{args:r,keys:i}=Ew(n);if(0===r.length)return(0,Bn.D)([],e);const a=new Hi.y(function Cw(n,e,t=Vd.y){return r=>{nu(e,()=>{const{length:i}=n,a=new Array(i);let l=i,h=i;for(let p=0;p<i;p++)nu(e,()=>{const y=(0,Bn.D)(n[p],e);let w=!1;y.subscribe((0,ui.x)(r,E=>{a[p]=E,w||(w=!0,h--),h||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>tu(i,l):Vd.y));return t?a.pipe(Bd(t)):a}function nu(n,e,t){n?(0,Pl.f)(t,n,e):e()}var go=R(8189);function ig(...n){return function bw(){return(0,go.J)(1)}()((0,Bn.D)(n,(0,Xa.yG)(n)))}var $d=R(8421);function oa(n){return new Hi.y(e=>{(0,$d.Xf)(n()).subscribe(e)})}var Ol=R(9635),Dw=R(576);function jd(n,e){const t=(0,Dw.m)(n)?n:()=>n,r=i=>i.error(t());return new Hi.y(e?i=>e.schedule(r,0,i):r)}var js=R(515),Tw=R(727),Gi=R(4482);function sg(){return(0,Gi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ui.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Sw extends Hi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Gi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tw.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ui.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tw.w0.EMPTY)}return e}refCount(){return sg()(this)}}function bs(n,e){return(0,Gi.e)((t,r)=>{let i=null,a=0,l=!1;const h=()=>l&&!i&&r.complete();t.subscribe((0,ui.x)(r,p=>{i?.unsubscribe();let y=0;const w=a++;(0,$d.Xf)(n(p,w)).subscribe(i=(0,ui.x)(r,E=>r.next(e?e(p,E,w,y++):E),()=>{i=null,h()}))},()=>{l=!0,h()}))})}function mo(n){return n<=0?()=>js.E:(0,Gi.e)((e,t)=>{let r=0;e.subscribe((0,ui.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hs(n,e){return(0,Gi.e)((t,r)=>{let i=0;t.subscribe((0,ui.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Yr=R(5577);function og(n){return(0,Gi.e)((e,t)=>{let r=!1;e.subscribe((0,ui.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ag(n=sO){return(0,Gi.e)((e,t)=>{let r=!1;e.subscribe((0,ui.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function sO(){return new eu}function yo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hs((i,a)=>n(i,a,r)):Vd.y,mo(1),t?og(e):ag(()=>new eu))}function _o(n,e){return(0,Dw.m)(e)?(0,Yr.z)(n,e,1):(0,Yr.z)(n,1)}var br=R(8505);function aa(n){return(0,Gi.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,ui.x)(t,void 0,void 0,l=>{a=(0,$d.Xf)(n(l,aa(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Hd(n,e){return(0,Gi.e)(function oO(n,e,t,r,i){return(a,l)=>{let h=t,p=e,y=0;a.subscribe((0,ui.x)(l,w=>{const E=y++;p=h?n(p,w,E):(h=!0,w),r&&l.next(p)},i&&(()=>{h&&l.next(p),l.complete()})))}}(n,e,arguments.length>=2,!0))}function Mw(n){return n<=0?()=>js.E:(0,Gi.e)((e,t)=>{let r=[];e.subscribe((0,ui.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function RD(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hs((i,a)=>n(i,a,r)):Vd.y,Mw(1),t?og(e):ag(()=>new eu))}function xw(n){return(0,Gi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Nt="primary",ru=Symbol("RouteTitle");class ug{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ua(n){return new ug(n)}function Rw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],h=n[a];if(l.startsWith(":"))i[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function lr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Pw(n[i],e[i]))return!1;return!0}function Pw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Ow(n){return Array.prototype.concat.apply([],n)}function kw(n){return n.length>0?n[n.length-1]:null}function cr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function vo(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,Bn.D)(Promise.resolve(n)):gt(n)}const Gd=!1,PD={exact:function li(n,e,t){if(!wo(n.segments,e.segments)||!dr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!li(n.children[r],e.children[r],t))return!1;return!0},subset:dg},lg={exact:function OD(n,e){return lr(n,e)},subset:function cg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Pw(n[t],e[t]))},ignored:()=>!0};function Fw(n,e,t){return PD[t.paths](n.root,e.root,t.matrixParams)&&lg[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function dg(n,e,t){return zd(n,e,e.segments,t)}function zd(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wo(i,t)||e.hasChildren()||!dr(i,t,r))}if(n.segments.length===t.length){if(!wo(n.segments,t)||!dr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!dg(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(wo(n.segments,i)&&dr(n.segments,i,r)&&n.children[Nt])&&zd(n.children[Nt],e,a,r)}}function dr(n,e,t){return e.every((r,i)=>lg[t](n[i].parameters,r.parameters))}class zi{constructor(e=new jt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ua(this.queryParams)),this._queryParamMap}toString(){return Lw.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,cr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wd(this)}}class iu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ua(this.parameters)),this._parameterMap}toString(){return Yd(this)}}function wo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let su=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return new hg},providedIn:"root"}),n})();class hg{parse(e){const t=new BD(e);return new zi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${kl(e.root,!0)}`,r=function Uw(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ou(t)}=${ou(i)}`).join("&"):`${ou(t)}=${ou(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function LD(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Lw=new hg;function Wd(n){return n.segments.map(e=>Yd(e)).join("/")}function kl(n,e){if(!n.hasChildren())return Wd(n);if(e){const t=n.children[Nt]?kl(n.children[Nt],!1):"",r=[];return cr(n.children,(i,a)=>{a!==Nt&&r.push(`${a}:${kl(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function FD(n,e){let t=[];return cr(n.children,(r,i)=>{i===Nt&&(t=t.concat(e(r,i)))}),cr(n.children,(r,i)=>{i!==Nt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Nt?[kl(n.children[Nt],!1)]:[`${i}:${kl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nt]?`${Wd(n)}/${t[0]}`:`${Wd(n)}/(${t.join("//")})`}}function qd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ou(n){return qd(n).replace(/%3B/gi,";")}function la(n){return qd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kd(n){return decodeURIComponent(n)}function Vw(n){return Kd(n.replace(/\+/g,"%20"))}function Yd(n){return`${la(n.path)}${function fg(n){return Object.keys(n).map(e=>`;${la(e)}=${la(n[e])}`).join("")}(n.parameters)}`}const au=/^[^\/()?;=#]+/;function uu(n){const e=n.match(au);return e?e[0]:""}const Bw=/^[^=?&#]+/,pg=/^[^&#]+/;class BD{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Nt]=new jt(e,t)),r}parseSegment(){const e=uu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new g.vHH(4009,Gd);return this.capture(e),new iu(Kd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=uu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=uu(this.remaining);i&&(r=i,this.capture(r))}e[Kd(t)]=Kd(r)}parseQueryParam(e){const t=function VD(n){const e=n.match(Bw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function UD(n){const e=n.match(pg);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Vw(t),a=Vw(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new g.vHH(4010,Gd);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Nt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Nt]:new jt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new g.vHH(4011,Gd)}}function gg(n){return n.segments.length>0?new jt([],{[Nt]:n}):n}function Qd(n){const e={};for(const r of Object.keys(n.children)){const a=Qd(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function $D(n){if(1===n.numberOfChildren&&n.children[Nt]){const e=n.children[Nt];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}function ca(n){return n instanceof zi}const Zd=!1;function jD(n,e,t,r,i){if(0===t.length)return da(e.root,e.root,e.root,r,i);const a=function _g(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return cr(a.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new yg(t,e,r)}(t);return a.toRoot()?da(e.root,e.root,new jt([],{}),r,i):function l(p){const y=function Jd(n,e,t,r){if(n.isAbsolute)return new cu(e.root,!0,0);if(-1===r)return new cu(t,t===e.root,0);return function jw(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new g.vHH(4005,Zd&&"Invalid number of '../'");i=r.segments.length}return new cu(r,!1,i-a)}(t,r+(Fl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,p),w=y.processChildren?ha(y.segmentGroup,y.index,a.commands):eh(y.segmentGroup,y.index,a.commands);return da(e.root,y.segmentGroup,w,r,i)}(n.snapshot?._lastPathIndex)}function Fl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lu(n){return"object"==typeof n&&null!=n&&n.outlets}function da(n,e,t,r,i){let l,a={};r&&cr(r,(p,y)=>{a[y]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),l=n===e?t:Eo(n,e,t);const h=gg(Qd(l));return new zi(h,a,i)}function Eo(n,e,t){const r={};return cr(n.children,(i,a)=>{r[a]=i===e?t:Eo(i,e,t)}),new jt(n.segments,r)}class yg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fl(r[0]))throw new g.vHH(4003,Zd&&"Root segment cannot have matrix parameters");const i=r.find(lu);if(i&&i!==kw(r))throw new g.vHH(4004,Zd&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function eh(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return ha(n,e,t);const r=function vg(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],h=t[r];if(lu(h))break;const p=`${h}`,y=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!wg(p,y,l))return a;r+=2}else{if(!wg(p,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new jt(n.segments.slice(0,r.pathIndex),{});return a.children[Nt]=new jt(n.segments.slice(r.pathIndex),n.children),ha(a,0,i)}return r.match&&0===i.length?new jt(n.segments,{}):r.match&&!n.hasChildren()?th(n,e,t):r.match?ha(n,0,i):th(n,e,t)}function ha(n,e,t){if(0===t.length)return new jt(n.segments,{});{const r=function Hw(n){return lu(n[0])?n[0].outlets:{[Nt]:n}}(t),i={};return!r[Nt]&&n.children[Nt]&&1===n.numberOfChildren&&0===n.children[Nt].segments.length?ha(n.children[Nt],e,t):(cr(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=eh(n.children[l],e,a))}),cr(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new jt(n.segments,i))}}function th(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(lu(a)){const p=nh(a.outlets);return new jt(r,p)}if(0===i&&Fl(t[0])){r.push(new iu(n.segments[e].path,Ll(t[0]))),i++;continue}const l=lu(a)?a.outlets[Nt]:`${a}`,h=i<t.length-1?t[i+1]:null;l&&h&&Fl(h)?(r.push(new iu(l,Ll(h))),i+=2):(r.push(new iu(l,{})),i++)}return new jt(r,{})}function nh(n){const e={};return cr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=th(new jt([],{}),0,t))}),e}function Ll(n){const e={};return cr(n,(t,r)=>e[r]=`${t}`),e}function wg(n,e,t){return n==t.path&&lr(e,t.parameters)}const fa="imperative";class Wi{constructor(e,t){this.id=e,this.url=t}}class Vl extends Wi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends Wi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rh extends Wi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ul extends Wi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Eg extends Wi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HD extends Wi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GD extends Wi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gw extends Wi{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zw extends Wi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ih extends Wi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ig{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class du{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WD{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cO{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qD{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sh{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let oh=(()=>{class n{createUrlTree(t,r,i,a,l,h){return jD(t||r.root,i,a,l,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(e){return oh.\u0275fac(e)},providedIn:"root"}),n})();class bg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ah(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ah(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uh(e,this._root).map(t=>t.value)}}function ah(n,e){if(n===e.value)return e;for(const t of e.children){const r=ah(n,t);if(r)return r}return null}function uh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=uh(n,t);if(r.length)return r.unshift(e),r}return[]}class Gs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Kw extends bg{constructor(e,t){super(e),this.snapshot=t,Qw(this,e)}toString(){return this.snapshot.toString()}}function Yw(n,e){const t=function YD(n,e){const l=new Dg([],{},{},"",{},Nt,e,null,n.root,-1,{});return new ZD("",new Gs(l,[]))}(n,e),r=new Cs([new iu("",{})]),i=new Cs({}),a=new Cs({}),l=new Cs({}),h=new Cs(""),p=new Ei(r,i,l,h,a,Nt,e,t.root);return p.snapshot=t.root,new Kw(new Gs(p,[]),t)}class Ei{constructor(e,t,r,i,a,l,h,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=h,this.title=this.data?.pipe((0,$t.U)(y=>y[ru]))??gt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$t.U)(e=>ua(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$t.U)(e=>ua(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fu(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function QD(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Dg{get title(){return this.data?.[ru]}constructor(e,t,r,i,a,l,h,p,y,w,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=w,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ua(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ua(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZD extends bg{constructor(e,t){super(t),this.url=e,Qw(this,t)}toString(){return XD(this._root)}}function Qw(n,e){e.value._routerState=n,e.children.forEach(t=>Qw(n,t))}function XD(n){const e=n.children.length>0?` { ${n.children.map(XD).join(", ")} } `:"";return`${n.value}${e}`}function Zw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,lr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),lr(e.params,t.params)||n.params.next(t.params),function Nw(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!lr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),lr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function lh(n,e){const t=lr(n.params,e.params)&&function kD(n,e){return wo(n,e)&&n.every((t,r)=>lr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lh(n.parent,e.parent))}function Bl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function eT(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bl(n,r,i);return Bl(n,r)})}(n,e,t);return new Gs(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>Bl(n,h)),l}}const r=function tT(n){return new Ei(new Cs(n.url),new Cs(n.params),new Cs(n.queryParams),new Cs(n.fragment),new Cs(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Bl(n,a));return new Gs(r,i)}}const $l="ngNavigationCancelingError";function Ds(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pu(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function pu(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$l]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Tg(n){return Sg(n)&&ca(n.url)}function Sg(n){return n&&n[$l]}class Xw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ch,this.attachRef=null}}let ch=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Xw,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ag=!1;let Mg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nt,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(ch),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,Ag);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,Ag);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,Ag);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new g.vHH(4013,Ag);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new xg(t,h,i.injector);if(r&&function Rg(n){return!!n.resolveComponentFactory}(r)){const y=r.resolveComponentFactory(l);this.activated=i.createComponent(y,i.length,p)}else this.activated=i.createComponent(l,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),n})();class xg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ei?this.route:e===ch?this.childContexts:this.parent.get(e,t)}}let Jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},dependencies:[Mg],encapsulation:2}),n})();function nT(n,e){return n.providers&&!n._injector&&(n._injector=(0,g.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function jl(n){const e=n.children&&n.children.map(jl),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Nt&&(t.component=Jw),t}function qi(n){return n.outlet||Nt}function Yn(n,e){const t=n.filter(r=>qi(r)===e);return t.push(...n.filter(r=>qi(r)!==e)),t}function Hl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tE{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=hu(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),cr(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=hu(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=hu(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=hu(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new qD(a.value.snapshot))}),e.children.length&&this.forwardEvent(new WD(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Zw(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),Zw(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=Hl(i.snapshot),p=h?.get(g._Vd)??null;l.attachRef=null,l.route=i,l.resolver=p,l.injector=h,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Pg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hh{constructor(e,t){this.component=e,this.route=t}}function oT(n,e,t){const r=n._root;return mu(r,e?e._root:null,t,[r.value])}function gu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,g.Z0I)(n)?e.get(n):n:r}function mu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=hu(e);return n.children.forEach(l=>{(function pO(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const p=function gO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wo(n.url,e.url)||!lr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lh(n,e)||!lr(n.queryParams,e.queryParams);default:return!lh(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new Pg(r)):(a.data=l.data,a._resolvedData=l._resolvedData),mu(n,e,a.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new hh(h.outlet.component,l))}else l&&zs(e,h,i),i.canActivateChecks.push(new Pg(r)),mu(n,null,a.component?h?h.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),cr(a,(l,h)=>zs(l,t.getContext(h),i)),i}function zs(n,e,t){const r=hu(n),i=n.value;cr(r,(a,l)=>{zs(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new hh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function pa(n){return"function"==typeof n}function oE(n){return n instanceof eu||"EmptyError"===n?.name}const yu=Symbol("INITIAL_VALUE");function _u(){return bs(n=>Iw(n.map(e=>e.pipe(mo(1),function Aw(...n){const e=(0,Xa.yG)(n);return(0,Gi.e)((t,r)=>{(e?ig(n,t,e):ig(n,t)).subscribe(r)})}(yu)))).pipe((0,$t.U)(e=>{for(const t of e)if(!0!==t){if(t===yu)return yu;if(!1===t||t instanceof zi)return t}return!0}),Hs(e=>e!==yu),mo(1)))}function Gl(n){return(0,Ol.z)((0,br.b)(e=>{if(ca(e))throw Ds(0,e)}),(0,$t.U)(e=>!0===e))}const ph={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gh(n,e,t,r,i){const a=Vg(n,e,t);return a.matched?function ma(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?gt(i.map(l=>{const h=gu(l,n);return vo(function sE(n){return n&&pa(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(_u(),Gl()):gt(!0)}(r=nT(e,r),e,t).pipe((0,$t.U)(l=>!0===l?a:{...ph})):gt(a)}function Vg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ph}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Rw)(t,n,e);if(!i)return{...ph};const a={};cr(i.posParams,(h,p)=>{a[p]=h.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function mh(n,e,t,r){if(t.length>0&&function fT(n,e,t){return t.some(r=>yh(n,e,r)&&qi(r)!==Nt)}(n,t,r)){const a=new jt(e,function vu(n,e,t,r){const i={};i[Nt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&qi(a)!==Nt){const l=new jt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[qi(a)]=l}return i}(n,e,r,new jt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function pT(n,e,t){return t.some(r=>yh(n,e,r))}(n,t,r)){const a=new jt(n.segments,function lE(n,e,t,r,i){const a={};for(const l of r)if(yh(n,t,l)&&!i[qi(l)]){const h=new jt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[qi(l)]=h}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new jt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function yh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function _h(n,e,t,r){return!!(qi(n)===r||r!==Nt&&yh(e,t,n))&&("**"===n.path||Vg(e,n,t).matched)}function cE(n,e,t){return 0===e.length&&!n.children[t]}const zl=!1;class vh{constructor(e){this.segmentGroup=e||null}}class Ug{constructor(e){this.urlTree=e}}function wh(n){return jd(new vh(n))}function dE(n){return jd(new Ug(n))}class ql{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=mh(this.urlTree.root,[],[],this.config).segmentGroup,t=new jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Nt).pipe((0,$t.U)(a=>this.createUrlTree(Qd(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(aa(a=>{if(a instanceof Ug)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof vh?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Nt).pipe((0,$t.U)(i=>this.createUrlTree(Qd(i),e.queryParams,e.fragment))).pipe(aa(i=>{throw i instanceof vh?this.noMatchError(i):i}))}noMatchError(e){return new g.vHH(4002,zl)}createUrlTree(e,t,r){const i=gg(e);return new zi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,$t.U)(a=>new jt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Bn.D)(i).pipe(_o(a=>{const l=r.children[a],h=Yn(t,a);return this.expandSegmentGroup(e,h,l,a).pipe((0,$t.U)(p=>({segment:p,outlet:a})))}),Hd((a,l)=>(a[l.outlet]=l.segment,a),{}),RD())}expandSegment(e,t,r,i,a,l){return(0,Bn.D)(r).pipe(_o(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,a,l).pipe(aa(y=>{if(y instanceof vh)return gt(null);throw y}))),yo(h=>!!h),aa((h,p)=>{if(oE(h))return cE(t,i,a)?gt(new jt([],{})):wh(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,a,l,h){return _h(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):wh(t):wh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dE(a):this.lineralizeSegments(r,a).pipe((0,Yr.z)(l=>{const h=new jt(l,{});return this.expandSegment(e,h,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:w}=Vg(t,i,a);if(!h)return wh(t);const E=this.applyRedirectCommands(p,i.redirectTo,w);return i.redirectTo.startsWith("/")?dE(E):this.lineralizeSegments(i,E).pipe((0,Yr.z)(T=>this.expandSegment(e,t,r,T.concat(y),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=nT(r,e),r.loadChildren?(r._loadedRoutes?gt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,$t.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new jt(i,{})))):gt(new jt(i,{}))):gh(t,r,i,e).pipe(bs(({matched:l,consumedSegments:h,remainingSegments:p})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Yr.z)(w=>{const E=w.injector??e,T=w.routes,{segmentGroup:x,slicedSegments:F}=mh(t,h,p,T),se=new jt(x.segments,x.children);if(0===F.length&&se.hasChildren())return this.expandChildren(E,T,se).pipe((0,$t.U)(xt=>new jt(h,xt)));if(0===T.length&&0===F.length)return gt(new jt(h,{}));const ge=qi(r)===a;return this.expandSegment(E,se,T,F,ge?Nt:a,!0).pipe((0,$t.U)(bt=>new jt(h.concat(bt.segments),bt.children)))})):wh(t)))}getChildConfig(e,t,r){return t.children?gt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?gt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Lg(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?gt(!0):gt(i.map(l=>{const h=gu(l,n);return vo(function rE(n){return n&&pa(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(_u(),Gl())}(e,t,r).pipe((0,Yr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,br.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function gT(n){return jd(pu(zl,3))}())):gt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[Nt])return e.redirectTo,jd(new g.vHH(4e3,zl));i=i.children[Nt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new zi(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return cr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=t[h]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return cr(t.children,(h,p)=>{l[p]=this.createSegmentGroup(e,h,r,i)}),new jt(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new g.vHH(4001,zl);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class yT{}class hE{constructor(e,t,r,i,a,l,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=h}recognize(){const e=mh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Nt).pipe((0,$t.U)(t=>{if(null===t)return null;const r=new Dg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gs(r,t),a=new ZD(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=fu(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Bn.D)(Object.keys(r.children)).pipe(_o(i=>{const a=r.children[i],l=Yn(t,i);return this.processSegmentGroup(e,l,a,i)}),Hd((i,a)=>i&&a?(i.push(...a),i):null),function aO(n,e=!1){return(0,Gi.e)((t,r)=>{let i=0;t.subscribe((0,ui.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),og(null),RD(),(0,$t.U)(i=>{if(null===i)return null;const a=pE(i);return function fE(n){n.sort((e,t)=>e.value.outlet===Nt?-1:t.value.outlet===Nt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Bn.D)(t).pipe(_o(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),yo(l=>!!l),aa(l=>{if(oE(l))return cE(r,i,a)?gt([]):gt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!_h(t,r,i,a))return gt(null);let l;if("**"===t.path){const h=i.length>0?kw(i).parameters:{},p=gE(r)+i.length;l=gt({snapshot:new Dg(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mE(t),qi(t),t.component??t._loadedComponent??null,t,Eu(r),p,yE(t)),consumedSegments:[],remainingSegments:[]})}else l=gh(r,t,i,e).pipe((0,$t.U)(({matched:h,consumedSegments:p,remainingSegments:y,parameters:w})=>{if(!h)return null;const E=gE(r)+p.length;return{snapshot:new Dg(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mE(t),qi(t),t.component??t._loadedComponent??null,t,Eu(r),E,yE(t)),consumedSegments:p,remainingSegments:y}}));return l.pipe(bs(h=>{if(null===h)return gt(null);const{snapshot:p,consumedSegments:y,remainingSegments:w}=h;e=t._injector??e;const E=t._loadedInjector??e,T=function $g(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:x,slicedSegments:F}=mh(r,y,w,T.filter(ge=>void 0===ge.redirectTo));if(0===F.length&&x.hasChildren())return this.processChildren(E,T,x).pipe((0,$t.U)(ge=>null===ge?null:[new Gs(p,ge)]));if(0===T.length&&0===F.length)return gt([new Gs(p,[])]);const se=qi(t)===a;return this.processSegment(E,T,x,F,se?Nt:a).pipe((0,$t.U)(ge=>null===ge?null:[new Gs(p,ge)]))}))}}function jg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pE(n){const e=[],t=new Set;for(const r of n){if(!jg(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=pE(r.children);e.push(new Gs(r.value,i))}return e.filter(r=>!t.has(r))}function Eu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function mE(n){return n.data||{}}function yE(n){return n.resolve||{}}function _E(n){return"string"==typeof n.title||null===n.title}function vE(n){return bs(e=>{const t=n(e);return t?(0,Bn.D)(t).pipe((0,$t.U)(()=>e)):gt(e)})}const Kl=new g.OlP("ROUTES");let Eh=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return gt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=vo(t.loadComponent()).pipe((0,$t.U)(EE),(0,br.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),xw(()=>{this.componentLoaders.delete(t)})),i=new Sw(r,()=>new Ja.x).pipe(sg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return gt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,$t.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,y,w=!1;Array.isArray(h)?y=h:(p=h.create(t).injector,y=Ow(p.get(Kl,[],g.XFs.Self|g.XFs.Optional)));return{routes:y.map(jl),injector:p}}),xw(()=>{this.childrenLoaders.delete(r)})),l=new Sw(a,()=>new Ja.x).pipe(sg());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return vo(t()).pipe((0,$t.U)(EE),(0,Yr.z)(i=>i instanceof g.YKP||Array.isArray(i)?gt(i):(0,Bn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.zs3),g.LFG(g.Sil))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EE(n){return function wE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ih=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ja.x,this.configLoader=(0,g.f3M)(Eh),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(su),this.rootContexts=(0,g.f3M)(ch),this.navigationId=0,this.afterPreactivation=()=>gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new du(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Ig(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Cs({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fa,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hs(r=>0!==r.id),(0,$t.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),bs(r=>{let i=!1,a=!1;return gt(r).pipe((0,br.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),bs(l=>{const h=t.browserUrlTree.toString(),p=!t.navigated||l.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!p&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const w="";return this.events.next(new Ul(l.id,t.serializeUrl(r.rawUrl),w,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),js.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return IE(l.source)&&(t.browserUrlTree=l.extractedUrl),gt(l).pipe(bs(w=>{const E=this.transitions?.getValue();return this.events.next(new Vl(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions?.getValue()?js.E:Promise.resolve(w)}),function mT(n,e,t,r){return bs(i=>function wu(n,e,t,r,i){return new ql(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,$t.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,br.b)(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},r.urlAfterRedirects=w.urlAfterRedirects}),function wT(n,e,t,r,i){return(0,Yr.z)(a=>function vT(n,e,t,r,i,a,l="emptyOnly"){return new hE(n,e,t,r,i,l,a).recognize().pipe(bs(h=>null===h?function _T(n){return new Hi.y(e=>e.error(n))}(new yT):gt(h)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,$t.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,br.b)(w=>{if(r.targetSnapshot=w.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!w.extras.skipLocationChange){const T=t.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);t.setBrowserUrl(T,w)}t.browserUrlTree=w.urlAfterRedirects}const E=new HD(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:w,extractedUrl:E,source:T,restoredState:x,extras:F}=l,se=new Vl(w,this.urlSerializer.serialize(E),T,x);this.events.next(se);const ge=Yw(E,this.rootComponentType).snapshot;return gt(r={...l,targetSnapshot:ge,urlAfterRedirects:E,extras:{...F,skipLocationChange:!1,replaceUrl:!1}})}{const w="";return this.events.next(new Ul(l.id,t.serializeUrl(r.extractedUrl),w,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),js.E}}),(0,br.b)(l=>{const h=new GD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),(0,$t.U)(l=>r={...l,guards:oT(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function kg(n,e){return(0,Yr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?gt({...t,guardsResult:!0}):function aE(n,e,t,r){return(0,Bn.D)(n).pipe((0,Yr.z)(i=>function hT(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?gt(a.map(h=>{const p=Hl(e)??i,y=gu(h,p);return vo(function lT(n){return n&&pa(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,r):p.runInContext(()=>y(n,e,t,r))).pipe(yo())})).pipe(_u()):gt(!0)}(i.component,i.route,t,e,r)),yo(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Yr.z)(h=>h&&function nE(n){return"boolean"==typeof n}(h)?function uE(n,e,t,r){return(0,Bn.D)(e).pipe(_o(i=>ig(function dT(n,e){return null!==n&&e&&e(new zD(n)),gt(!0)}(i.route.parent,r),function ga(n,e){return null!==n&&e&&e(new cO(n)),gt(!0)}(i.route,r),function fh(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function aT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>oa(()=>gt(l.guards.map(p=>{const y=Hl(l.node)??t,w=gu(p,y);return vo(function uT(n){return n&&pa(n.canActivateChild)}(w)?w.canActivateChild(r,n):y.runInContext(()=>w(r,n))).pipe(yo())})).pipe(_u())));return gt(a).pipe(_u())}(n,i.path,t),function Fg(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(a=>oa(()=>{const l=Hl(e)??t,h=gu(a,l);return vo(function iE(n){return n&&pa(n.canActivate)}(h)?h.canActivate(e,n):l.runInContext(()=>h(e,n))).pipe(yo())}));return gt(i).pipe(_u())}(n,i.route,t))),yo(i=>!0!==i,!0))}(r,a,n,e):gt(h)),(0,$t.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),(0,br.b)(l=>{if(r.guardsResult=l.guardsResult,ca(l.guardsResult))throw Ds(0,l.guardsResult);const h=new Gw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Hs(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),vE(l=>{if(l.guards.canActivateChecks.length)return gt(l).pipe((0,br.b)(h=>{const p=new zw(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),bs(h=>{let p=!1;return gt(h).pipe(function ET(n,e){return(0,Yr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let a=0;return(0,Bn.D)(i).pipe(_o(l=>function IT(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!_E(i)&&(a[ru]=i.title),function Iu(n,e,t,r){const i=function Ws(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return gt({});const a={};return(0,Bn.D)(i).pipe((0,Yr.z)(l=>function CT(n,e,t,r){const i=Hl(e)??r,a=gu(n,i);return vo(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(yo(),(0,br.b)(h=>{a[l]=h}))),Mw(1),function uO(n){return(0,$t.U)(()=>n)}(a),aa(l=>oE(l)?js.E:jd(l)))}(a,n,e,r).pipe((0,$t.U)(l=>(n._resolvedData=l,n.data=fu(n,t).resolve,i&&_E(i)&&(n.data[ru]=i.title),null)))}(l.route,r,n,e)),(0,br.b)(()=>a++),Mw(1),(0,Yr.z)(l=>a===i.length?gt(t):js.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,br.b)({next:()=>p=!0,complete:()=>{p||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,br.b)(h=>{const p=new ih(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),vE(l=>{const h=p=>{const y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,br.b)(w=>{p.component=w}),(0,$t.U)(()=>{})));for(const w of p.children)y.push(...h(w));return y};return Iw(h(l.targetSnapshot.root)).pipe(og(),mo(1))}),vE(()=>this.afterPreactivation()),(0,$t.U)(l=>{const h=function JD(n,e,t){const r=Bl(n,e._root,t?t._root:void 0);return new Kw(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:h}}),(0,br.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,$t.U)(r=>(new tE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),(0,br.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new as(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),xw(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),aa(l=>{if(a=!0,Sg(l)){Tg(l)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new rh(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),Tg(l)){const p=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),y={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||IE(r.source)};t.scheduleNavigation(p,fa,null,y,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new Eg(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(l))}catch(p){r.reject(p)}}return js.E}))}))}cancelNavigationTransition(t,r,i){const a=new rh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IE(n){return n!==fa}let Ki=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Nt);return r}getResolvedTitleForRoute(t){return t.data[ru]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(bT)},providedIn:"root"}),n})(),bT=(()=>{class n extends Ki{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ia))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(TT)},providedIn:"root"}),n})();class DT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let TT=(()=>{class n extends DT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ch=new g.OlP("",{providedIn:"root",factory:()=>({})});let bE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(AT)},providedIn:"root"}),n})(),AT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MT(n){throw n}function Mt(n,e,t){return e.parse("/")}const DE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this.options=(0,g.f3M)(Ch,{optional:!0})||{},this.errorHandler=this.options.errorHandler||MT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Mt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(bE),this.routeReuseStrategy=(0,g.f3M)(CE),this.urlCreationStrategy=(0,g.f3M)(qw),this.titleStrategy=(0,g.f3M)(Ki),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ow((0,g.f3M)(Kl,{optional:!0})??[]),this.navigationTransitions=(0,g.f3M)(Ih),this.urlSerializer=(0,g.f3M)(su),this.location=(0,g.f3M)(Pe),this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new zi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(a.state=p)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(jl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:h,preserveFragment:p}=r,y=p?this.currentUrlTree.fragment:l;let w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...a};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=a||null}return null!==w&&(w=this.removeEmptyProps(w)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,w,y??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ca(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,fa,null,r)}navigate(t,r={skipLocationChange:!1}){return function xT(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new g.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...DE}:!1===r?{...TE}:r,ca(t))return Fw(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Fw(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let h,p,y,w;return l?(h=l.resolve,p=l.reject,y=l.promise):y=new Promise((E,T)=>{h=E,p=T}),w="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:w,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(E=>Promise.reject(E))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ql=(()=>{class n{constructor(t,r,i,a,l,h){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ja.x;const p=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(y=>{y instanceof as&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,g.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,g.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,g.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(rr),g.Y36(Ei),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Ne))},n.\u0275dir=g.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&g.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&g.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),n})();class Wg{}let wO=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Hs(t=>t instanceof as),_o(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,g.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,h=a._loadedInjector??l;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(l,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,Bn.D)(i).pipe((0,go.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):gt(null);const a=i.pipe((0,Yr.z)(l=>null===l?gt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Bn.D)([a,l]).pipe((0,go.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(rr),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Wg),g.LFG(Eh))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bh=new g.OlP("");let qg=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof as&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();var hr=(()=>((hr=hr||{})[hr.COMPLETE=0]="COMPLETE",hr[hr.FAILED=1]="FAILED",hr[hr.REDIRECTING=2]="REDIRECTING",hr))();const Io=!1;function ya(n,e){return{\u0275kind:n,\u0275providers:e}}const xE=new g.OlP("",{providedIn:"root",factory:()=>!1});function OT(){const n=(0,g.f3M)(g.zs3);return e=>{const t=n.get(g.z2F);if(e!==t.components[0])return;const r=n.get(rr),i=n.get(RE);1===n.get(Co)&&r.initialNavigation(),n.get(PE,null,g.XFs.Optional)?.setUpPreloading(),n.get(bh,null,g.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const RE=new g.OlP(Io?"bootstrap done indicator":"",{factory:()=>new Ja.x}),Co=new g.OlP(Io?"initial navigation":"",{providedIn:"root",factory:()=>1});function Dh(){let n=[];return n=Io?[{provide:g.Xts,multi:!0,useFactory:()=>{const e=(0,g.f3M)(rr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function KD(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],ya(1,n)}const PE=new g.OlP(Io?"router preloader":"");function OE(n){return ya(0,[{provide:PE,useExisting:wO},{provide:Wg,useExisting:n}])}const Zl=!1,Kg=new g.OlP(Zl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),FT=[Pe,{provide:su,useClass:hg},rr,ch,{provide:Ei,useFactory:function ME(n){return n.routerState.root},deps:[rr]},Eh,Zl?{provide:xE,useValue:!0}:[]];function kE(){return new g.PXZ("Router",rr)}let Yg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[FT,Zl&&r?.enableTracing?Dh().\u0275providers:[],{provide:Kl,multi:!0,useValue:t},{provide:Kg,useFactory:LT,deps:[[rr,new g.FiY,new g.tp0]]},{provide:Ch,useValue:r||{}},r?.useHash?{provide:Ne,useClass:Ft}:{provide:Ne,useClass:Ze},{provide:bh,useFactory:()=>{const n=(0,g.f3M)(oD),e=(0,g.f3M)(g.R0b),t=(0,g.f3M)(Ch),r=(0,g.f3M)(Ih),i=(0,g.f3M)(su);return t.scrollOffset&&n.setOffset(t.scrollOffset),new qg(i,r,n,e,t)}},r?.preloadingStrategy?OE(r.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:kE},r?.initialNavigation?AO(r):[],[{provide:_a,useFactory:OT},{provide:g.tb,multi:!0,useExisting:_a}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Kl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Kg,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Jw]}),n})();function LT(n){if(Zl&&n)throw new g.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function AO(n){return["disabled"===n.initialNavigation?ya(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const e=(0,g.f3M)(rr);return()=>{e.setUpLocationChangeListener()}}},{provide:Co,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ya(2,[{provide:Co,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:e=>{const t=e.get(ye,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(rr),a=e.get(RE);(function NT(n,e){n.events.pipe(Hs(t=>t instanceof as||t instanceof rh||t instanceof Eg||t instanceof Ul),(0,$t.U)(t=>t instanceof as||t instanceof Ul?hr.COMPLETE:t instanceof rh&&(0===t.code||1===t.code)?hr.REDIRECTING:hr.FAILED),Hs(t=>t!==hr.REDIRECTING),mo(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Ih).afterPreactivation=()=>(r(!0),a.closed?gt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const _a=new g.OlP(Zl?"Router Initializer":"");let LE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-error"]],decls:3,vars:0,consts:[[1,"box","centrado"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"p"),g._uU(2," No se encuentra \u{1f4a4} lo solicitado "),g.qZA()())}}),n})();var Gn=R(5344),Ts=R(259);class Ss{constructor(e){return e}}class qs{constructor(){return(0,Ts.C6)()}}const Jl=new g.OlP("angularfire2._apps"),Th={provide:Ss,useFactory:function Xl(n){return n&&1===n.length?n[0]:new Ss((0,Ts.Mq)())},deps:[[new g.FiY,Jl]]},UE={provide:qs,deps:[[new g.FiY,Jl]]};function Xg(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ss(r)}}let Jg=(()=>{class n{constructor(t){(0,Ts.KN)("angularfire",Gn.q4.full,"core"),(0,Ts.KN)("angularfire",Gn.q4.full,"app"),(0,Ts.KN)("angular",g.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.Lbi))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[Th,UE]}),n})();function em(n,...e){return{ngModule:Jg,providers:[{provide:Jl,useFactory:Xg(n),multi:!0,deps:[g.R0b,g.zs3,Gn.HU,...e]}]}}const UT=(0,Gn.u3)(Ts.ZF,!0);var le=R(5861),Sn=R(9681),Cu=R(4859),k=R(2090),As=R(1877);const tm=new Map,jT={activated:!1,tokenObservers:[]},nm={initialized:!1,enabled:!1};function Dr(n){return tm.get(n)||Object.assign({},jT)}function Sh(){return nm}const rm="https://content-firebaseappcheck.googleapis.com/v1",zT="exchangeDebugToken",Ah={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class qT{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,le.Z)(function*(){t.stop();try{t.pending=new k.BH,yield function KT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new k.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ci=new k.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Rh(n,e){return sm.apply(this,arguments)}function sm(){return(sm=(0,le.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const E=yield i.getHeartbeatsHeader();E&&(r["X-Firebase-Client"]=E)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,h;try{l=yield fetch(n,a)}catch(E){throw ci.create("fetch-network-error",{originalErrorMessage:E?.message})}if(200!==l.status)throw ci.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(E){throw ci.create("fetch-parse-error",{originalErrorMessage:E?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw ci.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+y,issuedAtTimeMillis:w}})).apply(this,arguments)}const XT="firebase-app-check-database",JT=1,bo="firebase-app-check-store";let va=null;function um(n,e){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,le.Z)(function*(n,e){const r=(yield function eS(){return va||(va=new Promise((n,e)=>{try{const t=indexedDB.open(XT,JT);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ci.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bo,{keyPath:"compositeKey"})}}catch(t){e(ci.create("storage-open",{originalErrorMessage:t?.message}))}}),va)}()).transaction(bo,"readwrite"),a=r.objectStore(bo).put({compositeKey:n,value:e});return new Promise((l,h)=>{a.onsuccess=p=>{l()},r.onerror=p=>{var y;h(ci.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Do=new As.Yd("@firebase/app-check");function kh(n,e){return(0,k.hl)()?function NO(n,e){return um(function ec(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Do.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bu(){return dm.apply(this,arguments)}function dm(){return(dm=(0,le.Z)(function*(){const n=Sh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tS={error:"UNKNOWN_ERROR"};function nS(n){return k.US.encodeString(JSON.stringify(n),!1)}function Fh(n){return hm.apply(this,arguments)}function hm(){return(hm=(0,le.Z)(function*(n,e=!1){const t=n.app;!function Mh(n){if(!Dr(n).activated)throw ci.create("use-before-activation",{appName:n.name})}(t);const r=Dr(t);let a,i=r.token;if(i&&!Du(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(Du(p)?i=p:yield kh(t,void 0))}if(!e&&i&&Du(i))return{token:i.token};let h,l=!1;if(function zE(){return Sh().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Rh(function om(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${rm}/projects/${t}/apps/${r}:${zT}?key=${i}`,body:{debug_token:e}}}(t,yield bu()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const p=yield r.exchangeTokenPromise;return yield kh(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Dr(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Do.warn(p.message):Do.error(p),a=p}return i?a?h=Du(i)?{token:i.token,internalError:a}:Vh(a):(h={token:i.token},r.token=i,yield kh(t,i)):h=Vh(a),l&&function Lh(n,e){const t=Dr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function pm(n,e){const t=Dr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function WE(n){const{app:e}=n,t=Dr(e);let r=t.tokenRefresher;r||(r=function qE(n){const{app:e}=n;return new qT((0,le.Z)(function*(){let r;if(r=Dr(e).token?yield Fh(n,!0):yield Fh(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Dr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Ah.RETRIAL_MIN_WAIT,Ah.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Du(n){return n.expireTimeMillis-Date.now()>0}function Vh(n){return{token:nS(tS),error:n}}class rS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Dr(this.app);for(const t of e)pm(this.app,t.next);return Promise.resolve()}}const wa="app-check-internal";!function Mu(){(0,Sn._registerComponent)(new Cu.wA("app-check",n=>function iS(n,e){return new rS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wa).initialize()})),(0,Sn._registerComponent)(new Cu.wA(wa,n=>function sS(n){return{getToken:e=>Fh(n,e),addTokenListener:e=>function fm(n,e,t,r){const{app:i}=n,a=Dr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Du(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),WE(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>WE(n))}(n,"INTERNAL",e),removeTokenListener:e=>pm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Sn.registerVersion)("@firebase/app-check","0.6.4")}();class Ks{constructor(){return(0,Gn.vb)("app-check")}}typeof window<"u"&&window;var Gh=R(655);const oI=function zh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_m=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vm=new As.Yd("@firebase/auth");function ic(n,...e){vm.logLevel<=As.in.ERROR&&vm.error(`Auth (${Sn.SDK_VERSION}): ${n}`,...e)}function Qr(n,...e){throw Wh(n,...e)}function ds(n,...e){return Wh(n,...e)}function Wh(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _m.create(n,...e)}function Oe(n,e,...t){if(!n)throw Wh(e,...t)}function hs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ic(e),new Error(e)}function Ao(n,e){n||hs(e)}const lI=new Map;function Ys(n){Ao(n instanceof Function,"Expected a class definition");let e=lI.get(n);return e?(Ao(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lI.set(n,e),e)}function xu(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Em(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ru{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ao(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function dI(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function qh(){return"http:"===Em()||"https:"===Em()}()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kh(n,e){Ao(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Im{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mo=new Ru(3e4,6e4);function fr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Tr(n,e,t,r){return sc.apply(this,arguments)}function sc(){return(sc=(0,le.Z)(function*(n,e,t,r,i={}){return xo(n,i,(0,le.Z)(function*(){let a={},l={};r&&("GET"===e?l=r:a={body:JSON.stringify(r)});const h=(0,k.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),Im.fetch()(vS(n,n.config.apiHost,t,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},a))}))})).apply(this,arguments)}function xo(n,e,t){return oc.apply(this,arguments)}function oc(){return(oc=(0,le.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yh),e);try{const i=new UO(n),a=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield a.json();if("needConfirmation"in l)throw uc(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[p,y]=h.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===p)throw uc(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===p)throw uc(n,"email-already-in-use",l);if("USER_DISABLED"===p)throw uc(n,"user-disabled",l);const w=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw function uI(n,e,t){const r=Object.assign(Object.assign({},oI()),{[e]:t});return new k.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,w,y);Qr(n,w)}}catch(i){if(i instanceof k.ZR)throw i;Qr(n,"internal-error",{message:String(i)})}})).apply(this,arguments)}function Qs(n,e,t,r){return ac.apply(this,arguments)}function ac(){return(ac=(0,le.Z)(function*(n,e,t,r,i={}){const a=yield Tr(n,e,t,r,i);return"mfaPendingCredential"in a&&Qr(n,"multi-factor-auth-required",{_serverResponse:a}),a})).apply(this,arguments)}function vS(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Kh(n.config,i):`${n.config.apiScheme}://${i}`}class UO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ds(this.auth,"network-request-failed")),Mo.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ds(n,e,r);return i.customData._tokenResponse=t,i}function Qh(){return(Qh=(0,le.Z)(function*(n,e){return Tr(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Cm(){return(Cm=(0,le.Z)(function*(n,e){return Tr(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function lc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Zh(){return(Zh=(0,le.Z)(function*(n,e=!1){const t=(0,k.m9)(n),r=yield t.getIdToken(e),i=Zs(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:lc(Xh(i.auth_time)),issuedAtTime:lc(Xh(i.iat)),expirationTime:lc(Xh(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}})).apply(this,arguments)}function Xh(n){return 1e3*Number(n)}function Zs(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,k.tV)(t);return i?JSON.parse(i):(ic("Failed to decode base64 JWT payload"),null)}catch(i){return ic("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Xs(n,e){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,le.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof k.ZR&&function DS({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class pI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,le.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,le.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class TS{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nu(n){return cc.apply(this,arguments)}function cc(){return cc=(0,le.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Xs(n,function fI(n,e){return Cm.apply(this,arguments)}(t,{idToken:r}));Oe(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=null!==(e=a.providerUserInfo)&&void 0!==e&&e.length?function xs(n){return n.map(e=>{var{providerId:t}=e,r=(0,Gh._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(a.providerUserInfo):[],h=function SS(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),w=!!n.isAnonymous&&!(n.email&&a.passwordHash||h?.length),E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new TS(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,E)}),cc.apply(this,arguments)}function bm(){return(bm=(0,le.Z)(function*(n){const e=(0,k.m9)(n);yield Nu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ni(){return(Ni=(0,le.Z)(function*(n,e){const t=yield xo(n,{},(0,le.Z)(function*(){const r=(0,k.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=vS(n,i,"/v1/token",`key=${a}`),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Im.fetch()(l,{method:"POST",headers:h,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function bS(n){const e=Zs(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,le.Z)(function*(){return Oe(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,le.Z)(function*(){const{accessToken:i,refreshToken:a,expiresIn:l}=yield function fs(n,e){return Ni.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,a,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Pu;return r&&(Oe("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(Oe("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),a&&(Oe("number"==typeof a,"internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return hs("not implemented")}}function Js(n,e){Oe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ca{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=(0,Gh._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new TS(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,le.Z)(function*(){const r=yield Xs(t,t.stsTokenManager.getToken(t.auth,e));return Oe(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function CS(n){return Zh.apply(this,arguments)}(this,e)}reload(){return function Ms(n){return bm.apply(this,arguments)}(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ca(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,le.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Nu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,le.Z)(function*(){const t=yield e.getIdToken();return yield Xs(e,function wS(n,e){return Qh.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,h,p,y,w;const E=null!==(r=t.displayName)&&void 0!==r?r:void 0,T=null!==(i=t.email)&&void 0!==i?i:void 0,x=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,F=null!==(l=t.photoURL)&&void 0!==l?l:void 0,se=null!==(h=t.tenantId)&&void 0!==h?h:void 0,ge=null!==(p=t._redirectEventId)&&void 0!==p?p:void 0,ot=null!==(y=t.createdAt)&&void 0!==y?y:void 0,bt=null!==(w=t.lastLoginAt)&&void 0!==w?w:void 0,{uid:xt,emailVerified:bn,isAnonymous:an,providerData:rn,stsTokenManager:xr}=t;Oe(xt&&xr,e,"internal-error");const pd=Pu.fromJSON(this.name,xr);Oe("string"==typeof xt,e,"internal-error"),Js(E,e.name),Js(T,e.name),Oe("boolean"==typeof bn,e,"internal-error"),Oe("boolean"==typeof an,e,"internal-error"),Js(x,e.name),Js(F,e.name),Js(se,e.name),Js(ge,e.name),Js(ot,e.name),Js(bt,e.name);const $P=new Ca({uid:xt,auth:e,email:T,emailVerified:bn,displayName:E,isAnonymous:an,photoURL:F,phoneNumber:x,tenantId:se,stsTokenManager:pd,createdAt:ot,lastLoginAt:bt});return rn&&Array.isArray(rn)&&($P.providerData=rn.map(o4=>Object.assign({},o4))),ge&&($P._redirectEventId=ge),$P}static _fromIdTokenResponse(e,t,r=!1){return(0,le.Z)(function*(){const i=new Pu;i.updateFromServerResponse(t);const a=new Ca({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nu(a),a})()}}const gI=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,le.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,le.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,le.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,le.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function ef(n,e,t){return`firebase:${n}:${e}:${t}`}class Ro{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ef(this.userKey,i.apiKey,a),this.fullPersistenceKey=ef("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,le.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ca._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,le.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,le.Z)(function*(){if(!t.length)return new Ro(Ys(gI),e,r);const i=(yield Promise.all(t.map(function(){var y=(0,le.Z)(function*(w){if(yield w._isAvailable())return w});return function(w){return y.apply(this,arguments)}}()))).filter(y=>y);let a=i[0]||Ys(gI);const l=ef(r,e.config.apiKey,e.name);let h=null;for(const y of t)try{const w=yield y._get(l);if(w){const E=Ca._fromJSON(e,w);y!==a&&(h=E),a=y;break}}catch{}const p=i.filter(y=>y._shouldAllowMigration);return a._shouldAllowMigration&&p.length?(a=p[0],h&&(yield a._set(l,h.toJSON())),yield Promise.all(t.map(function(){var y=(0,le.Z)(function*(w){if(w!==a)try{yield w._remove(l)}catch{}});return function(w){return y.apply(this,arguments)}}())),new Ro(a,e,r)):new Ro(a,e,r)})()}}function Ou(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dm(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dc(e))return"Blackberry";if(_I(e))return"Webos";if(tf(e))return"Safari";if((e.includes("chrome/")||yI(e))&&!e.includes("edge/"))return"Chrome";if(Tm(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function mI(n=(0,k.z$)()){return/firefox\//i.test(n)}function tf(n=(0,k.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yI(n=(0,k.z$)()){return/crios\//i.test(n)}function Dm(n=(0,k.z$)()){return/iemobile/i.test(n)}function Tm(n=(0,k.z$)()){return/android/i.test(n)}function dc(n=(0,k.z$)()){return/blackberry/i.test(n)}function _I(n=(0,k.z$)()){return/webos/i.test(n)}function hc(n=(0,k.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nf(n=(0,k.z$)()){return hc(n)||Tm(n)||_I(n)||dc(n)||/windows phone/i.test(n)||Dm(n)}function Am(n,e=[]){let t;switch(n){case"Browser":t=Ou((0,k.z$)());break;case"Worker":t=`${Ou((0,k.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sn.SDK_VERSION}/${r}`}class EI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,h)=>{try{l(e(a))}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,le.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class II{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mm(this),this.idTokenSubscription=new Mm(this),this.beforeStateQueue=new EI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_m,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ys(t)),this._initializationPromise=this.queue((0,le.Z)(function*(){var i,a;if(!r._deleted&&(r.persistenceManager=yield Ro.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,le.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,le.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const h=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,p=a?._redirectEventId,y=yield t.tryRedirectSignIn(e);(!h||h===p)&&y?.user&&(a=y.user,l=!0)}if(!a)return t.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(a)}catch(h){a=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(h))}return a?t.reloadAndSetCurrentUserOrClear(a):t.directlySetCurrentUser(null)}return Oe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===a._redirectEventId?t.directlySetCurrentUser(a):t.reloadAndSetCurrentUserOrClear(a)})()}tryRedirectSignIn(e){var t=this;return(0,le.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,le.Z)(function*(){try{yield Nu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function hI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,le.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,le.Z)(function*(){const r=e?(0,k.m9)(e):null;return r&&Oe(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,le.Z)(function*(){if(!r._deleted)return e&&Oe(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,le.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,le.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,le.Z)(function*(){yield t.assertedPersistence.setPersistence(Ys(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new k.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,le.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,le.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Ys(e)||t._popupRedirectResolver;Oe(r,t,"argument-error"),t.redirectPersistenceManager=yield Ro.create(t,[Ys(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,le.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,le.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,le.Z)(function*(){if(e===t.currentUser)return t.queue((0,le.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t),l=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(l,this,"internal-error"),l.then(()=>a(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,le.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Am(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,le.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function di(n){return(0,k.m9)(n)}class Mm{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,k.ne)(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class TI{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,t){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}function AI(n,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,le.Z)(function*(n,e){return Tr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Pm(){return(Pm=(0,le.Z)(function*(n,e){return Qs(n,"POST","/v1/accounts:signInWithPassword",fr(n,e))})).apply(this,arguments)}function lf(){return(lf=(0,le.Z)(function*(n,e){return Qs(n,"POST","/v1/accounts:signInWithEmailLink",fr(n,e))})).apply(this,arguments)}function cf(){return(cf=(0,le.Z)(function*(n,e){return Qs(n,"POST","/v1/accounts:signInWithEmailLink",fr(n,e))})).apply(this,arguments)}class ku extends TI{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ku(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ku(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,le.Z)(function*(){switch(t.signInMethod){case"password":return function NS(n,e){return Pm.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function RI(n,e){return lf.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Qr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,le.Z)(function*(){switch(r.signInMethod){case"password":return AI(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function NI(n,e){return cf.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Qr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Rs(n,e){return eo.apply(this,arguments)}function eo(){return(eo=(0,le.Z)(function*(n,e){return Qs(n,"POST","/v1/accounts:signInWithIdp",fr(n,e))})).apply(this,arguments)}class gc{constructor(e){var t,r,i,a,l,h;const p=(0,k.zd)((0,k.pd)(e)),y=null!==(t=p.apiKey)&&void 0!==t?t:null,w=null!==(r=p.oobCode)&&void 0!==r?r:null,E=function FS(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=p.mode)&&void 0!==i?i:null);Oe(y&&w&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=w,this.continueUrl=null!==(a=p.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(l=p.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(h=p.tenantId)&&void 0!==h?h:null}static parseLink(e){const t=function Lu(n){const e=(0,k.zd)((0,k.pd)(n)).link,t=e?(0,k.zd)((0,k.pd)(e)).deep_link_id:null,r=(0,k.zd)((0,k.pd)(n)).deep_link_id;return(r?(0,k.zd)((0,k.pd)(r)).link:null)||r||t||e||n}(e);try{return new gc(t)}catch{return null}}}let mc=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ku._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=gc.parseLink(r);return Oe(i,"argument-error"),ku._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class pn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jO extends pn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function VI(n,e){return ba.apply(this,arguments)}function ba(){return(ba=(0,le.Z)(function*(n,e){return Qs(n,"POST","/v1/accounts:signUp",fr(n,e))})).apply(this,arguments)}class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,le.Z)(function*(){const a=yield Ca._fromIdTokenResponse(e,r,i),l=UI(r);return new Yi({user:a,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,le.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=UI(r);return new Yi({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function UI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class _c extends k.ZR{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_c.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new _c(e,t,r,i)}}function Bm(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw"auth/multi-factor-auth-required"===a.code?_c._fromErrorAndOperation(n,a,e,r):a})}function Ta(n,e){return jm.apply(this,arguments)}function jm(){return(jm=(0,le.Z)(function*(n,e,t=!1){const r=yield Xs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Yi._forOperation(n,"link",r)})).apply(this,arguments)}function Gm(n,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,le.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const a=yield Xs(n,Bm(r,i,e,n),t);Oe(a.idToken,r,"internal-error");const l=Zs(a.idToken);Oe(l,r,"internal-error");const{sub:h}=l;return Oe(n.uid===h,r,"user-mismatch"),Yi._forOperation(n,i,a)}catch(a){throw"auth/user-not-found"===a?.code&&Qr(r,"user-mismatch"),a}})).apply(this,arguments)}function zm(n,e){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,le.Z)(function*(n,e,t=!1){const r="signIn",i=yield Bm(n,r,e),a=yield Yi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(a.user)),a})).apply(this,arguments)}function pf(n,e){return qm.apply(this,arguments)}function qm(){return(qm=(0,le.Z)(function*(n,e){return zm(di(n),e)})).apply(this,arguments)}function yf(){return(yf=(0,le.Z)(function*(n,e,t){const r=di(n),i=yield VI(r,{returnSecureToken:!0,email:e,password:t}),a=yield Yi._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}function $S(n,e,t){return pf((0,k.m9)(n),mc.credential(e,t))}const wf="__sak";class hy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JI=(()=>{class n extends hy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fy(){const n=(0,k.z$)();return tf(n)||hc(n)}()&&function wI(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nf(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),a=this.localCache[r];i!==a&&t(r,a,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((h,p,y)=>{this.notifyListeners(h,y)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(i);if(t.newValue!==h)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const a=()=>{const h=this.storage.getItem(i);!r&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);!function Sm(){return(0,k.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?a():setTimeout(a,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,a=this;return(0,le.Z)(function*(){yield i().call(a,t,r),a.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,le.Z)(function*(){const a=yield r().call(i,t);return i.localCache[t]=JSON.stringify(a),a})()}_remove(t){var r=()=>super._remove,i=this;return(0,le.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),eC=(()=>{class n extends hy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let nA=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,le.Z)(function*(){const i=t,{eventId:a,eventType:l,data:h}=i.data,p=r.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(p).map(function(){var E=(0,le.Z)(function*(T){return T(i.origin,h)});return function(T){return E.apply(this,arguments)}}()),w=yield function tA(n){return Promise.all(n.map(function(){var e=(0,le.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:w})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Ef(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class lk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,le.Z)(function*(){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,h;return new Promise((p,y)=>{const w=Ef("",20);a.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);h={messageChannel:a,onMessage(T){const x=T;if(x.data.eventId===w)switch(x.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(x.data.response);break;default:clearTimeout(E),clearTimeout(l),y(new Error("invalid_response"))}}},i.handlers.add(h),a.port1.addEventListener("message",h.onMessage),i.target.postMessage({eventType:e,eventId:w,data:t},[a.port2])}).finally(()=>{h&&i.removeMessageHandler(h)})})()}}function ir(){return window}function py(){return typeof ir().WorkerGlobalScope<"u"&&"function"==typeof ir().importScripts}function gy(){return(gy=(0,le.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const my="firebaseLocalStorageDb",sA=1,If="firebaseLocalStorage",nC="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cf(n,e){return n.transaction([If],e?"readwrite":"readonly").objectStore(If)}function yy(){const n=indexedDB.open(my,sA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(If,{keyPath:nC})}catch(i){t(i)}}),n.addEventListener("success",(0,le.Z)(function*(){const r=n.result;r.objectStoreNames.contains(If)?e(r):(r.close(),yield function oA(){const n=indexedDB.deleteDatabase(my);return new Ec(n).toPromise()}(),e(yield yy()))}))})}function rC(n,e,t){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,le.Z)(function*(n,e,t){const r=Cf(n,!0).put({[nC]:e,value:t});return new Ec(r).toPromise()})).apply(this,arguments)}function bf(){return(bf=(0,le.Z)(function*(n,e){const t=Cf(n,!1).get(e),r=yield new Ec(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function _y(n,e){const t=Cf(n,!0).delete(e);return new Ec(t).toPromise()}const aA=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,le.Z)(function*(){return t.db||(t.db=yield yy()),t.db})()}_withRetries(t){var r=this;return(0,le.Z)(function*(){let i=0;for(;;)try{const a=yield r._openDb();return yield t(a)}catch(a){if(i++>3)throw a;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,le.Z)(function*(){return py()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,le.Z)(function*(){t.receiver=nA._getInstance(function tC(){return py()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,le.Z)(function*(i,a){return{keyProcessed:(yield t._poll()).includes(a.key)}});return function(i,a){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,le.Z)(function*(i,a){return["keyChanged"]});return function(i,a){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,le.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function ck(){return gy.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new lk(t.activeServiceWorker);const a=yield t.sender._send("ping",{},800);a&&null!==(r=a[0])&&void 0!==r&&r.fulfilled&&null!==(i=a[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,le.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function iA(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,le.Z)(function*(){try{if(!indexedDB)return!1;const t=yield yy();return yield rC(t,wf,"1"),yield _y(t,wf),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,le.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,le.Z)(function*(){return i._withPendingWrite((0,le.Z)(function*(){return yield i._withRetries(a=>rC(a,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,le.Z)(function*(){const i=yield r._withRetries(a=>function iC(n,e){return bf.apply(this,arguments)}(a,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,le.Z)(function*(){return r._withPendingWrite((0,le.Z)(function*(){return yield r._withRetries(i=>_y(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,le.Z)(function*(){const r=yield t._withRetries(l=>{const h=Cf(l,!1).getAll();return new Ec(h).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],a=new Set;for(const{fbase_key:l,value:h}of r)a.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(h)&&(t.notifyListeners(l,h),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!a.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,le.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Bu(n){return`__${n}${Math.floor(1e6*Math.random())}`}Bu("rcb"),new Ru(3e4,6e4);class Sy extends TI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fC(n){return zm(n.auth,new Sy(n),n.bypassAuthState)}function pC(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),Gm(t,new Sy(n),n.bypassAuthState)}function _A(n){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,le.Z)(function*(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),Ta(t,new Sy(n),n.bypassAuthState)})).apply(this,arguments)}class gC{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,le.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,le.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:a,tenantId:l,error:h,type:p}=e;if(h)return void t.reject(h);const y={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(p)(y))}catch(w){t.reject(w)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fC;case"linkViaPopup":case"linkViaRedirect":return _A;case"reauthViaPopup":case"reauthViaRedirect":return pC;default:Qr(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ru(2e3,1e4);const mk="pendingRedirect",$u=new Map;class xy extends gC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,le.Z)(function*(){let r=$u.get(t.auth._key());if(!r){try{const a=(yield function Dc(n,e){return Ry.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(a)}catch(i){r=()=>Promise.reject(i)}$u.set(t.auth._key(),r)}return t.bypassAuthState||$u.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,le.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,le.Z)(function*(){})()}cleanUp(){}}function Ry(){return(Ry=(0,le.Z)(function*(n,e){const t=function _C(n){return ef(mk,n.config.apiKey,n.name)}(e),r=function yC(n){return Ys(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function EA(n,e){$u.set(n._key(),e)}function Fy(n,e){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,le.Z)(function*(n,e,t=!1){const r=di(n),i=function ko(n,e){return e?Ys(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new xy(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l})).apply(this,arguments)}class DA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function bC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CC(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!CC(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ds(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(IC(e))}saveEventToCache(e){this.cachedEventUids.add(IC(e)),this.lastProcessedEventTime=Date.now()}}function IC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CC({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Vy(){return(Vy=(0,le.Z)(function*(n,e={}){return Tr(n,"GET","/v1/projects",e)})).apply(this,arguments)}const TC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SC=/^https?/;function Uy(){return Uy=(0,le.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function DC(n){return Vy.apply(this,arguments)}(n);for(const t of e)try{if(AC(t))return}catch{}Qr(n,"unauthorized-domain")}),Uy.apply(this,arguments)}function AC(n){const e=xu(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!SC.test(t))return!1;if(TC.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const SA=new Ru(3e4,6e4);function By(){const n=ir().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Mc=null;function xC(n){return Mc=Mc||function MC(n){return new Promise((e,t)=>{var r,i,a;function l(){By(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{By(),t(ds(n,"network-request-failed"))},timeout:SA.get()})}if(null!==(i=null===(r=ir().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(a=ir().gapi)||void 0===a||!a.load){const h=Bu("iframefcb");return ir()[h]=()=>{gapi.load?l():t(ds(n,"network-request-failed"))},function aC(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ds("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",function cA(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${h}`).catch(p=>t(p))}l()}}).catch(e=>{throw Mc=null,e})}(n),Mc}const AA=new Ru(5e3,15e3),MA="__/auth/iframe",_k="emulator/auth/iframe",RC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wk(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Kh(e,_k):`https://${n.config.authDomain}/${MA}`,r={apiKey:e.apiKey,appName:n.name,v:Sn.SDK_VERSION},i=vk.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${(0,k.xO)(r).slice(1)}`}function NC(){return NC=(0,le.Z)(function*(n){const e=yield xC(n),t=ir().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:wk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RC,dontclear:!0},r=>new Promise(function(){var i=(0,le.Z)(function*(a,l){yield r.restyle({setHideOnLeave:!1});const h=ds(n,"network-request-failed"),p=ir().setTimeout(()=>{l(h)},AA.get());function y(){ir().clearTimeout(p),a(r)}r.ping(y).then(y,()=>{l(h)})});return function(a,l){return i.apply(this,arguments)}}()))}),NC.apply(this,arguments)}const Ik={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ck=500,bk=600,Dk="_blank",Nf="http://localhost";class xA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const OC="__/auth/handler",kC="emulator/auth/handler";function RA(n,e,t,r,i,a){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Sn.SDK_VERSION,eventId:i};if(e instanceof pn){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,k.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries(a||{}))l[p]=y}if(e instanceof jO){const p=e.getScopes().filter(y=>""!==y);p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const p of Object.keys(h))void 0===h[p]&&delete h[p];return`${function $y({config:n}){return n.emulator?Kh(n,kC):`https://${n.authDomain}/${OC}`}(n)}?${(0,k.xO)(h).slice(1)}`}const Of="webStorageSupport",Tk=class NA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eC,this._completeRedirectFn=Fy,this._overrideRedirectResult=EA}_openPopup(e,t,r,i){var a=this;return(0,le.Z)(function*(){var l;Ao(null===(l=a.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const h=RA(e,t,r,xu(),i);return function PC(n,e,t,r=Ck,i=bk){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Ik),{width:r.toString(),height:i.toString(),top:a,left:l}),y=(0,k.z$)().toLowerCase();t&&(h=yI(y)?Dk:t),mI(y)&&(e=e||Nf,p.scrollbars="yes");const w=Object.entries(p).reduce((T,[x,F])=>`${T}${x}=${F},`,"");if(function vI(n=(0,k.z$)()){var e;return hc(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(y)&&"_self"!==h)return function Pf(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",h),new xA(null);const E=window.open(e||"",h,w);Oe(E,n,"popup-blocked");try{E.focus()}catch{}return new xA(E)}(e,h,Ef())})()}_openRedirect(e,t,r,i){var a=this;return(0,le.Z)(function*(){return yield a._originValidation(e),function rA(n){ir().location.href=n}(RA(e,t,r,xu(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ao(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,le.Z)(function*(){const r=yield function Ek(n){return NC.apply(this,arguments)}(e),i=new DA(e);return r.register("authEvent",a=>(Oe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Of,{type:Of},i=>{var a;const l=null===(a=i?.[0])||void 0===a?void 0:a[Of];void 0!==l&&t(!!l),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function TA(n){return Uy.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nf()||tf()||hc()}};var xc="@firebase/auth";class Ak{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,le.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const OA=(0,k.Pz)("authIdTokenMaxAge")||300;let VC=null;const Rk=n=>function(){var e=(0,le.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>OA)return;const a=r?.token;VC!==a&&(VC=a,yield fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function kA(n=(0,Sn.getApp)()){const e=(0,Sn._getProvider)(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function cI(n,e){const t=(0,Sn._getProvider)(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if((0,k.vZ)(a,e??{}))return i;Qr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Tk,persistence:[aA,JI,eC]}),r=(0,k.Pz)("authTokenSyncURL");if(r){const a=Rk(r);(function ly(n,e,t){(0,k.m9)(n).beforeAuthStateChanged(e,t)})(t,a,()=>a(t.currentUser)),function uy(n,e,t,r){(0,k.m9)(n).onIdTokenChanged(e,t,r)}(t,l=>a(l))}const i=(0,k.q4)("auth");return i&&function CI(n,e,t){const r=di(n);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,a=bI(e),{host:l,port:h}=function MS(n){const e=bI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:DI(r.substr(a.length+1))}}{const[a,l]=r.split(":");return{host:a,port:DI(l)}}}(e);r.config.emulator={url:`${a}//${l}${null===h?"":`:${h}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function xS(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function xk(n){(0,Sn._registerComponent)(new Cu.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:a,authDomain:l}=r.options;return((h,p)=>{Oe(a&&!a.includes(":"),"invalid-api-key",{appName:h.name}),Oe(!l?.includes(":"),"argument-error",{appName:h.name});const y={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Am(n)},w=new II(h,p,y);return function wm(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ys);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(w,t),w})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Sn._registerComponent)(new Cu.wA("auth-internal",e=>{const t=di(e.getProvider("auth").getImmediate());return new Ak(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Sn.registerVersion)(xc,"0.21.4",function Mk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Sn.registerVersion)(xc,"0.21.4","esm2017")}("Browser");class Rc{constructor(e){return e}}class UC{constructor(){return(0,Gn.vb)("auth")}}const Hy=new g.OlP("angularfire2.auth-instances");function FA(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Rc(r)}}const Nk={provide:UC,deps:[[new g.FiY,Hy]]},Qi={provide:Rc,useFactory:function Gy(n,e){const t=(0,Gn.JM)("auth",n,e);return t&&new Rc(t)},deps:[[new g.FiY,Hy],Ss]};let LA=(()=>{class n{constructor(){(0,Ts.KN)("angularfire",Gn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[Qi,Nk]}),n})();function zy(n,...e){return{ngModule:LA,providers:[{provide:Hy,useFactory:FA(n),multi:!0,deps:[g.R0b,g.zs3,Gn.HU,qs,[new g.FiY,Ks],...e]}]}}const to=(0,Gn.u3)(kA,!0),eM=(0,Gn.u3)($S,!0);let ju=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}login(t,r){eM(this.auth,t,r).then(i=>{this.auth.currentUser?.getIdToken().then(a=>{this.token=a,this.router.navigate(["/"])})})}getIdToken(){return this.token}isAuthenticated(){return null!=this.token}logOut(){console.log("LogOut \u{1f44b}"),this.auth.signOut().then(()=>{this.token=null,console.log("dentro de logout"),this.router.navigate(["/login"])}).catch(t=>console.log("Error de logout"+t))}register(t,r){return function BS(n,e,t){return yf.apply(this,arguments)}(this.auth,t,r)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Rc),g.LFG(rr))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Yy=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n}),n})(),Oi=(()=>{class n extends Yy{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,features:[g.qOj]}),n})();const ps=new g.OlP("NgValueAccessor"),rM={provide:ps,useExisting:(0,g.Gpc)(()=>no),multi:!0},Xy=new g.OlP("CompositionEventMode");let no=(()=>{class n extends Yy{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Zy(){const n=Z()?Z().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Xy,8))},n.\u0275dir=g.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&g.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[g._Bn([rM]),g.qOj]}),n})();const Yk=!1;const hi=new g.OlP("NgValidators"),ro=new g.OlP("NgAsyncValidators");function Jy(n){return function xa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Hu(n){return null}function oM(n){return null!=n}function r_(n){const e=(0,g.QGY)(n)?(0,Bn.D)(n):n;if(Yk&&!(0,g.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new g.vHH(-1101,t)}return e}function Ff(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function KC(n,e){return e.map(t=>t(n))}function uM(n){return n.map(e=>function aM(n){return!n.validate}(e)?e:t=>e.validate(t))}function i_(n){return null!=n?function lM(n){if(!n)return null;const e=n.filter(oM);return 0==e.length?null:function(t){return Ff(KC(t,e))}}(uM(n)):null}function s_(n){return null!=n?function YC(n){if(!n)return null;const e=n.filter(oM);return 0==e.length?null:function(t){return function nM(...n){const e=(0,Xa.jO)(n),{args:t,keys:r}=Ew(n),i=new Hi.y(a=>{const{length:l}=t;if(!l)return void a.complete();const h=new Array(l);let p=l,y=l;for(let w=0;w<l;w++){let E=!1;(0,$d.Xf)(t[w]).subscribe((0,ui.x)(a,T=>{E||(E=!0,y--),h[w]=T},()=>p--,void 0,()=>{(!p||!E)&&(y||a.next(r?tu(r,h):h),a.complete())}))}});return e?i.pipe(Bd(e)):i}(KC(t,e).map(r_)).pipe((0,$t.U)(Ff))}}(uM(n)):null}function cM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function QC(n){return n?Array.isArray(n)?n:[n]:[]}function Lf(n,e){return Array.isArray(n)?n.includes(e):n===e}function fM(n,e){const t=QC(e);return QC(n).forEach(i=>{Lf(t,i)||t.push(i)}),t}function pM(n,e){return QC(e).filter(t=>!Lf(n,t))}class gM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=i_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=s_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ci extends gM{get formDirective(){return null}get path(){return null}}class Ra extends gM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let u=(()=>{class n extends mM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Ra,2))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g.qOj]}),n})(),c=(()=>{class n extends mM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Ci,10))},n.\u0275dir=g.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[g.qOj]}),n})();function Ke(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const An=!1,On="VALID",o_="INVALID",Vf="PENDING",a_="DISABLED";function yM(n){return(ZC(n)?n.validators:n)||null}function _M(n,e){return(ZC(e)?e.asyncValidators:n)||null}function ZC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Jk{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===On}get invalid(){return this.status===o_}get pending(){return this.status==Vf}get disabled(){return this.status===a_}get enabled(){return this.status!==a_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pM(e,this._rawAsyncValidators))}hasValidator(e){return Lf(this._rawValidators,e)}hasAsyncValidator(e){return Lf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Vf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=a_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=On,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===On||this.status===Vf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?a_:On}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Vf,this._hasOwnPendingAsyncValidator=!0;const t=r_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?a_:this.errors?o_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vf)?Vf:this._anyControlsHaveStatus(o_)?o_:On}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ZC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function P$(n){return Array.isArray(n)?i_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function O$(n){return Array.isArray(n)?s_(n):n||null}(this._rawAsyncValidators)}}class vM extends Jk{constructor(e,t,r){super(yM(t),_M(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Xk(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new g.vHH(1002,An?function St(n,e){return`Must supply a value for form control ${Ke(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function Zk(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new g.vHH(1e3,An?function lt(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new g.vHH(1001,An?function pe(n,e){return`Cannot find form control ${Ke(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Uf=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>XC}),XC="always";function u_(n,e,t=XC){wM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function L$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&e1(n,e)})}(n,e),function U$(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function V$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&e1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function F$(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function t0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wM(n,e){const t=function dM(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(cM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function hM(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(cM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();t0(e._rawValidators,i),t0(e._rawAsyncValidators,i)}function e1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const G$={provide:Ci,useExisting:(0,g.Gpc)(()=>Bf)},l_=(()=>Promise.resolve())();let Bf=(()=>{class n extends Ci{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new vM({},i_(t),s_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){l_.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),u_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){l_.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){l_.then(()=>{const r=this._findContainer(t.path),i=new vM({});(function t1(n,e){wM(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){l_.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){l_.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function n1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(hi,10),g.Y36(ro,10),g.Y36(Uf,8))},n.\u0275dir=g.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&g.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([G$]),g.qOj]}),n})();function r1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function i1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const s1=class extends Jk{constructor(e=null,t,r){super(yM(t),_M(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ZC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=i1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){r1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){r1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){i1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},q$={provide:Ra,useExisting:(0,g.Gpc)(()=>c_)},u1=(()=>Promise.resolve())();let c_=(()=>{class n extends Ra{constructor(t,r,i,a,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new s1,this._registered=!1,this.update=new g.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function CM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===no?t=a:function j$(n){return Object.getPrototypeOf(n.constructor)===Oi}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function IM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){u_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){u1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,g.D6c)(r);u1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function JC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Ci,9),g.Y36(hi,10),g.Y36(ro,10),g.Y36(ps,10),g.Y36(g.sBO,8),g.Y36(Uf,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([q$]),g.qOj,g.TTD]}),n})(),r0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),c1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),Nc=(()=>{class n{constructor(){this._validator=Hu}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,features:[g.TTD]}),n})();const dj={provide:hi,useExisting:(0,g.Gpc)(()=>$f),multi:!0};let $f=(()=>{class n extends Nc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.D6c,this.createValidator=t=>Jy}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&g.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([dj]),g.qOj]}),n})(),yj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[c1]}),n})(),vj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Uf,useValue:t.callSetDisabledState??XC}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[yj]}),n})(),wj=(()=>{class n{constructor(t,r){this.LogginService=t,this.router=r}onLogin(t){console.log("Dentro de login \u2714"),this.LogginService.login(t.value.email,t.value.password)}toRegister(){this.router.navigate(["/register"])}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(ju),g.Y36(rr))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-login"]],decls:11,vars:0,consts:[[1,"box","centrado"],["action","item",3,"ngSubmit"],["f","ngForm"],["type","email","name","email","placeholder","Email","ngModel","","size","20"],["type","password","name","password","placeholder","password","ngModel","","required","","size","20"],["type","submit",2,"cursor","pointer"],["type","submit",2,"cursor","pointer",3,"click"]],template:function(t,r){if(1&t){const i=g.EpF();g.TgZ(0,"div",0)(1,"form",1,2),g.NdJ("ngSubmit",function(){g.CHM(i);const l=g.MAs(2);return g.KtG(l.form.valid&&r.onLogin(l))}),g.TgZ(3,"div"),g._UZ(4,"input",3),g.qZA(),g.TgZ(5,"div"),g._UZ(6,"input",4),g.qZA(),g.TgZ(7,"button",5),g._uU(8,"Log-in \u2b50"),g.qZA()(),g.TgZ(9,"button",6),g.NdJ("click",function(){return r.toRegister()}),g._uU(10,"Register \u26a1"),g.qZA()()}},dependencies:[r0,no,u,c,$f,c_,Bf]}),n})(),A1=(()=>{class n{constructor(t,r){this.loginService=t,this.router=r}canActivate(t,r){return!!this.loginService.isAuthenticated()||(this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ju),g.LFG(rr))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ej{constructor(e,t){this.nombre=e,this.apellido=t}toString(){return`${this.nombre} ${this.apellido}`}}class MM{sendConsoleMessage(e){console.log(e)}}class s0{}class xM{}class Na{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Na?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Na;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Na?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===a.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ij{encodeKey(e){return M1(e)}encodeValue(e){return M1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bj=/%(\d[a-f0-9])/gi,Dj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function M1(n){return encodeURIComponent(n).replace(bj,(e,t)=>Dj[t]??e)}function o0(n){return`${n}`}class Gu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ij,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Cj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,h]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],p=t.get(l)||[];p.push(h),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(o0):[o0(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Gu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(o0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(o0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Tj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function x1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function R1(n){return typeof Blob<"u"&&n instanceof Blob}function N1(n){return typeof FormData<"u"&&n instanceof FormData}class d_{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Sj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Na),this.context||(this.context=new Tj),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new Gu,this.urlWithParams=t}serializeBody(){return null===this.body?null:x1(this.body)||R1(this.body)||N1(this.body)||function Aj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||N1(this.body)?null:R1(this.body)?this.body.type||null:x1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,y=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((E,T)=>E.set(T,e.setHeaders[T]),p)),e.setParams&&(y=Object.keys(e.setParams).reduce((E,T)=>E.set(T,e.setParams[T]),y)),new d_(t,r,a,{params:y,headers:p,context:w,reportProgress:h,responseType:i,withCredentials:l})}}var Sr=(()=>((Sr=Sr||{})[Sr.Sent=0]="Sent",Sr[Sr.UploadProgress=1]="UploadProgress",Sr[Sr.ResponseHeader=2]="ResponseHeader",Sr[Sr.DownloadProgress=3]="DownloadProgress",Sr[Sr.Response=4]="Response",Sr[Sr.User=5]="User",Sr))();class RM{constructor(e,t=200,r="OK"){this.headers=e.headers||new Na,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class NM extends RM{constructor(e={}){super(e),this.type=Sr.ResponseHeader}clone(e={}){return new NM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class a0 extends RM{constructor(e={}){super(e),this.type=Sr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new a0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class P1 extends RM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function PM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let O1=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof d_)a=t;else{let p,y;p=i.headers instanceof Na?i.headers:new Na(i.headers),i.params&&(y=i.params instanceof Gu?i.params:new Gu({fromObject:i.params})),a=new d_(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:y,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=gt(a).pipe(_o(p=>this.handler.handle(p)));if(t instanceof d_||"events"===i.observe)return l;const h=l.pipe(Hs(p=>p instanceof a0));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,$t.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,$t.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,$t.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,$t.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Gu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,PM(i,r))}post(t,r,i={}){return this.request("POST",t,PM(i,r))}put(t,r,i={}){return this.request("PUT",t,PM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(s0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function k1(n,e){return e(n)}function Mj(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Rj=new g.OlP("HTTP_INTERCEPTORS"),h_=new g.OlP("HTTP_INTERCEPTOR_FNS");function Nj(){let n=null;return(e,t)=>(null===n&&(n=((0,g.f3M)(Rj,{optional:!0})??[]).reduceRight(Mj,k1)),n(e,t))}let F1=(()=>{class n extends s0{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(h_)));this.chain=r.reduceRight((i,a)=>function xj(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),k1)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(xM),g.LFG(g.lqb))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Fj=/^\)\]\}',?\n/;let V1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Hi.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((x,F)=>i.setRequestHeader(x,F.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&i.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();i.responseType="json"!==x?x:"text"}const a=t.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const x=i.statusText||"OK",F=new Na(i.getAllResponseHeaders()),se=function Lj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new NM({headers:F,status:i.status,statusText:x,url:se}),l},p=()=>{let{headers:x,status:F,statusText:se,url:ge}=h(),ot=null;204!==F&&(ot=typeof i.response>"u"?i.responseText:i.response),0===F&&(F=ot?200:0);let bt=F>=200&&F<300;if("json"===t.responseType&&"string"==typeof ot){const xt=ot;ot=ot.replace(Fj,"");try{ot=""!==ot?JSON.parse(ot):null}catch(bn){ot=xt,bt&&(bt=!1,ot={error:bn,text:ot})}}bt?(r.next(new a0({body:ot,headers:x,status:F,statusText:se,url:ge||void 0})),r.complete()):r.error(new P1({error:ot,headers:x,status:F,statusText:se,url:ge||void 0}))},y=x=>{const{url:F}=h(),se=new P1({error:x,status:i.status||0,statusText:i.statusText||"Unknown Error",url:F||void 0});r.error(se)};let w=!1;const E=x=>{w||(r.next(h()),w=!0);let F={type:Sr.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(F.total=x.total),"text"===t.responseType&&i.responseText&&(F.partialText=i.responseText),r.next(F)},T=x=>{let F={type:Sr.UploadProgress,loaded:x.loaded};x.lengthComputable&&(F.total=x.total),r.next(F)};return i.addEventListener("load",p),i.addEventListener("error",y),i.addEventListener("timeout",y),i.addEventListener("abort",y),t.reportProgress&&(i.addEventListener("progress",E),null!==a&&i.upload&&i.upload.addEventListener("progress",T)),i.send(a),r.next({type:Sr.Sent}),()=>{i.removeEventListener("error",y),i.removeEventListener("abort",y),i.removeEventListener("load",p),i.removeEventListener("timeout",y),t.reportProgress&&(i.removeEventListener("progress",E),null!==a&&i.upload&&i.upload.removeEventListener("progress",T)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(is))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const OM=new g.OlP("XSRF_ENABLED"),U1=new g.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),B1=new g.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $1{}let Bj=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ee),g.LFG(g.Lbi),g.LFG(U1))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function $j(n,e){const t=n.url.toLowerCase();if(!(0,g.f3M)(OM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,g.f3M)($1).getToken(),i=(0,g.f3M)(B1);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var pr=(()=>((pr=pr||{})[pr.Interceptors=0]="Interceptors",pr[pr.LegacyInterceptors=1]="LegacyInterceptors",pr[pr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",pr[pr.NoXsrfProtection=3]="NoXsrfProtection",pr[pr.JsonpSupport=4]="JsonpSupport",pr[pr.RequestsMadeViaParent=5]="RequestsMadeViaParent",pr))();function jf(n,e){return{\u0275kind:n,\u0275providers:e}}function jj(...n){const e=[O1,V1,F1,{provide:s0,useExisting:F1},{provide:xM,useExisting:V1},{provide:h_,useValue:$j,multi:!0},{provide:OM,useValue:!0},{provide:$1,useClass:Bj}];for(const t of n)e.push(...t.\u0275providers);return(0,g.MR2)(e)}const j1=new g.OlP("LEGACY_INTERCEPTOR_FN");let Gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[jj(jf(pr.LegacyInterceptors,[{provide:j1,useFactory:Nj},{provide:h_,useExisting:j1,multi:!0}]))]}),n})(),H1=(()=>{class n{constructor(t,r){this.httpClient=t,this.logginAuth=r}loadPeople(){const t=this.logginAuth.getIdToken();return this.httpClient.get("https://data-base1-8cf55-default-rtdb.firebaseio.com/data.json?auth="+t)}savePersons(t){const r=this.logginAuth.getIdToken();this.httpClient.put("https://data-base1-8cf55-default-rtdb.firebaseio.com/data.json?auth="+r,t).subscribe(i=>{console.log("resultado de guardar persona"+i)},i=>console.log(`Error en guardar personas ${i}`))}modifyPerson(t,r){let a;a="https://data-base1-8cf55-default-rtdb.firebaseio.com/datos/"+t+".json?auth="+this.logginAuth.getIdToken(),console.log("url de modificarPersona:"+a),this.httpClient.put(a,r).subscribe(l=>{console.log("resultado modificar Persona: "+l)},l=>console.log("Error en modificar Persona: "+l))}deletePeople(t){let i;i="https://data-base1-8cf55-default-rtdb.firebaseio.com/datos/"+t+".json?auth="+this.logginAuth.getIdToken(),console.log("url de eliminarPersona:"+i),this.httpClient.delete(i).subscribe(a=>{console.log("resultado eliminar Persona: "+a)},a=>console.log("Error en eliminar Persona: "+a))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(O1),g.LFG(ju))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),kM=(()=>{class n{constructor(t,r){this.logginService=t,this.dataService=r,this.persons=[]}setPersons(t){this.persons=t}obtainPeople(){return this.dataService.loadPeople()}addPerson(t){this.logginService.sendConsoleMessage(`Adding persons ${t.toString()}`),null==this.persons&&(this.persons=[]),this.persons.push(t),this.dataService.savePersons(this.persons)}findPeople(t){let r=this.persons[t];return this.logginService.sendConsoleMessage(`persona encontrada ${r.toString()}`),r}modifyPerson(t,r){this.logginService.sendConsoleMessage("persona a modificar:"+r.toString()+" con indice:"+t);let i=this.persons[t];i.nombre=r.nombre,i.apellido=r.apellido,this.dataService.modifyPerson(t,r)}modifyPersons(){this.logginService.sendConsoleMessage("modificar todas las personas:"),null!=this.persons&&this.dataService.savePersons(this.persons)}deletePeople(t){this.logginService.sendConsoleMessage("eliminar persona con indice: "+t),this.persons.splice(t,1),this.dataService.deletePeople(t),this.modifyPersons()}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(MM),g.LFG(H1))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function zj(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"button",7),g.NdJ("click",function(){g.CHM(t);const i=g.oxw();return g.KtG(i.onDeletePerson())}),g._uU(1,"-"),g.qZA()}}let G1=(()=>{class n{constructor(t,r,i,a){this.logginService=t,this.personService=r,this.routerService=i,this.routeService=a}ngOnInit(){if(this.index=this.routeService.snapshot.params.id,this.modoEdicion=+this.routeService.snapshot.queryParams.modoEdicion,null!=this.modoEdicion&&1===this.modoEdicion){let t=this.personService.findPeople(this.index);null!=t&&(this.nameInput=t.nombre,this.surnameInput=t.apellido)}}onAddPerson(){if(null!=this.nameInput&&null!=this.surnameInput){let t=new Ej(this.nameInput,this.surnameInput);null!=this.modoEdicion&&1==this.modoEdicion?this.personService.modifyPerson(this.index,t):this.personService.addPerson(t),this.logginService.sendConsoleMessage(`Persona agregada / modificada ${t.toString()}`),this.routerService.navigate(["personas"])}}onDeletePerson(){null!=this.index&&this.personService.deletePeople(this.index),this.routerService.navigate(["personas"])}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(MM),g.Y36(kM),g.Y36(rr),g.Y36(Ei))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-form"]],decls:8,vars:3,consts:[[1,"box","centrado"],[1,"item",3,"ngSubmit"],["f","ngForm"],["type","text","name","nombre","placeholder","Nombre","required","",3,"ngModel","ngModelChange"],["type","text","name","apellido","placeholder","Apellido","required","",3,"ngModel","ngModelChange"],["type","submit",2,"cursor","pointer"],["type","submit","style","cursor: pointer","class","buttonRed",3,"click",4,"ngIf"],["type","submit",1,"buttonRed",2,"cursor","pointer",3,"click"]],template:function(t,r){if(1&t){const i=g.EpF();g.TgZ(0,"div",0)(1,"form",1,2),g.NdJ("ngSubmit",function(){g.CHM(i);const l=g.MAs(2);return g.KtG(l.form.valid&&r.onAddPerson())}),g.TgZ(3,"input",3),g.NdJ("ngModelChange",function(l){return r.nameInput=l}),g.qZA(),g.TgZ(4,"input",4),g.NdJ("ngModelChange",function(l){return r.surnameInput=l}),g.qZA(),g.TgZ(5,"button",5),g._uU(6,"+"),g.qZA(),g.YNc(7,zj,2,0,"button",6),g.qZA()()}2&t&&(g.xp6(3),g.Q6J("ngModel",r.nameInput),g.xp6(1),g.Q6J("ngModel",r.surnameInput),g.xp6(3),g.Q6J("ngIf",null!=r.index))},dependencies:[ai,r0,no,u,c,$f,c_,Bf],styles:[".buttonRed[_ngcontent-%COMP%]{background-color:red}button[_ngcontent-%COMP%]{background-color:#00f}"]}),n})();const Wj=function(n){return["/personas",n]},qj=function(){return{modoEdicion:"1"}};let Kj=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-person"]],inputs:{person:"person",i:"i"},decls:5,vars:7,consts:[[1,"box","centrado"],[3,"routerLink","queryParams"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"ul")(2,"li")(3,"a",1),g._uU(4),g.qZA()()()()),2&t&&(g.xp6(3),g.Q6J("routerLink",g.VKq(4,Wj,r.i))("queryParams",g.DdM(6,qj)),g.xp6(1),g.AsE(" ",r.person.nombre," ",r.person.apellido,""))},dependencies:[Ql]}),n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Yj(n,e){if(1&n&&g._UZ(0,"app-person",5),2&n){const r=e.index;g.Q6J("person",e.$implicit)("i",r)}}let z1=(()=>{class n{constructor(t,r){this.personsService=t,this.routerService=r,this.persons=[]}ngOnInit(){this.personsService.obtainPeople().subscribe(t=>{this.persons=t,this.personsService.setPersons(this.persons),console.log(`Obtain persons suscriber ${this.persons}`)})}irAgregar(){console.log("nos vamos a agregar "),this.routerService.navigate(["./personas/agregar"],{queryParams:{modoEdicion:0}})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(kM),g.Y36(rr))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-persons"]],decls:9,vars:1,consts:[[2,"text-align","center"],[1,"button1",2,"cursor","pointer",3,"click"],[1,"box","centrado"],[1,"box"],[3,"person","i",4,"ngFor","ngForOf"],[3,"person","i"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"button",1),g.NdJ("click",function(){return r.irAgregar()}),g._uU(2," Agregar \u2705 "),g.qZA()(),g.TgZ(3,"div",2)(4,"h3"),g._uU(5,"Presiona para editar \u270d"),g.qZA()(),g.TgZ(6,"div",3),g.YNc(7,Yj,1,2,"app-person",4),g.qZA(),g._UZ(8,"router-outlet")),2&t&&(g.xp6(7),g.Q6J("ngForOf",r.persons))},dependencies:[We,Mg,Kj],styles:[".button1[_ngcontent-%COMP%]{background-color:#7fffd4}"]}),n})();const Qj=[{path:"",component:z1,canActivate:[A1]},{path:"personas",component:z1,canActivate:[A1],children:[{path:"agregar",component:G1},{path:":id",component:G1}]},{path:"login",component:wj},{path:"register",component:(()=>{class n{constructor(t,r){this.logginService=t,this.router=r}onRegister(t){console.log("On-Register \u270d"),this.logginService.register(t.value.email,t.value.password).then(a=>console.log(a)).catch(a=>console.log("Error"+a))}toLogin(){this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(ju),g.Y36(rr))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-register"]],decls:11,vars:0,consts:[[1,"box","centrado"],["action","item",3,"ngSubmit"],["f","ngForm"],["type","email","name","email","placeholder","Email","ngModel","","size","20"],["type","password","name","password","placeholder","password","ngModel","","required","","size","20"],["type","submit",2,"cursor","pointer"],["type","submit",2,"cursor","pointer",3,"click"]],template:function(t,r){if(1&t){const i=g.EpF();g.TgZ(0,"div",0)(1,"form",1,2),g.NdJ("ngSubmit",function(){g.CHM(i);const l=g.MAs(2);return g.KtG(l.form.valid&&r.onRegister(l))}),g.TgZ(3,"div"),g._UZ(4,"input",3),g.qZA(),g.TgZ(5,"div"),g._UZ(6,"input",4),g.qZA(),g.TgZ(7,"button",5),g._uU(8,"Register \u26a1"),g.qZA()(),g.TgZ(9,"button",6),g.NdJ("click",function(){return r.toLogin()}),g._uU(10,"Back to log-in \u{1f519}"),g.qZA()()}},dependencies:[r0,no,u,c,$f,c_,Bf]}),n})()},{path:"**",component:LE}];let Zj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Yg.forRoot(Qj),Yg]}),n})();var W1=R(3844);const q1="@firebase/database";let FM="";class Jj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,k.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,k.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class eH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,k.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Y1=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Jj(e)}}catch{}return new eH},Pc=Y1("localStorage"),LM=Y1("sessionStorage"),Hf=new As.Yd("@firebase/database"),Q1=function(){let n=1;return function(){return n++}}(),Z1=function(n){const e=(0,k.dS)(n),t=new k.gQ;t.update(e);const r=t.digest();return k.US.encodeByteArray(r)},f_=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=f_.apply(null,r):e+="object"==typeof r?(0,k.Wl)(r):r,e+=" "}return e};let Oc=null,X1=!0;const Zr=function(...n){if(!0===X1&&(X1=!1,null===Oc&&!0===LM.get("logging_enabled")&&function(n,e){(0,k.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Hf.logLevel=As.in.VERBOSE,Oc=Hf.log.bind(Hf),e&&LM.set("logging_enabled",!0)):"function"==typeof n?Oc=n:(Oc=null,LM.remove("logging_enabled"))}(!0)),Oc){const e=f_.apply(null,n);Oc(e)}},p_=function(n){return function(...e){Zr(n,...e)}},VM=function(...n){const e="FIREBASE INTERNAL ERROR: "+f_(...n);Hf.error(e)},Lo=function(...n){const e=`FIREBASE FATAL ERROR: ${f_(...n)}`;throw Hf.error(e),new Error(e)},bi=function(...n){const e="FIREBASE WARNING: "+f_(...n);Hf.warn(e)},u0=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zu="[MIN_NAME]",Pa="[MAX_NAME]",kc=function(n,e){if(n===e)return 0;if(n===zu||e===Pa)return-1;if(e===zu||n===Pa)return 1;{const t=nF(n),r=nF(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},rH=function(n,e){return n===e?0:n<e?-1:1},g_=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.Wl)(e))},UM=function(n){if("object"!=typeof n||null===n)return(0,k.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,k.Wl)(e[r]),t+=":",t+=UM(n[e[r]]);return t+="}",t},eF=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Xr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const tF=function(n){(0,k.hu)(!u0(n),"Invalid JSON number");const r=1023;let i,a,l,h,p;0===n?(a=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=h+r,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(a=0,l=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)y.push(a%2?1:0),a=Math.floor(a/2);y.push(i?1:0),y.reverse();const w=y.join("");let E="";for(p=0;p<64;p+=8){let T=parseInt(w.substr(p,8),2).toString(16);1===T.length&&(T="0"+T),E+=T}return E.toLowerCase()},aH=new RegExp("^-?(0*)\\d{1,10}$"),nF=function(n){if(aH.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Gf=function(n){try{n()}catch(e){setTimeout(()=>{throw bi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},cH=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},m_=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class dH{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){bi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class hH{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Zr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bi(e)}}let y_=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const aF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cF="websocket",dF="long_polling";class $M{constructor(e,t,r,i,a=!1,l="",h=!1,p=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function hF(n,e,t){let r;if((0,k.hu)("string"==typeof e,"typeof type must == string"),(0,k.hu)("object"==typeof t,"typeof params must == object"),e===cF)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==dF)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function fH(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Xr(t,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}class pH{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,k.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,k.p$)(this.counters_)}}const jM={},HM={};function GM(n){const e=n.toString();return jM[e]||(jM[e]=new pH),jM[e]}class mH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Gf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wu{constructor(e,t,r,i,a,l,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=p_(e),this.stats_=GM(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),hF(t,dF,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new mH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zM((...a)=>{const[l,h,p,y,w]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[l,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&aF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wu.forceAllow_=!0}static forceDisallow(){Wu.forceDisallow_=!0}static isAvailable(){return!((0,k.Yr)()||!Wu.forceAllow_&&(Wu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,k.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,k.h$)(t),i=eF(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,k.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,k.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class zM{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Q1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=zM.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){Zr("frame writing exception"),h.stack&&Zr(h.stack),Zr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Zr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,k.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Zr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let c0=null;typeof MozWebSocket<"u"?c0=MozWebSocket:typeof WebSocket<"u"&&(c0=WebSocket);let zf=(()=>{class n{constructor(t,r,i,a,l,h,p){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=p_(this.connId),this.stats_=GM(r),this.connURL=n.connectionURL_(r,h,p,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,a,l){const h={v:"5"};return!(0,k.Yr)()&&typeof location<"u"&&location.hostname&&aF.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),a&&(h.ac=a),l&&(h.p=l),hF(t,cF,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pc.set("previous_websocket_failure",!0);try{let i;if((0,k.Yr)()){i={headers:{"User-Agent":`Firebase/5/${FM}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new c0(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==c0&&!n.forceDisallow_}static previouslyFailed(){return Pc.isInMemoryStorage||!0===Pc.get("previous_websocket_failure")}markConnectionHealthy(){Pc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,k.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,k.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=eF(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),vF=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Wu,zf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=zf&&zf.isAvailable();let i=r&&!zf.previouslyFailed();if(t.webSocketOnly&&(r||bi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zf];else{const a=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class TF{constructor(e,t,r,i,a,l,h,p,y,w){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=p_("c:"+this.id+":"),this.transportManager_=new vF(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=m_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=g_("t",e),r=g_("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=g_("t",e),r=g_("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=g_("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?VM("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):VM("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&bi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),m_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):m_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class SF{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class AF{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,k.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,k.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class d0 extends AF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,k.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new d0}getInitialEvent(e){return(0,k.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const MF=32,xF=768;class yn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function cn(){return new yn("")}function Gt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function qu(n){return n.pieces_.length-n.pieceNum_}function kn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new yn(n.pieces_,e)}function qM(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function __(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function RF(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new yn(e,0)}function zn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof yn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new yn(t,0)}function zt(n){return n.pieceNum_>=n.pieces_.length}function ki(n,e){const t=Gt(n),r=Gt(e);if(null===t)return e;if(t===r)return ki(kn(n),kn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function KM(n,e){if(qu(n)!==qu(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Ps(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(qu(n)>qu(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class UH{constructor(e,t){this.errorPrefix_=t,this.parts_=__(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,k.ug)(this.parts_[r]);NF(this)}}function NF(n){if(n.byteLength_>xF)throw new Error(n.errorPrefix_+"has a key path longer than "+xF+" bytes ("+n.byteLength_+").");if(n.parts_.length>MF)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MF+") or object contains a cycle "+Fc(n))}function Fc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class YM extends AF{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new YM}getInitialEvent(e){return(0,k.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const v_=1e3;let f0,Lc=(()=>{class n extends SF{constructor(t,r,i,a,l,h,p,y){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=p_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=v_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");YM.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&d0.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const a=++this.requestNumber_,l={r:a,a:t,b:r};this.log_((0,k.Wl)(l)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const r=new k.BH,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}};return this.outstandingGets_.push(a),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,a){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,k.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:i};this.listens.get(h).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const y=p.d,w=p.s;n.warnOnListenWarnings_(y,r),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(i,a),t.onComplete&&t.onComplete(w,y))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,k.r3)(t,"w")){const i=(0,k.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();bi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,k.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,k.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const l=a.s,h=a.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,k.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,r)}sendUnlisten_(t,r,i,a){this.log_("Unlisten on "+t+" for "+r);const l={p:t};a&&(l.q=i,l.t=a),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,a){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{a&&setTimeout(()=>{a(h.s,h.d)},Math.floor(0))})}put(t,r,i,a){this.putInternal("p",t,r,i,a)}merge(t,r,i,a){this.putInternal("m",t,r,i,a)}putInternal(t,r,i,a,l){this.initConnection_();const h={p:r,d:i};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,k.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):VM("Unrecognized action received from server: "+(0,k.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=v_,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=v_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=v_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,le.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,y=null;const w=function(){y?y.close():(p=!0,a())};t.realtime_={close:w,sendRequest:function(x){(0,k.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(x)}};const T=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[x,F]=yield Promise.all([t.authTokenProvider_.getToken(T),t.appCheckTokenProvider_.getToken(T)]);p?Zr("getToken() completed but was canceled"):(Zr("getToken() completed. Creating connection."),t.authToken_=x&&x.accessToken,t.appCheckToken_=F&&F.token,y=new TF(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,a,se=>{bi(se+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(x){t.log_("Failed to get token: "+x),p||(t.repoInfo_.nodeAdmin&&bi(x),w())}}})()}interrupt(t){Zr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Zr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=v_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>UM(l)).join("$"):"default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const i=new yn(t).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,r){Zr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Zr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,k.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+FM.replace(/\./g,"-")]=1,(0,k.uI)()?t["framework.cordova"]=1:(0,k.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=d0.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Kt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Kt(e,t)}}class h0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Kt(zu,e),i=new Kt(zu,t);return 0!==this.compare(r,i)}minPost(){return Kt.MIN}}class kF extends h0{static get __EMPTY_NODE(){return f0}static set __EMPTY_NODE(e){f0=e}compare(e,t){return kc(e.name,t.name)}isDefinedOn(e){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Kt.MIN}maxPost(){return new Kt(Pa,f0)}makePost(e,t){return(0,k.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Kt(e,f0)}toString(){return".key"}}const Vo=new kF;class p0{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let ZM,io=(()=>{class n{constructor(t,r,i,a,l){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??Zi.EMPTY_NODE,this.right=l??Zi.EMPTY_NODE}copy(t,r,i,a,l){return new n(t??this.key,r??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,r,i),null):0===l?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,a;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Zi.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Zi{constructor(e,t=Zi.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Zi(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,io.BLACK,null,null))}remove(e){return new Zi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,io.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new p0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new p0(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new p0(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new p0(this.root_,null,this.comparator_,!0,e)}}function qH(n,e){return kc(n.name,e.name)}function QM(n,e){return kc(n,e)}Zi.EMPTY_NODE=new class WH{copy(e,t,r,i,a){return this}insert(e,t,r){return new io(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const FF=function(n){return"number"==typeof n?"number:"+tF(n):"string:"+n},LF=function(n){if(n.isLeafNode()){const e=n.val();(0,k.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,k.r3)(e,".sv"),"Priority must be a string or number.")}else(0,k.hu)(n===ZM||n.isEmpty(),"priority of unexpected type.");(0,k.hu)(n===ZM||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let VF,UF,BF,Wf=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),LF(this.priorityNode_)}static set __childrenNodeConstructor(t){VF=t}static get __childrenNodeConstructor(){return VF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return zt(t)?this:".priority"===Gt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Gt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,k.hu)(".priority"!==i||1===qu(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(kn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+FF(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?tF(this.value_):this.value_,this.lazyHash_=Z1(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,k.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,k.hu)(a>=0,"Unknown leaf type: "+r),(0,k.hu)(l>=0,"Unknown leaf type: "+i),a===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Vn=new class ZH extends h0{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return 0===a?kc(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Kt.MIN}maxPost(){return new Kt(Pa,new Wf("[PRIORITY-POST]",BF))}makePost(e,t){const r=UF(e);return new Kt(t,new Wf("[PRIORITY-POST]",r))}toString(){return".priority"}},XH=Math.log(2);class JH{constructor(e){this.count=parseInt(Math.log(e+1)/XH,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const g0=function(n,e,t,r){n.sort(e);const i=function(p,y){const w=y-p;let E,T;if(0===w)return null;if(1===w)return E=n[p],T=t?t(E):E,new io(T,E.node,io.BLACK,null,null);{const x=parseInt(w/2,10)+p,F=i(p,x),se=i(x+1,y);return E=n[x],T=t?t(E):E,new io(T,E.node,io.BLACK,F,se)}},h=function(p){let y=null,w=null,E=n.length;const T=function(F,se){const ge=E-F,ot=E;E-=F;const bt=i(ge+1,ot),xt=n[ge],bn=t?t(xt):xt;x(new io(bn,xt.node,se,null,bt))},x=function(F){y?(y.left=F,y=F):(w=F,y=F)};for(let F=0;F<p.count;++F){const se=p.nextBitIsOne(),ge=Math.pow(2,p.count-(F+1));se?T(ge,io.BLACK):(T(ge,io.BLACK),T(ge,io.RED))}return w}(new JH(n.length));return new Zi(r||e,h)};let XM;const qf={};class Oa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,k.hu)(qf&&Vn,"ChildrenNode.ts has not been loaded"),XM=XM||new Oa({".priority":qf},{".priority":Vn}),XM}get(e){const t=(0,k.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Zi?t:null}hasIndex(e){return(0,k.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,k.hu)(e!==Vo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(Kt.Wrap);let h,l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();h=i?g0(r,e.getCompare()):qf;const p=e.toString(),y=Object.assign({},this.indexSet_);y[p]=e;const w=Object.assign({},this.indexes_);return w[p]=h,new Oa(w,y)}addToIndexes(e,t){const r=(0,k.UI)(this.indexes_,(i,a)=>{const l=(0,k.DV)(this.indexSet_,a);if((0,k.hu)(l,"Missing index implementation for "+a),i===qf){if(l.isDefinedOn(e.node)){const h=[],p=t.getIterator(Kt.Wrap);let y=p.getNext();for(;y;)y.name!==e.name&&h.push(y),y=p.getNext();return h.push(e),g0(h,l.getCompare())}return qf}{const h=t.get(e.name);let p=i;return h&&(p=p.remove(new Kt(e.name,h))),p.insert(e,e.node)}});return new Oa(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,k.UI)(this.indexes_,i=>{if(i===qf)return i;{const a=t.get(e.name);return a?i.remove(new Kt(e.name,a)):i}});return new Oa(r,this.indexSet_)}}let w_,Vt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&LF(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return w_||(w_=new n(new Zi(QM),null,Oa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||w_}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?w_:r}}getChild(t){const r=Gt(t);return null===r?this:this.getImmediateChild(r).getChild(kn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,k.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Kt(t,r);let a,l;r.isEmpty()?(a=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const h=a.isEmpty()?w_:this.priorityNode_;return new n(a,h,l)}}updateChild(t,r){const i=Gt(t);if(null===i)return r;{(0,k.hu)(".priority"!==Gt(t)||1===qu(t),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(kn(t),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,a=0,l=!0;if(this.forEachChild(Vn,(h,p)=>{r[h]=p.val(t),i++,l&&n.INTEGER_REGEXP_.test(h)?a=Math.max(a,Number(h)):l=!1}),!t&&l&&a<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+FF(this.getPriority().val())+":"),this.forEachChild(Vn,(r,i)=>{const a=i.hash();""!==a&&(t+=":"+r+":"+a)}),this.lazyHash_=""===t?"":Z1(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new Kt(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Kt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Kt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,Kt.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,Kt.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)>0;)a.getNext(),l=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===E_?-1:0}withIndex(t){if(t===Vo||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Vo||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Vn),a=r.getIterator(Vn);let l=i.getNext(),h=a.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=i.getNext(),h=a.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Vo?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const E_=new class eG extends Vt{constructor(){super(new Zi(QM),Vt.EMPTY_NODE,Oa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Kt,{MIN:{value:new Kt(zu,Vt.EMPTY_NODE)},MAX:{value:new Kt(Pa,E_)}}),kF.__EMPTY_NODE=Vt.EMPTY_NODE,Wf.__childrenNodeConstructor=Vt,function KH(n){ZM=n}(E_),function QH(n){BF=n}(E_);const tG=!0;function Zn(n,e=null){if(null===n)return Vt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,k.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Wf(n,Zn(e));if(n instanceof Array||!tG){let t=Vt.EMPTY_NODE;return Xr(n,(r,i)=>{if((0,k.r3)(n,r)&&"."!==r.substring(0,1)){const a=Zn(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(Zn(e))}{const t=[];let r=!1;if(Xr(n,(l,h)=>{if("."!==l.substring(0,1)){const p=Zn(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new Kt(l,p)))}}),0===t.length)return Vt.EMPTY_NODE;const a=g0(t,qH,l=>l.name,QM);if(r){const l=g0(t,Vn.getCompare());return new Vt(a,Zn(e),new Oa({".priority":l},{".priority":Vn}))}return new Vt(a,Zn(e),Oa.Default)}}!function YH(n){UF=n}(Zn);class JM extends h0{constructor(e){super(),this.indexPath_=e,(0,k.hu)(!zt(e)&&".priority"!==Gt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return 0===a?kc(e.name,t.name):a}makePost(e,t){const r=Zn(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Kt(t,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,E_);return new Kt(Pa,e)}toString(){return __(this.indexPath_,0).join("/")}}const ex=new class nG extends h0{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?kc(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Kt.MIN}maxPost(){return Kt.MAX}makePost(e,t){const r=Zn(e);return new Kt(t,r)}toString(){return".value"}};function C_(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class nx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vn}copy(){const e=new nx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jF(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Vn?t="$priority":n.index_===ex?t="$value":n.index_===Vo?t="$key":((0,k.hu)(n.index_ instanceof JM,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,k.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,k.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,k.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,k.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,k.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function HF(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Vn&&(e.i=n.index_.toString()),e}class y0 extends SF{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=p_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,k.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=y0.getListenId_(e,r),h={};this.listens_[l]=h;const p=jF(e._queryParams);this.restRequest_(a+".json",p,(y,w)=>{let E=w;if(404===y&&(E=null,y=null),null===y&&this.onDataUpdate_(a,E,!1,r),(0,k.DV)(this.listens_,l)===h){let T;T=y?401===y?"permission_denied":"rest_error:"+y:"ok",i(T,null)}})}unlisten(e,t){const r=y0.getListenId_(e,t);delete this.listens_[r]}get(e){const t=jF(e._queryParams),r=e._path.toString(),i=new k.BH;return this.restRequest_(r+".json",t,(a,l)=>{let h=l;404===a&&(h=null,a=null),null===a?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,k.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,k.cI)(h.responseText)}catch{bi("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&bi("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class cG{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function _0(){return{value:null,children:new Map}}function Yf(n,e,t){if(zt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Gt(e);n.children.has(r)||n.children.set(r,_0()),Yf(n.children.get(r),e=kn(e),t)}}function ox(n,e,t){null!==n.value?t(e,n.value):function dG(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{ox(i,new yn(e.toString()+"/"+r),t)})}class hG{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Xr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class gG{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hG(e);const r=1e4+2e4*Math.random();m_(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Xr(e,(i,a)=>{a>0&&(0,k.r3)(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),m_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Os=(()=>{return(n=Os||(Os={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Os;var n})();function lx(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class v0{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Os.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(zt(this.path)){if(null!=this.affectedTree.value)return(0,k.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new yn(e));return new v0(cn(),t,this.revert)}}return(0,k.hu)(Gt(this.path)===e,"operationForChild called for unrelated child."),new v0(kn(this.path),this.affectedTree,this.revert)}}class Vc{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Os.OVERWRITE}operationForChild(e){return zt(this.path)?new Vc(this.source,cn(),this.snap.getImmediateChild(e)):new Vc(this.source,kn(this.path),this.snap)}}class Qf{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Os.MERGE}operationForChild(e){if(zt(this.path)){const t=this.children.subtree(new yn(e));return t.isEmpty()?null:t.value?new Vc(this.source,cn(),t.value):new Qf(this.source,cn(),t)}return(0,k.hu)(Gt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Qf(this.source,kn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ku{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(zt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Gt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function T_(n,e,t,r,i,a){const l=r.filter(h=>h.type===t);l.sort((h,p)=>function vG(n,e,t){if(null==e.childName||null==t.childName)throw(0,k.g5)("Should only compare child_ events.");const r=new Kt(e.childName,e.snapshotNode),i=new Kt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),l.forEach(h=>{const p=function _G(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,a);i.forEach(y=>{y.respondsTo(h.type)&&e.push(y.createEvent(p,n.query_))})})}function w0(n,e){return{eventCache:n,serverCache:e}}function S_(n,e,t,r){return w0(new Ku(e,t,r),n.serverCache)}function zF(n,e,t,r){return w0(n.eventCache,new Ku(e,t,r))}function E0(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Uc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let cx;class Un{constructor(e,t=(()=>(cx||(cx=new Zi(rH)),cx))()){this.value=e,this.children=t}static fromObject(e){let t=new Un(null);return Xr(e,(r,i)=>{t=t.set(new yn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:cn(),value:this.value};if(zt(e))return null;{const r=Gt(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(kn(e),t);return null!=a?{path:zn(new yn(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(zt(e))return this;{const t=Gt(e),r=this.children.get(t);return null!==r?r.subtree(kn(e)):new Un(null)}}set(e,t){if(zt(e))return new Un(t,this.children);{const r=Gt(e),a=(this.children.get(r)||new Un(null)).set(kn(e),t),l=this.children.insert(r,a);return new Un(this.value,l)}}remove(e){if(zt(e))return this.children.isEmpty()?new Un(null):new Un(null,this.children);{const t=Gt(e),r=this.children.get(t);if(r){const i=r.remove(kn(e));let a;return a=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&a.isEmpty()?new Un(null):new Un(this.value,a)}return this}}get(e){if(zt(e))return this.value;{const t=Gt(e),r=this.children.get(t);return r?r.get(kn(e)):null}}setTree(e,t){if(zt(e))return t;{const r=Gt(e),a=(this.children.get(r)||new Un(null)).setTree(kn(e),t);let l;return l=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new Un(this.value,l)}}fold(e){return this.fold_(cn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(zn(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,cn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(zt(e))return null;{const a=Gt(e),l=this.children.get(a);return l?l.findOnPath_(kn(e),zn(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,cn(),t)}foreachOnPath_(e,t,r){if(zt(e))return this;{this.value&&r(t,this.value);const i=Gt(e),a=this.children.get(i);return a?a.foreachOnPath_(kn(e),zn(t,i),r):new Un(null)}}foreach(e){this.foreach_(cn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(zn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class so{constructor(e){this.writeTree_=e}static empty(){return new so(new Un(null))}}function A_(n,e,t){if(zt(e))return new so(new Un(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const l=ki(i,e);return a=a.updateChild(l,t),new so(n.writeTree_.set(i,a))}{const i=new Un(t),a=n.writeTree_.setTree(e,i);return new so(a)}}}function dx(n,e,t){let r=n;return Xr(t,(i,a)=>{r=A_(r,zn(e,i),a)}),r}function WF(n,e){if(zt(e))return so.empty();{const t=n.writeTree_.setTree(e,new Un(null));return new so(t)}}function hx(n,e){return null!=Bc(n,e)}function Bc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ki(t.path,e)):null}function qF(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Vn,(r,i)=>{e.push(new Kt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Kt(r,i.value))}),e}function Yu(n,e){if(zt(e))return n;{const t=Bc(n,e);return new so(null!=t?new Un(t):n.writeTree_.subtree(e))}}function fx(n){return n.writeTree_.isEmpty()}function Zf(n,e){return KF(cn(),n.writeTree_,e)}function KF(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,k.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):t=KF(zn(n,i),a,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(zn(n,".priority"),r)),t}}function I0(n,e){return JF(e,n)}function DG(n,e){if(n.snap)return Ps(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ps(zn(n.path,t),e))return!0;return!1}function SG(n){return n.visible}function YF(n,e,t){let r=so.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const l=a.path;let h;if(a.snap)Ps(t,l)?(h=ki(t,l),r=A_(r,h,a.snap)):Ps(l,t)&&(h=ki(l,t),r=A_(r,cn(),a.snap.getChild(h)));else{if(!a.children)throw(0,k.g5)("WriteRecord should have .snap or .children");if(Ps(t,l))h=ki(t,l),r=dx(r,h,a.children);else if(Ps(l,t))if(h=ki(l,t),zt(h))r=dx(r,cn(),a.children);else{const p=(0,k.DV)(a.children,Gt(h));if(p){const y=p.getChild(kn(h));r=A_(r,cn(),y)}}}}}return r}function QF(n,e,t,r,i){if(r||i){const a=Yu(n.visibleWrites,e);return!i&&fx(a)?t:i||null!=t||hx(a,cn())?Zf(YF(n.allWrites,function(y){return(y.visible||i)&&(!r||!~r.indexOf(y.writeId))&&(Ps(y.path,e)||Ps(e,y.path))},e),t||Vt.EMPTY_NODE):null}{const a=Bc(n.visibleWrites,e);if(null!=a)return a;{const l=Yu(n.visibleWrites,e);return fx(l)?t:null!=t||hx(l,cn())?Zf(l,t||Vt.EMPTY_NODE):null}}}function C0(n,e,t,r){return QF(n.writeTree,n.treePath,e,t,r)}function px(n,e){return function AG(n,e,t){let r=Vt.EMPTY_NODE;const i=Bc(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Vn,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(t){const a=Yu(n.visibleWrites,e);return t.forEachChild(Vn,(l,h)=>{const p=Zf(Yu(a,new yn(l)),h);r=r.updateImmediateChild(l,p)}),qF(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return qF(Yu(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function ZF(n,e,t,r){return function MG(n,e,t,r,i){(0,k.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=zn(e,t);if(hx(n.visibleWrites,a))return null;{const l=Yu(n.visibleWrites,a);return fx(l)?i.getChild(t):Zf(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function b0(n,e){return function RG(n,e){return Bc(n.visibleWrites,e)}(n.writeTree,zn(n.treePath,e))}function gx(n,e,t){return function xG(n,e,t,r){const i=zn(e,t),a=Bc(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(t)?Zf(Yu(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function XF(n,e){return JF(zn(n.treePath,e),n.writeTree)}function JF(n,e){return{treePath:n,writeTree:e}}class kG{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,k.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,k.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,C_(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,function I_(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,function Kf(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,k.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,C_(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const eL=new class FG{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class mx{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ku(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gx(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Uc(this.viewCache_),a=function OG(n,e,t,r,i,a){return function NG(n,e,t,r,i,a,l){let h;const p=Yu(n.visibleWrites,e),y=Bc(p,cn());if(null!=y)h=y;else{if(null==t)return[];h=Zf(p,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const w=[],E=l.getCompare(),T=a?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let x=T.getNext();for(;x&&w.length<i;)0!==E(x,r)&&w.push(x),x=T.getNext();return w}}(n.writeTree,n.treePath,e,t,r,i,a)}(this.writes_,i,t,1,r,e);return 0===a.length?null:a[0]}}function tL(n,e,t,r,i,a){const l=e.eventCache;if(null!=b0(r,t))return e;{let h,p;if(zt(t))if((0,k.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=Uc(e),E=px(r,y instanceof Vt?y:Vt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),E,a)}else{const y=C0(r,Uc(e));h=n.filter.updateFullNode(e.eventCache.getNode(),y,a)}else{const y=Gt(t);if(".priority"===y){(0,k.hu)(1===qu(t),"Can't have a priority with additional path components");const w=l.getNode();p=e.serverCache.getNode();const E=ZF(r,t,w,p);h=null!=E?n.filter.updatePriority(w,E):l.getNode()}else{const w=kn(t);let E;if(l.isCompleteForChild(y)){p=e.serverCache.getNode();const T=ZF(r,t,l.getNode(),p);E=null!=T?l.getNode().getImmediateChild(y).updateChild(w,T):l.getNode().getImmediateChild(y)}else E=gx(r,y,e.serverCache);h=null!=E?n.filter.updateChild(l.getNode(),y,E,w,i,a):l.getNode()}}return S_(e,h,l.isFullyInitialized()||zt(t),n.filter.filtersNodes())}}function D0(n,e,t,r,i,a,l,h){const p=e.serverCache;let y;const w=l?n.filter:n.filter.getIndexedFilter();if(zt(t))y=w.updateFullNode(p.getNode(),r,null);else if(w.filtersNodes()&&!p.isFiltered()){const x=p.getNode().updateChild(t,r);y=w.updateFullNode(p.getNode(),x,null)}else{const x=Gt(t);if(!p.isCompleteForPath(t)&&qu(t)>1)return e;const F=kn(t),ge=p.getNode().getImmediateChild(x).updateChild(F,r);y=".priority"===x?w.updatePriority(p.getNode(),ge):w.updateChild(p.getNode(),x,ge,F,eL,null)}const E=zF(e,y,p.isFullyInitialized()||zt(t),w.filtersNodes());return tL(n,E,t,i,new mx(i,E,a),h)}function yx(n,e,t,r,i,a,l){const h=e.eventCache;let p,y;const w=new mx(i,e,a);if(zt(t))y=n.filter.updateFullNode(e.eventCache.getNode(),r,l),p=S_(e,y,!0,n.filter.filtersNodes());else{const E=Gt(t);if(".priority"===E)y=n.filter.updatePriority(e.eventCache.getNode(),r),p=S_(e,y,h.isFullyInitialized(),h.isFiltered());else{const T=kn(t),x=h.getNode().getImmediateChild(E);let F;if(zt(T))F=r;else{const se=w.getCompleteChild(E);F=null!=se?".priority"===qM(T)&&se.getChild(RF(T)).isEmpty()?se:se.updateChild(T,r):Vt.EMPTY_NODE}p=x.equals(F)?e:S_(e,n.filter.updateChild(h.getNode(),E,F,T,w,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function nL(n,e){return n.eventCache.isCompleteForChild(e)}function rL(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _x(n,e,t,r,i,a,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,p=e;y=zt(t)?r:new Un(null).setTree(t,r);const w=e.serverCache.getNode();return y.children.inorderTraversal((E,T)=>{if(w.hasChild(E)){const F=rL(0,e.serverCache.getNode().getImmediateChild(E),T);p=D0(n,p,new yn(E),F,i,a,l,h)}}),y.children.inorderTraversal((E,T)=>{const x=!e.serverCache.isCompleteForChild(E)&&null===T.value;if(!w.hasChild(E)&&!x){const se=rL(0,e.serverCache.getNode().getImmediateChild(E),T);p=D0(n,p,new yn(E),se,i,a,l,h)}}),p}function KG(n,e){const t=Uc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!zt(e)&&!t.getImmediateChild(Gt(e)).isEmpty())?t.getChild(e):null}function oL(n,e,t,r){e.type===Os.MERGE&&null!==e.source.queryId&&((0,k.hu)(Uc(n.viewCache_),"We should always have a full cache before handling merges"),(0,k.hu)(E0(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function UG(n,e,t,r,i){const a=new kG;let l,h;if(t.type===Os.OVERWRITE){const y=t;y.source.fromUser?l=yx(n,e,y.path,y.snap,r,i,a):((0,k.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered()&&!zt(y.path),l=D0(n,e,y.path,y.snap,r,i,h,a))}else if(t.type===Os.MERGE){const y=t;y.source.fromUser?l=function $G(n,e,t,r,i,a,l){let h=e;return r.foreach((p,y)=>{const w=zn(t,p);nL(e,Gt(w))&&(h=yx(n,h,w,y,i,a,l))}),r.foreach((p,y)=>{const w=zn(t,p);nL(e,Gt(w))||(h=yx(n,h,w,y,i,a,l))}),h}(n,e,y.path,y.children,r,i,a):((0,k.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered(),l=_x(n,e,y.path,y.children,r,i,h,a))}else if(t.type===Os.ACK_USER_WRITE){const y=t;l=y.revert?function GG(n,e,t,r,i,a){let l;if(null!=b0(r,t))return e;{const h=new mx(r,e,i),p=e.eventCache.getNode();let y;if(zt(t)||".priority"===Gt(t)){let w;if(e.serverCache.isFullyInitialized())w=C0(r,Uc(e));else{const E=e.serverCache.getNode();(0,k.hu)(E instanceof Vt,"serverChildren would be complete if leaf node"),w=px(r,E)}y=n.filter.updateFullNode(p,w,a)}else{const w=Gt(t);let E=gx(r,w,e.serverCache);null==E&&e.serverCache.isCompleteForChild(w)&&(E=p.getImmediateChild(w)),y=null!=E?n.filter.updateChild(p,w,E,kn(t),h,a):e.eventCache.getNode().hasChild(w)?n.filter.updateChild(p,w,Vt.EMPTY_NODE,kn(t),h,a):p,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=C0(r,Uc(e)),l.isLeafNode()&&(y=n.filter.updateFullNode(y,l,a)))}return l=e.serverCache.isFullyInitialized()||null!=b0(r,cn()),S_(e,y,l,n.filter.filtersNodes())}}(n,e,y.path,r,i,a):function jG(n,e,t,r,i,a,l){if(null!=b0(i,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(zt(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return D0(n,e,t,p.getNode().getChild(t),i,a,h,l);if(zt(t)){let y=new Un(null);return p.getNode().forEachChild(Vo,(w,E)=>{y=y.set(new yn(w),E)}),_x(n,e,t,y,i,a,h,l)}return e}{let y=new Un(null);return r.foreach((w,E)=>{const T=zn(t,w);p.isCompleteForPath(T)&&(y=y.set(w,p.getNode().getChild(T)))}),_x(n,e,t,y,i,a,h,l)}}(n,e,y.path,y.affectedTree,r,i,a)}else{if(t.type!==Os.LISTEN_COMPLETE)throw(0,k.g5)("Unknown operation type: "+t.type);l=function HG(n,e,t,r,i){const a=e.serverCache;return tL(n,zF(e,a.getNode(),a.isFullyInitialized()||zt(t),a.isFiltered()),t,r,eL,i)}(n,e,t.path,r,a)}const p=a.getChanges();return function BG(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=E0(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(function $F(n){return{type:"value",snapshotNode:n}}(E0(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,i,e,t,r);return function VG(n,e){(0,k.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,k.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,k.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,function aL(n,e,t,r){return function yG(n,e,t,r){const i=[],a=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(function rG(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),T_(n,i,"child_removed",e,r,t),T_(n,i,"child_added",e,r,t),T_(n,i,"child_moved",a,r,t),T_(n,i,"child_changed",e,r,t),T_(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,a.changes,a.viewCache.eventCache.getNode(),null)}let T0,A0;function vx(n,e,t,r){const i=e.source.queryId;if(null!==i){const a=n.views.get(i);return(0,k.hu)(null!=a,"SyncTree gave us an op for an invalid query."),oL(a,e,t,r)}{let a=[];for(const l of n.views.values())a=a.concat(oL(l,e,t,r));return a}}function Qu(n,e){let t=null;for(const r of n.views.values())t=t||KG(r,e);return t}class fL{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Un(null),this.pendingWriteTree_=function PG(){return{visibleWrites:so.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wx(n,e,t,r,i){return function EG(n,e,t,r,i){(0,k.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=A_(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Xf(n,new Vc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Xu(n,e,t=!1){const r=function CG(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function bG(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,k.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&DG(h,r.path)?i=!1:Ps(r.path,h.path)&&(a=!0)),l--}return!!i&&(a?(function TG(n){n.visibleWrites=YF(n.allWrites,SG,cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=WF(n.visibleWrites,r.path):Xr(r.children,p=>{n.visibleWrites=WF(n.visibleWrites,zn(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let a=new Un(null);return null!=r.snap?a=a.set(cn(),!0):Xr(r.children,l=>{a=a.set(new yn(l),!0)}),Xf(n,new v0(r.path,a,t))}return[]}function M_(n,e,t){return Xf(n,new Vc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function x0(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,h)=>{const y=Qu(h,ki(l,e));if(y)return y});return QF(i,e,a,t,!0)}function Xf(n,e){return gL(e,n.syncPointTree_,null,I0(n.pendingWriteTree_,cn()))}function gL(n,e,t,r){if(zt(n.path))return mL(n,e,t,r);{const i=e.get(cn());null==t&&null!=i&&(t=Qu(i,cn()));let a=[];const l=Gt(n.path),h=n.operationForChild(l),p=e.children.get(l);if(p&&h){const y=t?t.getImmediateChild(l):null,w=XF(r,l);a=a.concat(gL(h,p,y,w))}return i&&(a=a.concat(vx(i,n,r,t))),a}}function mL(n,e,t,r){const i=e.get(cn());null==t&&null!=i&&(t=Qu(i,cn()));let a=[];return e.children.inorderTraversal((l,h)=>{const p=t?t.getImmediateChild(l):null,y=XF(r,l),w=n.operationForChild(l);w&&(a=a.concat(mL(w,h,p,y)))}),i&&(a=a.concat(vx(i,n,r,t))),a}function Ix(n,e){return n.tagToQueryMap.get(e)}function Cx(n){const e=n.indexOf("$");return(0,k.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new yn(n.substr(0,e))}}function bx(n,e,t){const r=n.syncPointTree_.get(e);return(0,k.hu)(r,"Missing sync point for query tag that we're tracking"),vx(r,t,I0(n.pendingWriteTree_,e),null)}class Dx{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Dx(t)}node(){return this.node_}}class Tx{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=zn(this.path_,e);return new Tx(this.syncTree_,t)}node(){return x0(this.syncTree_,this.path_)}}const gz=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},_L=function(n,e,t){return n&&"object"==typeof n?((0,k.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?mz(n[".sv"],e,t):"object"==typeof n[".sv"]?yz(n[".sv"],e):void(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},mz=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,k.hu)(!1,"Unexpected server value: "+n)},yz=function(n,e,t){n.hasOwnProperty("increment")||(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,k.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,k.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},vL=function(n,e,t,r){return Ax(e,new Tx(t,n),r)},Sx=function(n,e,t){return Ax(n,new Dx(e),t)};function Ax(n,e,t){const r=n.getPriority().val(),i=_L(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,h=_L(l.getValue(),e,t);return h!==l.getValue()||i!==l.getPriority().val()?new Wf(h,Zn(i)):n}{const l=n;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new Wf(i))),l.forEachChild(Vn,(h,p)=>{const y=Ax(p,e.getImmediateChild(h),t);y!==p&&(a=a.updateImmediateChild(h,y))}),a}}class Mx{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function N0(n,e){let t=e instanceof yn?e:new yn(e),r=n,i=Gt(t);for(;null!==i;){const a=(0,k.DV)(r.node.children,i)||{children:{},childCount:0};r=new Mx(i,r,a),t=kn(t),i=Gt(t)}return r}function $c(n){return n.node.value}function xx(n,e){n.node.value=e,Rx(n)}function wL(n){return n.node.childCount>0}function P0(n,e){Xr(n.node.children,(t,r)=>{e(new Mx(t,n,r))})}function EL(n,e,t,r){t&&!r&&e(n),P0(n,i=>{EL(i,e,!0,r)}),t&&r&&e(n)}function N_(n){return new yn(null===n.parent?n.name:N_(n.parent)+"/"+n.name)}function Rx(n){null!==n.parent&&function wz(n,e,t){const r=function _z(n){return void 0===$c(n)&&!wL(n)}(t),i=(0,k.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Rx(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Rx(n))}(n.parent,n.name,n)}const Ez=/[\[\].#$\/\u0000-\u001F\u007F]/,Iz=/[\[\].#$\u0000-\u001F\u007F]/,Nx=10485760,O0=function(n){return"string"==typeof n&&0!==n.length&&!Ez.test(n)},O_=function(n,e,t){const r=t instanceof yn?new UH(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Fc(r));if("function"==typeof e)throw new Error(n+"contains a function "+Fc(r)+" with contents = "+e.toString());if(u0(e))throw new Error(n+"contains "+e.toString()+" "+Fc(r));if("string"==typeof e&&e.length>Nx/3&&(0,k.ug)(e)>Nx)throw new Error(n+"contains a string greater than "+Nx+" utf8 bytes "+Fc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(Xr(e,(l,h)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(a=!0,!O0(l)))throw new Error(n+" contains an invalid key ("+l+") "+Fc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function BH(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,k.ug)(e),NF(n)})(r,l),O_(n,h,r),function $H(n){const e=n.parts_.pop();n.byteLength_-=(0,k.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+Fc(r)+" in addition to actual children.")}},bL=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!O0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!Iz.test(n)}(n)}(t))throw new Error((0,k.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Tz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gs(n,e,t){(function k0(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==t&&!KM(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function TL(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Sz(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Ps(r,e)||Ps(e,r))}function Sz(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Oc&&Zr("event: "+t.toString()),Gf(r)}}}const SL="repo_interrupt",Az=25;class Mz{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_0(),this.transactionQueueTree_=new Mx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function AL(n){const t=n.infoData_.getNode(new yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function F_(n){return gz({timestamp:AL(n)})}function ML(n,e,t,r,i){n.dataUpdateCount++;const a=new yn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const p=(0,k.UI)(t,y=>Zn(y));l=function lz(n,e,t,r){const i=Ix(n,r);if(i){const a=Cx(i),l=a.path,h=a.queryId,p=ki(l,e),y=Un.fromObject(t);return bx(n,l,new Qf(lx(h),p,y))}return[]}(n.serverSyncTree_,a,p,i)}else{const p=Zn(t);l=function pL(n,e,t,r){const i=Ix(n,r);if(null!=i){const a=Cx(i),l=a.path,h=a.queryId,p=ki(l,e);return bx(n,l,new Vc(lx(h),p,t))}return[]}(n.serverSyncTree_,a,p,i)}else if(r){const p=(0,k.UI)(t,y=>Zn(y));l=function oz(n,e,t){const r=Un.fromObject(t);return Xf(n,new Qf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,a,p)}else{const p=Zn(t);l=M_(n.serverSyncTree_,a,p)}let h=a;l.length>0&&(h=ep(n,a)),gs(n.eventQueue_,h,l)}function xL(n,e){kx(n,"connected",e),!1===e&&function Oz(n){Jf(n,"onDisconnectEvents");const e=F_(n),t=_0();ox(n.onDisconnect_,cn(),(i,a)=>{const l=vL(i,a,n.serverSyncTree_,e);Yf(t,i,l)});let r=[];ox(t,cn(),(i,a)=>{r=r.concat(M_(n.serverSyncTree_,i,a));const l=function Ux(n,e){const t=N_(PL(n,e)),r=N0(n.transactionQueueTree_,e);return function vz(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Bx(n,i)}),Bx(n,r),EL(r,i=>{Bx(n,i)}),t}(n,i);ep(n,l)}),n.onDisconnect_=_0(),gs(n.eventQueue_,cn(),r)}(n)}function kx(n,e,t){const r=new yn("/.info/"+e),i=Zn(t);n.infoData_.updateSnapshot(r,i);const a=M_(n.infoSyncTree_,r,i);gs(n.eventQueue_,r,a)}function F0(n){return n.nextWriteId_++}function Jf(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Zr(t,...e)}function Vx(n,e,t){return x0(n.serverSyncTree_,e,t)||Vt.EMPTY_NODE}function L0(n,e=n.transactionQueueTree_){if(e||V0(n,e),$c(e)){const t=OL(n,e);(0,k.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function $z(n,e,t){const r=t.map(y=>y.currentWriteId),i=Vx(n,e,r);let a=i;const l=i.hash();for(let y=0;y<t.length;y++){const w=t[y];(0,k.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const E=ki(e,w.path);a=a.updateChild(E,w.currentOutputSnapshotRaw)}const h=a.val(!0),p=e;n.server_.put(p.toString(),h,y=>{Jf(n,"transaction put response",{path:p.toString(),status:y});let w=[];if("ok"===y){const E=[];for(let T=0;T<t.length;T++)t[T].status=2,w=w.concat(Xu(n.serverSyncTree_,t[T].currentWriteId)),t[T].onComplete&&E.push(()=>t[T].onComplete(null,!0,t[T].currentOutputSnapshotResolved)),t[T].unwatcher();V0(n,N0(n.transactionQueueTree_,e)),L0(n,n.transactionQueueTree_),gs(n.eventQueue_,e,w);for(let T=0;T<E.length;T++)Gf(E[T])}else{if("datastale"===y)for(let E=0;E<t.length;E++)t[E].status=3===t[E].status?4:0;else{bi("transaction at "+p.toString()+" failed: "+y);for(let E=0;E<t.length;E++)t[E].status=4,t[E].abortReason=y}ep(n,e)}},l)}(n,N_(e),t)}else wL(e)&&P0(e,t=>{L0(n,t)})}function ep(n,e){const t=PL(n,e),r=N_(t);return function jz(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],y=ki(t,p.path);let E,w=!1;if((0,k.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,E=p.abortReason,i=i.concat(Xu(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=Az)w=!0,E="maxretry",i=i.concat(Xu(n.serverSyncTree_,p.currentWriteId,!0));else{const T=Vx(n,p.path,l);p.currentInputSnapshot=T;const x=e[h].update(T.val());if(void 0!==x){O_("transaction failed: Data returned ",x,p.path);let F=Zn(x);"object"==typeof x&&null!=x&&(0,k.r3)(x,".priority")||(F=F.updatePriority(T.getPriority()));const ge=p.currentWriteId,ot=F_(n),bt=Sx(F,T,ot);p.currentOutputSnapshotRaw=F,p.currentOutputSnapshotResolved=bt,p.currentWriteId=F0(n),l.splice(l.indexOf(ge),1),i=i.concat(wx(n.serverSyncTree_,p.path,bt,p.currentWriteId,p.applyLocally)),i=i.concat(Xu(n.serverSyncTree_,ge,!0))}else w=!0,E="nodata",i=i.concat(Xu(n.serverSyncTree_,p.currentWriteId,!0))}gs(n.eventQueue_,t,i),i=[],w&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===E?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(E),!1,null)))}V0(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)Gf(r[h]);L0(n,n.transactionQueueTree_)}(n,OL(n,t),r),r}function PL(n,e){let t,r=n.transactionQueueTree_;for(t=Gt(e);null!==t&&void 0===$c(r);)r=N0(r,t),t=Gt(e=kn(e));return r}function OL(n,e){const t=[];return kL(n,e,t),t.sort((r,i)=>r.order-i.order),t}function kL(n,e,t){const r=$c(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);P0(e,i=>{kL(n,i,t)})}function V0(n,e){const t=$c(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,xx(e,t.length>0?t:void 0)}P0(e,r=>{V0(n,r)})}function Bx(n,e){const t=$c(e);if(t){const r=[];let i=[],a=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,k.hu)(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):((0,k.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(Xu(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===a?xx(e,void 0):t.length=a+1,gs(n.eventQueue_,N_(e),i);for(let l=0;l<r.length;l++)Gf(r[l])}}const $x=function(n,e){const t=zz(n),r=t.namespace;return"firebase.com"===t.domain&&Lo(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Lo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $M(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new yn(t.pathString)}},zz=function(n){let e="",t="",r="",i="",a="",l=!0,h="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let w=n.indexOf("/");-1===w&&(w=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),e=n.substring(0,Math.min(w,E)),w<E&&(i=function Hz(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(w,E)));const T=function Gz(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,E)));y=e.indexOf(":"),y>=0?(l="https"===h||"wss"===h,p=parseInt(e.substring(y+1),10)):y=e.length;const x=e.slice(0,y);if("localhost"===x.toLowerCase())t="localhost";else if(x.split(".").length<=2)t=x;else{const F=e.indexOf(".");r=e.substring(0,F).toLowerCase(),t=e.substring(F+1),a=r}"ns"in T&&(a=T.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:l,scheme:h,pathString:i,namespace:a}};class ms{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return zt(this._path)?null:qM(this._path)}get ref(){return new oo(this._repo,this._path)}get _queryIdentifier(){const e=HF(this._queryParams),t=UM(e);return"{}"===t?"default":t}get _queryObject(){return HF(this._queryParams)}isEqual(e){if(!((e=(0,k.m9)(e))instanceof ms))return!1;const t=this._repo===e._repo,r=KM(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function LH(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class oo extends ms{constructor(e,t){super(e,t,new nx,!1)}get parent(){const e=RF(this._path);return null===e?null:new oo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function ZG(n){(0,k.hu)(!T0,"__referenceConstructor has already been defined"),T0=n})(oo),function nz(n){(0,k.hu)(!A0,"__referenceConstructor has already been defined"),A0=n}(oo);const sW="FIREBASE_DATABASE_EMULATOR_HOST",Hx={};let jL=!1;class dW{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xz(n,e,t){if(n.stats_=GM(n.repoInfo_),n.forceRestClient_||cH())n.server_=new y0(n.repoInfo_,(r,i,a,l)=>{ML(n,r,i,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>xL(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Lc(n.repoInfo_,e,(r,i,a,l)=>{ML(n,r,i,a,l)},r=>{xL(n,r)},r=>{!function Rz(n,e){Xr(e,(t,r)=>{kx(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function gH(n,e){const t=n.toString();return HM[t]||(HM[t]=e()),HM[t]}(n.repoInfo_,()=>new gG(n.stats_,n.server_)),n.infoData_=new cG,n.infoSyncTree_=new fL({startListening:(r,i,a,l)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=M_(n.infoSyncTree_,r._path,p),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),kx(n,"connected",!1),n.serverSyncTree_=new fL({startListening:(r,i,a,l)=>(n.server_.listen(r,a,i,(h,p)=>{const y=l(h,p);gs(n.eventQueue_,r._path,y)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oo(this._repo,cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function uW(n,e){const t=Hx[e];(!t||t[n.key]!==n)&&Lo(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function NL(n){n.persistentConnection_&&n.persistentConnection_.interrupt(SL)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Lo("Cannot call "+e+" on a deleted database.")}}function hW(n=(0,Sn.getApp)(),e){const t=(0,Sn._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,k.P0)("database");r&&function fW(n,e,t,r={}){(n=(0,k.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Lo("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Lo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new y_(y_.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,k.Sg)(r.mockUserToken,n.app.options.projectId);a=new y_(l)}!function oW(n,e,t,r){n.repoInfo_=new $M(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,a)}(t,...r)}return t}Lc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Lc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function pW(n){(function Xj(n){FM=n})(Sn.SDK_VERSION),(0,Sn._registerComponent)(new Cu.wA("database",(e,{instanceIdentifier:t})=>function aW(n,e,t,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||Lo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zr("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,l=$x(a,i),h=l.repoInfo;typeof process<"u"&&process.env&&(y=process.env[sW]),y?(p=!0,a=`http://${y}?ns=${h.namespace}`,l=$x(a,i),h=l.repoInfo):p=!l.repoInfo.secure;const w=i&&p?new y_(y_.OWNER):new hH(n.name,n.options,e);bL("Invalid Firebase Database URL",l),zt(l.path)||Lo("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function lW(n,e,t,r){let i=Hx[e.name];i||(i={},Hx[e.name]=i);let a=i[n.toURLString()];return a&&Lo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Mz(n,jL,t,r),i[n.toURLString()]=a,a}(h,n,w,new dH(n.name,t));return new dW(E,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Sn.registerVersion)(q1,"0.14.4",n),(0,Sn.registerVersion)(q1,"0.14.4","esm2017")}();class Gx{constructor(e){return e}}const GL="database",zx=new g.OlP("angularfire2.database-instances");function vW(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Gx(r)}}const wW={provide:class yW{constructor(){return(0,Gn.vb)(GL)}},deps:[[new g.FiY,zx]]},EW={provide:Gx,useFactory:function _W(n,e){const t=(0,Gn.JM)(GL,n,e);return t&&new Gx(t)},deps:[[new g.FiY,zx],Ss]};let IW=(()=>{class n{constructor(){(0,Ts.KN)("angularfire",Gn.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[EW,wW]}),n})();function CW(n,...e){return{ngModule:IW,providers:[{provide:zx,useFactory:vW(n),multi:!0,deps:[g.R0b,g.zs3,Gn.HU,qs,[new g.FiY,UC],[new g.FiY,Ks],...e]}]}}const bW=(0,Gn.u3)(hW,!0);var it,DW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ka={},Wx=Wx||{},Pt=DW||self;function j0(){}function H0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function U_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qx="closure_uid_"+(1e9*Math.random()>>>0),SW=0;function AW(n,e,t){return n.call.apply(n.bind,arguments)}function MW(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Di(n,e,t){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?AW:MW).apply(null,arguments)}function G0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function tl(){this.s=this.s,this.o=this.o}tl.prototype.s=!1,tl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function TW(n){Object.prototype.hasOwnProperty.call(n,qx)&&n[qx]||(n[qx]=++SW)}(this)},tl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Kx(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function WL(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(H0(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ti.prototype.h=function(){this.defaultPrevented=!0};var RW=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",j0,e),Pt.removeEventListener("test",j0,e)}catch{}return n}();function z0(n){return/^[\s\xa0]*$/.test(n)}var qL=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yx(n,e){return n<e?-1:n>e?1:0}function W0(){var n=Pt.navigator;return n&&(n=n.userAgent)?n:""}function $o(n){return-1!=W0().indexOf(n)}function Qx(n){return Qx[" "](n),n}Qx[" "]=j0;var q0,n,PW=$o("Opera"),np=$o("Trident")||$o("MSIE"),KL=$o("Edge"),Zx=KL||np,YL=$o("Gecko")&&!(-1!=W0().toLowerCase().indexOf("webkit")&&!$o("Edge"))&&!($o("Trident")||$o("MSIE"))&&!$o("Edge"),OW=-1!=W0().toLowerCase().indexOf("webkit")&&!$o("Edge");function QL(){var n=Pt.document;return n?n.documentMode:void 0}e:{var Xx="",Jx=(n=W0(),YL?/rv:([^\);]+)(\)|;)/.exec(n):KL?/Edge\/([\d\.]+)/.exec(n):np?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):OW?/WebKit\/(\S+)/.exec(n):PW?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Jx&&(Xx=Jx?Jx[1]:""),np){var eR=QL();if(null!=eR&&eR>parseFloat(Xx)){q0=String(eR);break e}}q0=Xx}var kW={};var LW=Pt.document&&np&&(QL()||parseInt(q0,10))||void 0;function B_(n,e){if(Ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(YL){e:{try{Qx(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VW[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&B_.X.h.call(this)}}fi(B_,Ti);var VW={2:"touch",3:"pen",4:"mouse"};B_.prototype.h=function(){B_.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $_="closure_listenable_"+(1e6*Math.random()|0),UW=0;function BW(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++UW,this.ba=this.ea=!1}function K0(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function nR(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function XL(n){const e={};for(const t in n)e[t]=n[t];return e}const JL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<JL.length;a++)t=JL[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Y0(n){this.src=n,this.g={},this.h=0}function rR(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=zL(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(K0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function iR(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Y0.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=iR(n,e,r,i);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new BW(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var sR="closure_lm_"+(1e6*Math.random()|0),oR={};function tV(n,e,t,r,i){if(r&&r.once)return rV(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)tV(n,e[a],t,r,i);return null}return t=cR(t),n&&n[$_]?n.N(e,t,U_(r)?!!r.capture:!!r,i):nV(n,e,t,!1,r,i)}function nV(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=U_(i)?!!i.capture:!!i,h=uR(n);if(h||(n[sR]=h=new Y0(n)),(t=h.add(e,t,r,l,a)).proxy)return t;if(r=function $W(){const e=jW;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)RW||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(sV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function rV(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)rV(n,e[a],t,r,i);return null}return t=cR(t),n&&n[$_]?n.O(e,t,U_(r)?!!r.capture:!!r,i):nV(n,e,t,!0,r,i)}function iV(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)iV(n,e[a],t,r,i);else r=U_(r)?!!r.capture:!!r,t=cR(t),n&&n[$_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=iR(a=n.g[e],t,r,i))&&(K0(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=uR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=iR(e,t,r,i)),(t=-1<n?e[n]:null)&&aR(t))}function aR(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[$_])rR(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(sV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=uR(e))?(rR(t,n),0==t.h&&(t.src=null,e[sR]=null)):K0(n)}}}function sV(n){return n in oR?oR[n]:oR[n]="on"+n}function jW(n,e){if(n.ba)n=!0;else{e=new B_(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&aR(n),n=t.call(r,e)}return n}function uR(n){return(n=n[sR])instanceof Y0?n:null}var lR="__closure_events_fn_"+(1e9*Math.random()>>>0);function cR(n){return"function"==typeof n?n:(n[lR]||(n[lR]=function(e){return n.handleEvent(e)}),n[lR])}function Jr(){tl.call(this),this.i=new Y0(this),this.P=this,this.I=null}function pi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ti(e,n);else if(e instanceof Ti)e.target=e.target||n;else{var i=e;eV(e=new Ti(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=Q0(l,r,!0,e)&&i}if(i=Q0(l=e.g=n,r,!0,e)&&i,i=Q0(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Q0(l=e.g=t[a],r,!1,e)&&i}function Q0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ba&&l.capture==t){var h=l.listener,p=l.ha||l.src;l.ea&&rR(n.i,l),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}fi(Jr,tl),Jr.prototype[$_]=!0,Jr.prototype.removeEventListener=function(n,e,t,r){iV(this,n,e,t,r)},Jr.prototype.M=function(){if(Jr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)K0(t[r]);delete n.g[e],n.h--}}this.I=null},Jr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Jr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dR=Pt.JSON.stringify;function HW(){var n=uV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var hR,oV=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zW,n=>n.reset());class zW{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function WW(n){Pt.setTimeout(()=>{throw n},0)}function aV(n,e){hR||function qW(){var n=Pt.Promise.resolve(void 0);hR=function(){n.then(KW)}}(),fR||(hR(),fR=!0),uV.add(n,e)}var fR=!1,uV=new class GW{constructor(){this.h=this.g=null}add(e,t){const r=oV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function KW(){for(var n;n=HW();){try{n.h.call(n.g)}catch(t){WW(t)}var e=oV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}fR=!1}function Z0(n,e){Jr.call(this),this.h=n||1,this.g=e||Pt,this.j=Di(this.lb,this),this.l=Date.now()}function pR(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function gR(n,e,t){if("function"==typeof n)t&&(n=Di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Di(n.handleEvent,n)}return 2147483647<Number(e)?-1:Pt.setTimeout(n,e||0)}function lV(n){n.g=gR(()=>{n.g=null,n.i&&(n.i=!1,lV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fi(Z0,Jr),(it=Z0.prototype).ca=!1,it.R=null,it.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),pi(this,"tick"),this.ca&&(pR(this),this.start()))}},it.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){Z0.X.M.call(this),pR(this),delete this.g};class YW extends tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lV(this)}M(){super.M(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function j_(n){tl.call(this),this.h=n,this.g={}}fi(j_,tl);var cV=[];function dV(n,e,t,r){Array.isArray(t)||(t&&(cV[0]=t.toString()),t=cV);for(var i=0;i<t.length;i++){var a=tV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function hV(n){nR(n.g,function(e,t){this.g.hasOwnProperty(t)&&aR(e)},n),n.g={}}function X0(){this.g=!0}function rp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function JW(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return dR(t)}catch{return e}}(n,t)+(r?" "+r:"")})}j_.prototype.M=function(){j_.X.M.call(this),hV(this)},j_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},X0.prototype.Aa=function(){this.g=!1},X0.prototype.info=function(){};var Hc={},fV=null;function J0(){return fV=fV||new Jr}function pV(n){Ti.call(this,Hc.Pa,n)}function H_(n){const e=J0();pi(e,new pV(e))}function gV(n,e){Ti.call(this,Hc.STAT_EVENT,n),this.stat=e}function Fi(n){const e=J0();pi(e,new gV(e,n))}function mV(n,e){Ti.call(this,Hc.Qa,n),this.size=e}function G_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},e)}Hc.Pa="serverreachability",fi(pV,Ti),Hc.STAT_EVENT="statevent",fi(gV,Ti),Hc.Qa="timingevent",fi(mV,Ti);var eb={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},yV={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function mR(){}function vV(){}mR.prototype.h=null;var vR,z_={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yR(){Ti.call(this,"d")}function _R(){Ti.call(this,"c")}function tb(){}function W_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new j_(this),this.O=e3,this.T=new Z0(n=Zx?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new wV}function wV(){this.i=null,this.g="",this.h=!1}fi(yR,Ti),fi(_R,Ti),fi(tb,mR),tb.prototype.g=function(){return new XMLHttpRequest},tb.prototype.i=function(){return{}},vR=new tb;var e3=45e3,wR={},nb={};function ER(n,e,t){n.K=1,n.v=ob(Fa(e)),n.s=t,n.P=!0,EV(n,null)}function EV(n,e){n.F=Date.now(),q_(n),n.A=Fa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),RV(t.i,"t",r),n.C=0,t=n.l.H,n.h=new wV,n.g=tU(n.l,t?e:null,!n.s),0<n.N&&(n.L=new YW(Di(n.La,n,n.g),n.N)),dV(n.S,n.g,"readystatechange",n.ib),e=n.H?XL(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),H_(),function QW(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",h=a.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var w=y[0];y=y[1];var E=w.split("_");l=2<=E.length&&"type"==E[1]?l+(w+"=")+y+"&":l+(w+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function IV(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function CV(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=t3(n,t),i==nb){4==e&&(n.o=4,Fi(14),r=!1),rp(n.j,n.m,null,"[Incomplete Response]");break}if(i==wR){n.o=4,Fi(15),rp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rp(n.j,n.m,i,null),IR(n,i)}IV(n)&&i!=nb&&i!=wR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),xR(e),e.K=!0,Fi(11))):(rp(n.j,n.m,t,"[Invalid Chunked Response]"),Gc(n),K_(n))}function t3(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?nb:(t=Number(e.substring(t,r)),isNaN(t)?wR:(r+=1)+t>e.length?nb:(e=e.substr(r,t),n.C=r+t,e))}function q_(n){n.V=Date.now()+n.O,bV(n,n.O)}function bV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=G_(Di(n.gb,n),e)}function rb(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function K_(n){0==n.l.G||n.I||ZV(n.l,n)}function Gc(n){rb(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,pR(n.T),hV(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function IR(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||CR(t.h,n)))if(!n.J&&CR(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;hb(t),cb(t)}MR(t),Fi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=G_(Di(t.cb,t),6e3));if(1>=OV(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Wc(t,11)}else if((n.J||t.g==n)&&hb(t),!z0(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(t.T=y[0],y=y[1],2==t.G)if("c"==y[0]){t.I=y[1],t.ka=y[2];const w=y[3];null!=w&&(t.ma=w,t.j.info("VER="+t.ma));const E=y[4];null!=E&&(t.Ca=E,t.j.info("SVER="+t.Ca));const T=y[5];null!=T&&"number"==typeof T&&0<T&&(t.J=r=1.5*T,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const x=n.g;if(x){const F=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var a=r.h;a.g||-1==F.indexOf("spdy")&&-1==F.indexOf("quic")&&-1==F.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(bR(a,a.h),a.h=null))}if(r.D){const se=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.za=se,Wn(r.F,r.D,se))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=eU(r,r.H?r.ka:null,r.V),l.J){kV(r.h,l);var h=l,p=r.J;p&&h.setTimeout(p),h.B&&(rb(h),q_(h)),r.g=l}else YV(r);0<t.i.length&&db(t)}else"stop"!=y[0]&&"close"!=y[0]||Wc(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Wc(t,7):AR(t):"noop"!=y[0]&&t.l&&t.l.wa(y),t.A=0)}H_()}catch{}}function DV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(H0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function r3(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(H0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function n3(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(H0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(it=W_.prototype).setTimeout=function(n){this.O=n},it.ib=function(n){n=n.target;const e=this.L;e&&3==La(n)?e.l():this.La(n)},it.La=function(n){try{if(n==this.g)e:{const w=La(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>w)&&(3!=w||Zx||this.g&&(this.h.h||this.g.fa()||HV(this.g)))){this.I||4!=w||7==e||H_(),rb(this);var t=this.g.aa();this.Y=t;t:if(IV(this)){var r=HV(this.g);n="";var i=r.length,a=4==La(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gc(this),K_(this);var l="";break t}this.h.i=new Pt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function ZW(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.U,w,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z0(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Fi(12),Gc(this),K_(this);break e}rp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,IR(this,t)}this.P?(CV(this,w,l),Zx&&this.i&&3==w&&(dV(this.S,this.T,"tick",this.hb),this.T.start())):(rp(this.j,this.m,l,null),IR(this,l)),4==w&&Gc(this),this.i&&!this.I&&(4==w?ZV(this.l,this):(this.i=!1,q_(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Fi(12)):(this.o=0,Fi(13)),Gc(this),K_(this)}}}catch{}},it.hb=function(){if(this.g){var n=La(this.g),e=this.g.fa();this.C<e.length&&(rb(this),CV(this,n,e),this.i&&4!=n&&q_(this))}},it.cancel=function(){this.I=!0,Gc(this)},it.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function XW(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(H_(),Fi(17)),Gc(this),this.o=2,K_(this)):bV(this,this.V-n)};var TV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zc){this.h=void 0!==e?e:n.h,ib(this,n.j),this.s=n.s,this.g=n.g,sb(this,n.m),this.l=n.l,e=n.i;var t=new Z_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),SV(this,t),this.o=n.o}else n&&(t=String(n).match(TV))?(this.h=!!e,ib(this,t[1]||"",!0),this.s=Y_(t[2]||""),this.g=Y_(t[3]||"",!0),sb(this,t[4]),this.l=Y_(t[5]||"",!0),SV(this,t[6]||"",!0),this.o=Y_(t[7]||"")):(this.h=!!e,this.i=new Z_(null,this.h))}function Fa(n){return new zc(n)}function ib(n,e,t){n.j=t?Y_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function SV(n,e,t){e instanceof Z_?(n.i=e,function c3(n,e){e&&!n.j&&(nl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(MV(this,r),RV(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Q_(e,u3)),n.i=new Z_(e,n.h))}function Wn(n,e,t){n.i.set(e,t)}function ob(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Y_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Q_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,s3),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function s3(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Q_(e,AV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Q_(e,AV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Q_(t,"/"==t.charAt(0)?a3:o3,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Q_(t,l3)),n.join("")};var AV=/[#\/\?@]/g,o3=/[#\?:]/g,a3=/[#\?]/g,u3=/[#\?@]/g,l3=/#/g;function Z_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function nl(n){n.g||(n.g=new Map,n.h=0,n.i&&function i3(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function MV(n,e){nl(n),e=ip(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function xV(n,e){return nl(n),e=ip(n,e),n.g.has(e)}function RV(n,e,t){MV(n,e),0<t.length&&(n.i=null,n.g.set(ip(n,e),Kx(t)),n.h+=t.length)}function ip(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function NV(n){this.l=n||h3,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ga&&Pt.g.Ga()&&Pt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=Z_.prototype).add=function(n,e){nl(this),this.i=null,n=ip(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){nl(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},it.oa=function(){nl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},it.W=function(n){nl(this);let e=[];if("string"==typeof n)xV(this,n)&&(e=e.concat(this.g.get(ip(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},it.set=function(n,e){return nl(this),this.i=null,xV(this,n=ip(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var h3=10;function PV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OV(n){return n.h?1:n.g?n.g.size:0}function CR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bR(n,e){n.g?n.g.add(e):n.h=e}function kV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Kx(n.i)}function DR(){}function f3(){this.g=new DR}function p3(n,e,t){const r=t||"";try{DV(n,function(i,a){let l=i;U_(i)&&(l=dR(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ab(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function X_(n){this.l=n.ac||null,this.j=n.jb||!1}function ub(n,e){Jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=TR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}NV.prototype.cancel=function(){if(this.i=FV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},DR.prototype.stringify=function(n){return Pt.JSON.stringify(n,void 0)},DR.prototype.parse=function(n){return Pt.JSON.parse(n,void 0)},fi(X_,mR),X_.prototype.g=function(){return new ub(this.l,this.j)},X_.prototype.i=function(n){return function(){return n}}({}),fi(ub,Jr);var TR=0;function LV(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function J_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ev(n)}function ev(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=ub.prototype).open=function(n,e){if(this.readyState!=TR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ev(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Pt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,J_(this)),this.readyState=TR},it.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ev(this)),this.g&&(this.readyState=3,ev(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LV(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},it.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?J_(this):ev(this),3==this.readyState&&LV(this)}},it.Va=function(n){this.g&&(this.response=this.responseText=n,J_(this))},it.Ua=function(n){this.g&&(this.response=n,J_(this))},it.ga=function(){this.g&&J_(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ub.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var m3=Pt.JSON.parse;function sr(n){Jr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=VV,this.K=this.L=!1}fi(sr,Jr);var VV="",y3=/^https?$/i,_3=["POST","PUT"];function UV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,BV(n),lb(n)}function BV(n){n.D||(n.D=!0,pi(n,"complete"),pi(n,"error"))}function $V(n){if(n.h&&typeof Wx<"u"&&(!n.C[1]||4!=La(n)||2!=n.aa()))if(n.v&&4==La(n))gR(n.Ha,0,n);else if(pi(n,"readystatechange"),4==La(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(TV)[1]||null;if(!i&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;i=a.substr(0,a.length-1)}r=!y3.test(i?i.toLowerCase():"")}t=r}if(t)pi(n,"complete"),pi(n,"success");else{n.m=6;try{var l=2<La(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",BV(n)}}finally{lb(n)}}}function lb(n,e){if(n.g){jV(n);const t=n.g,r=n.C[0]?j0:null;n.g=null,n.C=null,e||pi(n,"ready");try{t.onreadystatechange=r}catch{}}}function jV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function La(n){return n.g?n.g.readyState:0}function HV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case VV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function GV(n){let e="";return nR(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function SR(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=GV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function tv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zV(n){this.Ca=0,this.i=[],this.j=new X0,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=tv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=tv("baseRetryDelayMs",5e3,n),this.bb=tv("retryDelaySeedMs",1e4,n),this.$a=tv("forwardChannelMaxRetries",2,n),this.ta=tv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new NV(n&&n.concurrentRequestLimit),this.Fa=new f3,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function AR(n){if(WV(n),3==n.G){var e=n.U++,t=Fa(n.F);Wn(t,"SID",n.I),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),nv(n,t),(e=new W_(n,n.j,e,void 0)).K=2,e.v=ob(Fa(t)),t=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(t=Pt.navigator.sendBeacon(e.v.toString(),"")),!t&&Pt.Image&&((new Image).src=e.v,t=!0),t||(e.g=tU(e.l,null),e.g.da(e.v)),e.F=Date.now(),q_(e)}JV(n)}function cb(n){n.g&&(xR(n),n.g.cancel(),n.g=null)}function WV(n){cb(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),hb(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function db(n){PV(n.h)||n.m||(n.m=!0,aV(n.Ja,n),n.C=0)}function qV(n,e){var t;t=e?e.m:n.U++;const r=Fa(n.F);Wn(r,"SID",n.I),Wn(r,"RID",t),Wn(r,"AID",n.T),nv(n,r),n.o&&n.s&&SR(r,n.o,n.s),t=new W_(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=KV(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),bR(n.h,t),ER(t,r,e)}function nv(n,e){n.ia&&nR(n.ia,function(t,r){Wn(e,r,t)}),n.l&&DV({},function(t,r){Wn(e,r,t)})}function KV(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Di(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let p=0;p<t;p++){let y=i[p].h;const w=i[p].g;if(y-=a,0>y)a=Math.max(0,i[p].h-100),h=!1;else try{p3(w,l,"req"+y+"_")}catch{r&&r(w)}}if(h){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function YV(n){n.g||n.u||(n.Z=1,aV(n.Ia,n),n.A=0)}function MR(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=G_(Di(n.Ia,n),XV(n,n.A)),n.A++,0))}function xR(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function QV(n){n.g=new W_(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Fa(n.sa);Wn(e,"RID","rpc"),Wn(e,"SID",n.I),Wn(e,"CI",n.L?"0":"1"),Wn(e,"AID",n.T),Wn(e,"TYPE","xmlhttp"),nv(n,e),n.o&&n.s&&SR(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ob(Fa(e)),t.s=null,t.P=!0,EV(t,n)}function hb(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function ZV(n,e){var t=null;if(n.g==e){hb(n),xR(n),n.g=null;var r=2}else{if(!CR(n.h,e))return;t=e.D,kV(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;pi(r=J0(),new mV(r,t)),db(n)}else YV(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function w3(n,e){return!(OV(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=G_(Di(n.Ja,n,e),XV(n,n.C)),n.C++,0)))}(n,e)||2==r&&MR(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Wc(n,5);break;case 4:Wc(n,10);break;case 3:Wc(n,6);break;default:Wc(n,2)}}function XV(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Wc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Di(n.kb,n);t||(t=new zc("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||ib(t,"https"),ob(t)),function g3(n,e){const t=new X0;if(Pt.Image){const r=new Image;r.onload=G0(ab,t,r,"TestLoadImage: loaded",!0,e),r.onerror=G0(ab,t,r,"TestLoadImage: error",!1,e),r.onabort=G0(ab,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=G0(ab,t,r,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Fi(2);n.G=0,n.l&&n.l.va(e),JV(n),WV(n)}function JV(n){if(n.G=0,n.la=[],n.l){const e=FV(n.h);(0!=e.length||0!=n.i.length)&&(WL(n.la,e),WL(n.la,n.i),n.h.i.length=0,Kx(n.i),n.i.length=0),n.l.ua()}}function eU(n,e,t){var r=t instanceof zc?Fa(t):new zc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),sb(r,r.m);else{var i=Pt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new zc(null,void 0);r&&ib(a,r),e&&(a.g=e),i&&sb(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Wn(r,t,e),Wn(r,"VER",n.ma),nv(n,r),r}function tU(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sr(t&&n.Da&&!n.ra?new X_({jb:!0}):n.ra)).Ka(n.H),e}function nU(){}function fb(){if(np&&!(10<=Number(LW)))throw Error("Environmental error: no available transport.")}function ys(n,e){Jr.call(this),this.g=new zV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!z0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!z0(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new sp(this)}function rU(n){yR.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iU(){_R.call(this),this.status=1}function sp(n){this.g=n}(it=sr.prototype).Ka=function(n){this.L=n},it.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vR.g(),this.C=function _V(n){return n.h||(n.h=n.i())}(this.u?this.u:vR),this.g.onreadystatechange=Di(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void UV(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Pt.FormData&&n instanceof Pt.FormData,!(0<=zL(_3,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jV(this),0<this.B&&((this.K=function v3(n){return np&&function FW(){return function NW(n){var e=kW;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=qL(String(q0)).split("."),t=qL("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Yx(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Yx(0==i[2].length,0==a[2].length)||Yx(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Di(this.qa,this)):this.A=gR(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){UV(this,a)}},it.qa=function(){typeof Wx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pi(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,pi(this,"complete"),pi(this,"abort"),lb(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lb(this,!0)),sr.X.M.call(this)},it.Ha=function(){this.s||(this.F||this.v||this.l?$V(this):this.fb())},it.fb=function(){$V(this)},it.aa=function(){try{return 2<La(this)?this.g.status:-1}catch{return-1}},it.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),m3(e)}},it.Ea=function(){return this.m},it.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=zV.prototype).ma=8,it.G=1,it.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new W_(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=XL(a),eV(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=KV(this,i,e),Wn(t=Fa(this.F),"RID",n),Wn(t,"CVER",22),this.D&&Wn(t,"X-HTTP-Session-Id",this.D),nv(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(GV(a)))+"&"+e:this.o&&SR(t,this.o,a)),bR(this.h,i),this.Ya&&Wn(t,"TYPE","init"),this.O?(Wn(t,"$req",e),Wn(t,"SID","null"),i.Z=!0,ER(i,t,null)):ER(i,t,e),this.G=2}}else 3==this.G&&(n?qV(this,n):0==this.i.length||PV(this.h)||qV(this))},it.Ia=function(){if(this.u=null,QV(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=G_(Di(this.eb,this),n)}},it.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Fi(10),cb(this),QV(this))},it.cb=function(){null!=this.v&&(this.v=null,cb(this),MR(this),Fi(19))},it.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Fi(2)):(this.j.info("Failed to ping google.com"),Fi(1))},(it=nU.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Ra=function(){},fb.prototype.g=function(n,e){return new ys(n,e)},fi(ys,Jr),ys.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Fi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=eU(n,null,n.V),db(n)},ys.prototype.close=function(){AR(this.g)},ys.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dR(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&db(e)},ys.prototype.M=function(){this.g.l=null,delete this.j,AR(this.g),delete this.g,ys.X.M.call(this)},fi(rU,yR),fi(iU,_R),fi(sp,nU),sp.prototype.xa=function(){pi(this.g,"a")},sp.prototype.wa=function(n){pi(this.g,new rU(n))},sp.prototype.va=function(n){pi(this.g,new iU)},sp.prototype.ua=function(){pi(this.g,"b")},fb.prototype.createWebChannel=fb.prototype.g,ys.prototype.send=ys.prototype.u,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,eb.NO_ERROR=0,eb.TIMEOUT=8,eb.HTTP_ERROR=6,yV.COMPLETE="complete",vV.EventType=z_,z_.OPEN="a",z_.CLOSE="b",z_.ERROR="c",z_.MESSAGE="d",Jr.prototype.listen=Jr.prototype.N,sr.prototype.listenOnce=sr.prototype.O,sr.prototype.getLastError=sr.prototype.Oa,sr.prototype.getLastErrorCode=sr.prototype.Ea,sr.prototype.getStatus=sr.prototype.aa,sr.prototype.getResponseJson=sr.prototype.Sa,sr.prototype.getResponseText=sr.prototype.fa,sr.prototype.send=sr.prototype.da,sr.prototype.setWithCredentials=sr.prototype.Ka,ka.createWebChannelTransport=function(){return new fb},ka.getStatEventTarget=function(){return J0()},ka.ErrorCode=eb,ka.EventType=yV,ka.Event=Hc,ka.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ka.FetchXmlHttpFactory=X_,ka.WebChannel=vV,ka.XhrIo=sr;const sU="@firebase/firestore";class ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let rv="9.17.2";const rl=new As.Yd("@firebase/firestore");function xe(n,...e){if(rl.logLevel<=As.in.DEBUG){const t=e.map(NR);rl.debug(`Firestore (${rv}): ${n}`,...t)}}function gr(n,...e){if(rl.logLevel<=As.in.ERROR){const t=e.map(NR);rl.error(`Firestore (${rv}): ${n}`,...t)}}function NR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function et(n="Unexpected state"){const e=`FIRESTORE (${rv}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function st(n,e){n||et()}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends k.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class oU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ei.UNAUTHENTICATED))}shutdown(){}}class I3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class C3{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let l=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ur,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const y=l;e.enqueueRetryable((0,le.Z)(function*(){yield y.promise,yield a(r.currentUser)}))},p=y=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ur)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st("string"==typeof r.accessToken),new oU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return st(null===e||"string"==typeof e),new ei(e)}}class b3{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=ei.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(st(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class D3{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new b3(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T3{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st("string"==typeof t.token),this.A=t.token,new aU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function S3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class uU{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=S3(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ot(n,e){return n<e?-1:n>e?1:0}class pb{constructor(e,t,r){void 0===t?t=0:t>e.length&&et(),void 0===r?r=e.length-t:r>e.length-t&&et(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===pb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends pb{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(tn.fromString(e))}static fromName(e){return new je(tn.fromString(e).popFirst(5))}static empty(){return new je(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new tn(e.slice()))}}function sl(n){return"IndexedDbTransactionError"===n.name}class L3{constructor(e,t,r,i,a,l,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Yc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}class V3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new V3("Invalid base64 string: "+i):i}}(e);return new Br(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Br.EMPTY_BYTE_STRING=new Br("");class ar{constructor(e,t){this.comparator=e,this.root=t||gi.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wb(this.root,e,this.comparator,!1)}getReverseIterator(){return new wb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wb(this.root,e,this.comparator,!0)}}class wb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??gi.RED,this.left=i??gi.EMPTY,this.right=a??gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new gi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return gi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(n,e,t,r,i){return this}insert(n,e,t){return new gi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NU(this.data.getIterator())}getIteratorFrom(e){return new NU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class NU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}var Ar,nn;(nn=Ar||(Ar={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS",new ar(je.comparator),new ar(je.comparator),new ar(je.comparator),new Mn(je.comparator),new Mn(Ot);class ad{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(or(e.integerValue));else if("doubleValue"in e){const r=or(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),function uv(n){return 0===n&&1/n==-1/0}(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(function Zc(n){return"string"==typeof n?Br.fromBase64String(n):Br.fromUint8Array(n)}(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?function EU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):et()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const i of Object.keys(r))this.we(i,t),this.he(r[i],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const i of r)this.he(i,t)}ye(e,t){this.fe(t,37),je.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}ad.Ee=new ad,new Uint8Array(0);class es{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jb(){return typeof document<"u"?document:null}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class bN{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,t-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class HN{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,h=new HN(e,t,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new we(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class gK{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ei.UNAUTHENTICATED,this.clientId=uU.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,le.Z)(function*(h){xe("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(xe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,le.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,le.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Dp(n,e){if(gr("AsyncQueue",`${e}: ${n}`),sl(n))return new we(J.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const L2=new Map;function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Kb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":et()}(n);throw new we(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class $2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new we(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new we(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function CK(n,e,t,r){if(!0===e&&!0===r)throw new we(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new we(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new E3;switch(t.type){case"gapi":return new D3(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new we(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=L2.get(e);t&&(xe("ComponentProvider","Removing Datastore"),L2.delete(e),t.terminate())}(this),Promise.resolve()}}class TK{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new bN(this,"async_queue_retry"),this.Hc=()=>{const t=jb();t&&xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=jb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=jb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new Ur;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,le.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!sl(t))throw t;xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,gr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const i=HN.createAndSchedule(this,e,t,r,a=>this.Xc(a));return this.Gc.push(i),i}Jc(){this.Qc&&et()}verifyOperationInProgress(){}ta(){var e=this;return(0,le.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}class jn extends Fv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new TK,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function H2(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new L3(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new gK(n._authCredentials,n._appCheckCredentials,n._queue,r)}(this),this._firestoreClient.terminate()}}function AK(n,e){const t="object"==typeof n?n:(0,Sn.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Sn._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,k.P0)("firestore");a&&function bK(n,e,t,r={}){var i;const a=(n=Jt(n,Fv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&function iv(n,...e){if(rl.logLevel<=As.in.WARN){const t=e.map(NR);rl.warn(`Firestore (${rv}): ${n}`,...t)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,h;if("string"==typeof r.mockUserToken)l=r.mockUserToken,h=ei.MOCK_USER;else{l=(0,k.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new we(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ei(p)}n._authCredentials=new I3(new oU(l,h))}}(i,...a)}return i}!function(n,e=!0){rv=Sn.SDK_VERSION,(0,Sn._registerComponent)(new Cu.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new jn(new C3(t.getProvider("auth-internal")),new T3(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new we(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(h.options.projectId,p)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Sn.registerVersion)(sU,"3.8.4",n),(0,Sn.registerVersion)(sU,"3.8.4","esm2017")}();class UP{constructor(e){return e}}const c$="firestore",BP=new g.OlP("angularfire2.firestore-instances");function KK(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new UP(r)}}const YK={provide:class WK{constructor(){return(0,Gn.vb)(c$)}},deps:[[new g.FiY,BP]]},QK={provide:UP,useFactory:function qK(n,e){const t=(0,Gn.JM)(c$,n,e);return t&&new UP(t)},deps:[[new g.FiY,BP],Ss]};let ZK=(()=>{class n{constructor(){(0,Ts.KN)("angularfire",Gn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[QK,YK]}),n})();function XK(n,...e){return{ngModule:ZK,providers:[{provide:BP,useFactory:KK(n),multi:!0,deps:[g.R0b,g.zs3,Gn.HU,qs,[new g.FiY,UC],[new g.FiY,Ks],...e]}]}}const JK=(0,Gn.u3)(AK,!0);var e4=R(3008);function t4(n,e){1&n&&(g.TgZ(0,"div",1),g._UZ(1,"a",2),g.qZA())}function n4(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"div",1)(1,"u")(2,"a",3),g.NdJ("click",function(){g.CHM(t);const i=g.oxw();return g.KtG(i.goOut())}),g._uU(3,"Log-out"),g.qZA()()()}}let r4=(()=>{class n{constructor(t){this.loginService=t,this.title="Persons \u{1f600}"}ngOnInit(){const r=(0,Ts.ZF)({apiKey:"AIzaSyCPvfDAATdztklN74IzK6zoEwNVsx2nCXA",authDomain:"data-base1-8cf55.firebaseapp.com",databaseURL:"https://data-base1-8cf55-default-rtdb.firebaseio.com",projectId:"data-base1-8cf55",storageBucket:"data-base1-8cf55.appspot.com",messagingSenderId:"512917128961",appId:"1:512917128961:web:ca6827d6ff09e761e27d00",measurementId:"G-CPTPS9NH5D"});(0,e4.IH)(r)}isAuthenticated(){return this.loginService.isAuthenticated()}goOut(){this.loginService.logOut()}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(ju))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:2,consts:[["class","box centrado",4,"ngIf"],[1,"box","centrado"],["routerLink","/login"],[2,"cursor","pointer",3,"click"]],template:function(t,r){1&t&&(g.YNc(0,t4,2,0,"div",0),g.YNc(1,n4,4,0,"div",0),g.TgZ(2,"div",1)(3,"h1"),g._uU(4,"Listado de \u{1f498}"),g.qZA()(),g._UZ(5,"router-outlet")),2&t&&(g.Q6J("ngIf",!r.isAuthenticated()),g.xp6(1),g.Q6J("ngIf",r.isAuthenticated()))},dependencies:[ai,Mg,Ql]}),n})();const i4_firebase={projectId:"data-base1-8cf55",appId:"1:512917128961:web:ca6827d6ff09e761e27d00",databaseURL:"https://data-base1-8cf55-default-rtdb.firebaseio.com",storageBucket:"data-base1-8cf55.appspot.com",apiKey:"AIzaSyCPvfDAATdztklN74IzK6zoEwNVsx2nCXA",authDomain:"data-base1-8cf55.firebaseapp.com",messagingSenderId:"512917128961",measurementId:"G-CPTPS9NH5D"};let s4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[r4]}),n.\u0275inj=g.cJS({providers:[MM,kM,W1.hO,H1,ju],imports:[gw,vj,Gj,W1.hO,em(()=>UT(i4_firebase)),zy(()=>to()),CW(()=>bW()),XK(()=>JK()),Zj]}),n})();fw().bootstrapModule(s4).catch(n=>console.error(n))},9751:(ft,De,R)=>{R.d(De,{y:()=>Ge});var g=R(2961),z=R(727),Z=R(8822),W=R(9635),ce=R(2416),Ee=R(576),Re=R(2806);let Ge=(()=>{class ee{constructor(X){X&&(this._subscribe=X)}lift(X){const Le=new ee;return Le.source=this,Le.operator=X,Le}subscribe(X,Le,Ne){const _t=function V(ee){return ee&&ee instanceof g.Lv||function L(ee){return ee&&(0,Ee.m)(ee.next)&&(0,Ee.m)(ee.error)&&(0,Ee.m)(ee.complete)}(ee)&&(0,z.Nn)(ee)}(X)?X:new g.Hp(X,Le,Ne);return(0,Re.x)(()=>{const{operator:Ze,source:Ft}=this;_t.add(Ze?Ze.call(_t,Ft):Ft?this._subscribe(_t):this._trySubscribe(_t))}),_t}_trySubscribe(X){try{return this._subscribe(X)}catch(Le){X.error(Le)}}forEach(X,Le){return new(Le=ye(Le))((Ne,_t)=>{const Ze=new g.Hp({next:Ft=>{try{X(Ft)}catch(Pe){_t(Pe),Ze.unsubscribe()}},error:_t,complete:Ne});this.subscribe(Ze)})}_subscribe(X){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(X)}[Z.L](){return this}pipe(...X){return(0,W.U)(X)(this)}toPromise(X){return new(X=ye(X))((Le,Ne)=>{let _t;this.subscribe(Ze=>_t=Ze,Ze=>Ne(Ze),()=>Le(_t))})}}return ee.create=Ce=>new ee(Ce),ee})();function ye(ee){var Ce;return null!==(Ce=ee??ce.v.Promise)&&void 0!==Ce?Ce:Promise}},7579:(ft,De,R)=>{R.d(De,{x:()=>Re});var g=R(9751),z=R(727);const W=(0,R(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=R(8737),Ee=R(2806);let Re=(()=>{class ye extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const ee=new Ge(this,this);return ee.operator=V,ee}_throwIfClosed(){if(this.closed)throw new W}next(V){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(V)}})}error(V){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:ee}=this;for(;ee.length;)ee.shift().error(V)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:ee,isStopped:Ce,observers:X}=this;return ee||Ce?z.Lc:(this.currentObservers=null,X.push(V),new z.w0(()=>{this.currentObservers=null,(0,ce.P)(X,V)}))}_checkFinalizedStatuses(V){const{hasError:ee,thrownError:Ce,isStopped:X}=this;ee?V.error(Ce):X&&V.complete()}asObservable(){const V=new g.y;return V.source=this,V}}return ye.create=(L,V)=>new Ge(L,V),ye})();class Ge extends Re{constructor(L,V){super(),this.destination=L,this.source=V}next(L){var V,ee;null===(ee=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===ee||ee.call(V,L)}error(L){var V,ee;null===(ee=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===ee||ee.call(V,L)}complete(){var L,V;null===(V=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===V||V.call(L)}_subscribe(L){var V,ee;return null!==(ee=null===(V=this.source)||void 0===V?void 0:V.subscribe(L))&&void 0!==ee?ee:z.Lc}}},2961:(ft,De,R)=>{R.d(De,{Hp:()=>Ne,Lv:()=>ee});var g=R(576),z=R(727),Z=R(2416),W=R(7849);function ce(){}const Ee=ye("C",void 0,void 0);function ye(Ue,Me,Te){return{kind:Ue,value:Me,error:Te}}var L=R(3410),V=R(2806);class ee extends z.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,z.Nn)(Me)&&Me.add(this)):this.destination=Pe}static create(Me,Te,qe){return new Ne(Me,Te,qe)}next(Me){this.isStopped?Ft(function Ge(Ue){return ye("N",Ue,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Ft(function Re(Ue){return ye("E",void 0,Ue)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Ft(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function X(Ue,Me){return Ce.call(Ue,Me)}class Le{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Me)}catch(qe){_t(qe)}}error(Me){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Me)}catch(qe){_t(qe)}else _t(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Te){_t(Te)}}}class Ne extends ee{constructor(Me,Te,qe){let he;if(super(),(0,g.m)(Me)||!Me)he={next:Me??void 0,error:Te??void 0,complete:qe??void 0};else{let re;this&&Z.v.useDeprecatedNextContext?(re=Object.create(Me),re.unsubscribe=()=>this.unsubscribe(),he={next:Me.next&&X(Me.next,re),error:Me.error&&X(Me.error,re),complete:Me.complete&&X(Me.complete,re)}):he=Me}this.destination=new Le(he)}}function _t(Ue){Z.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(Ue):(0,W.h)(Ue)}function Ft(Ue,Me){const{onStoppedNotification:Te}=Z.v;Te&&L.z.setTimeout(()=>Te(Ue,Me))}const Pe={closed:!0,next:ce,error:function Ze(Ue){throw Ue},complete:ce}},727:(ft,De,R)=>{R.d(De,{Lc:()=>Ee,w0:()=>ce,Nn:()=>Re});var g=R(576);const Z=(0,R(3888).d)(ye=>function(V){ye(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((ee,Ce)=>`${Ce+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var W=R(8737);class ce{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const X of V)X.remove(this);else V.remove(this);const{initialTeardown:ee}=this;if((0,g.m)(ee))try{ee()}catch(X){L=X instanceof Z?X.errors:[X]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const X of Ce)try{Ge(X)}catch(Le){L=L??[],Le instanceof Z?L=[...L,...Le.errors]:L.push(Le)}}if(L)throw new Z(L)}}add(L){var V;if(L&&L!==this)if(this.closed)Ge(L);else{if(L instanceof ce){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(L)}}_hasParent(L){const{_parentage:V}=this;return V===L||Array.isArray(V)&&V.includes(L)}_addParent(L){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(L),V):V?[V,L]:L}_removeParent(L){const{_parentage:V}=this;V===L?this._parentage=null:Array.isArray(V)&&(0,W.P)(V,L)}remove(L){const{_finalizers:V}=this;V&&(0,W.P)(V,L),L instanceof ce&&L._removeParent(this)}}ce.EMPTY=(()=>{const ye=new ce;return ye.closed=!0,ye})();const Ee=ce.EMPTY;function Re(ye){return ye instanceof ce||ye&&"closed"in ye&&(0,g.m)(ye.remove)&&(0,g.m)(ye.add)&&(0,g.m)(ye.unsubscribe)}function Ge(ye){(0,g.m)(ye)?ye():ye.unsubscribe()}},2416:(ft,De,R)=>{R.d(De,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,De,R)=>{R.d(De,{E:()=>z});const z=new(R(9751).y)(ce=>ce.complete())},8996:(ft,De,R)=>{R.d(De,{D:()=>Me});var g=R(8421),z=R(5363),Z=R(9468),Ee=R(9751),Ge=R(2202),ye=R(576),L=R(9672);function ee(Te,qe){if(!Te)throw new Error("Iterable cannot be null");return new Ee.y(he=>{(0,L.f)(he,qe,()=>{const re=Te[Symbol.asyncIterator]();(0,L.f)(he,qe,()=>{re.next().then(ne=>{ne.done?he.complete():he.next(ne.value)})},0,!0)})})}var Ce=R(3670),X=R(8239),Le=R(1144),Ne=R(6495),_t=R(2206),Ze=R(4532),Ft=R(3260);function Me(Te,qe){return qe?function Ue(Te,qe){if(null!=Te){if((0,Ce.c)(Te))return function W(Te,qe){return(0,g.Xf)(Te).pipe((0,Z.R)(qe),(0,z.Q)(qe))}(Te,qe);if((0,Le.z)(Te))return function Re(Te,qe){return new Ee.y(he=>{let re=0;return qe.schedule(function(){re===Te.length?he.complete():(he.next(Te[re++]),he.closed||this.schedule())})})}(Te,qe);if((0,X.t)(Te))return function ce(Te,qe){return(0,g.Xf)(Te).pipe((0,Z.R)(qe),(0,z.Q)(qe))}(Te,qe);if((0,_t.D)(Te))return ee(Te,qe);if((0,Ne.T)(Te))return function V(Te,qe){return new Ee.y(he=>{let re;return(0,L.f)(he,qe,()=>{re=Te[Ge.h](),(0,L.f)(he,qe,()=>{let ne,_e;try{({value:ne,done:_e}=re.next())}catch(Qe){return void he.error(Qe)}_e?he.complete():he.next(ne)},0,!0)}),()=>(0,ye.m)(re?.return)&&re.return()})}(Te,qe);if((0,Ft.L)(Te))return function Pe(Te,qe){return ee((0,Ft.Q)(Te),qe)}(Te,qe)}throw(0,Ze.z)(Te)}(Te,qe):(0,g.Xf)(Te)}},8421:(ft,De,R)=>{R.d(De,{Xf:()=>Ce});var g=R(655),z=R(1144),Z=R(8239),W=R(9751),ce=R(3670),Ee=R(2206),Re=R(4532),Ge=R(6495),ye=R(3260),L=R(576),V=R(7849),ee=R(8822);function Ce(Ue){if(Ue instanceof W.y)return Ue;if(null!=Ue){if((0,ce.c)(Ue))return function X(Ue){return new W.y(Me=>{const Te=Ue[ee.L]();if((0,L.m)(Te.subscribe))return Te.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,z.z)(Ue))return function Le(Ue){return new W.y(Me=>{for(let Te=0;Te<Ue.length&&!Me.closed;Te++)Me.next(Ue[Te]);Me.complete()})}(Ue);if((0,Z.t)(Ue))return function Ne(Ue){return new W.y(Me=>{Ue.then(Te=>{Me.closed||(Me.next(Te),Me.complete())},Te=>Me.error(Te)).then(null,V.h)})}(Ue);if((0,Ee.D)(Ue))return Ze(Ue);if((0,Ge.T)(Ue))return function _t(Ue){return new W.y(Me=>{for(const Te of Ue)if(Me.next(Te),Me.closed)return;Me.complete()})}(Ue);if((0,ye.L)(Ue))return function Ft(Ue){return Ze((0,ye.Q)(Ue))}(Ue)}throw(0,Re.z)(Ue)}function Ze(Ue){return new W.y(Me=>{(function Pe(Ue,Me){var Te,qe,he,re;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Te=(0,g.KL)(Ue);!(qe=yield Te.next()).done;)if(Me.next(qe.value),Me.closed)return}catch(ne){he={error:ne}}finally{try{qe&&!qe.done&&(re=Te.return)&&(yield re.call(Te))}finally{if(he)throw he.error}}Me.complete()})})(Ue,Me).catch(Te=>Me.error(Te))})}},5403:(ft,De,R)=>{R.d(De,{x:()=>z});var g=R(2961);function z(W,ce,Ee,Re,Ge){return new Z(W,ce,Ee,Re,Ge)}class Z extends g.Lv{constructor(ce,Ee,Re,Ge,ye,L){super(ce),this.onFinalize=ye,this.shouldUnsubscribe=L,this._next=Ee?function(V){try{Ee(V)}catch(ee){ce.error(ee)}}:super._next,this._error=Ge?function(V){try{Ge(V)}catch(ee){ce.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(V){ce.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(ft,De,R)=>{R.d(De,{U:()=>Z});var g=R(4482),z=R(5403);function Z(W,ce){return(0,g.e)((Ee,Re)=>{let Ge=0;Ee.subscribe((0,z.x)(Re,ye=>{Re.next(W.call(ce,ye,Ge++))}))})}},8189:(ft,De,R)=>{R.d(De,{J:()=>Z});var g=R(5577),z=R(4671);function Z(W=1/0){return(0,g.z)(z.y,W)}},5577:(ft,De,R)=>{R.d(De,{z:()=>Ge});var g=R(4004),z=R(8421),Z=R(4482),W=R(9672),ce=R(5403),Re=R(576);function Ge(ye,L,V=1/0){return(0,Re.m)(L)?Ge((ee,Ce)=>(0,g.U)((X,Le)=>L(ee,X,Ce,Le))((0,z.Xf)(ye(ee,Ce))),V):("number"==typeof L&&(V=L),(0,Z.e)((ee,Ce)=>function Ee(ye,L,V,ee,Ce,X,Le,Ne){const _t=[];let Ze=0,Ft=0,Pe=!1;const Ue=()=>{Pe&&!_t.length&&!Ze&&L.complete()},Me=qe=>Ze<ee?Te(qe):_t.push(qe),Te=qe=>{X&&L.next(qe),Ze++;let he=!1;(0,z.Xf)(V(qe,Ft++)).subscribe((0,ce.x)(L,re=>{Ce?.(re),X?Me(re):L.next(re)},()=>{he=!0},void 0,()=>{if(he)try{for(Ze--;_t.length&&Ze<ee;){const re=_t.shift();Le?(0,W.f)(L,Le,()=>Te(re)):Te(re)}Ue()}catch(re){L.error(re)}}))};return ye.subscribe((0,ce.x)(L,Me,()=>{Pe=!0,Ue()})),()=>{Ne?.()}}(ee,Ce,ye,V)))}},5363:(ft,De,R)=>{R.d(De,{Q:()=>W});var g=R(9672),z=R(4482),Z=R(5403);function W(ce,Ee=0){return(0,z.e)((Re,Ge)=>{Re.subscribe((0,Z.x)(Ge,ye=>(0,g.f)(Ge,ce,()=>Ge.next(ye),Ee),()=>(0,g.f)(Ge,ce,()=>Ge.complete(),Ee),ye=>(0,g.f)(Ge,ce,()=>Ge.error(ye),Ee)))})}},9468:(ft,De,R)=>{R.d(De,{R:()=>z});var g=R(4482);function z(Z,W=0){return(0,g.e)((ce,Ee)=>{Ee.add(Z.schedule(()=>ce.subscribe(Ee),W))})}},8505:(ft,De,R)=>{R.d(De,{b:()=>ce});var g=R(576),z=R(4482),Z=R(5403),W=R(4671);function ce(Ee,Re,Ge){const ye=(0,g.m)(Ee)||Re||Ge?{next:Ee,error:Re,complete:Ge}:Ee;return ye?(0,z.e)((L,V)=>{var ee;null===(ee=ye.subscribe)||void 0===ee||ee.call(ye);let Ce=!0;L.subscribe((0,Z.x)(V,X=>{var Le;null===(Le=ye.next)||void 0===Le||Le.call(ye,X),V.next(X)},()=>{var X;Ce=!1,null===(X=ye.complete)||void 0===X||X.call(ye),V.complete()},X=>{var Le;Ce=!1,null===(Le=ye.error)||void 0===Le||Le.call(ye,X),V.error(X)},()=>{var X,Le;Ce&&(null===(X=ye.unsubscribe)||void 0===X||X.call(ye)),null===(Le=ye.finalize)||void 0===Le||Le.call(ye)}))}):W.y}},3410:(ft,De,R)=>{R.d(De,{z:()=>g});const g={setTimeout(z,Z,...W){const{delegate:ce}=g;return ce?.setTimeout?ce.setTimeout(z,Z,...W):setTimeout(z,Z,...W)},clearTimeout(z){const{delegate:Z}=g;return(Z?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(ft,De,R)=>{R.d(De,{h:()=>z});const z=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,De,R)=>{R.d(De,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ft,De,R)=>{R.d(De,{_6:()=>Ee,jO:()=>W,yG:()=>ce});var g=R(576);function Z(Re){return Re[Re.length-1]}function W(Re){return(0,g.m)(Z(Re))?Re.pop():void 0}function ce(Re){return function z(Re){return Re&&(0,g.m)(Re.schedule)}(Z(Re))?Re.pop():void 0}function Ee(Re,Ge){return"number"==typeof Z(Re)?Re.pop():Ge}},8737:(ft,De,R)=>{function g(z,Z){if(z){const W=z.indexOf(Z);0<=W&&z.splice(W,1)}}R.d(De,{P:()=>g})},3888:(ft,De,R)=>{function g(z){const W=z(ce=>{Error.call(ce),ce.stack=(new Error).stack});return W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W}R.d(De,{d:()=>g})},2806:(ft,De,R)=>{R.d(De,{O:()=>W,x:()=>Z});var g=R(2416);let z=null;function Z(ce){if(g.v.useDeprecatedSynchronousErrorHandling){const Ee=!z;if(Ee&&(z={errorThrown:!1,error:null}),ce(),Ee){const{errorThrown:Re,error:Ge}=z;if(z=null,Re)throw Ge}}else ce()}function W(ce){g.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=ce)}},9672:(ft,De,R)=>{function g(z,Z,W,ce=0,Ee=!1){const Re=Z.schedule(function(){W(),Ee?z.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(z.add(Re),!Ee)return Re}R.d(De,{f:()=>g})},4671:(ft,De,R)=>{function g(z){return z}R.d(De,{y:()=>g})},1144:(ft,De,R)=>{R.d(De,{z:()=>g});const g=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(ft,De,R)=>{R.d(De,{D:()=>z});var g=R(576);function z(Z){return Symbol.asyncIterator&&(0,g.m)(Z?.[Symbol.asyncIterator])}},576:(ft,De,R)=>{function g(z){return"function"==typeof z}R.d(De,{m:()=>g})},3670:(ft,De,R)=>{R.d(De,{c:()=>Z});var g=R(8822),z=R(576);function Z(W){return(0,z.m)(W[g.L])}},6495:(ft,De,R)=>{R.d(De,{T:()=>Z});var g=R(2202),z=R(576);function Z(W){return(0,z.m)(W?.[g.h])}},8239:(ft,De,R)=>{R.d(De,{t:()=>z});var g=R(576);function z(Z){return(0,g.m)(Z?.then)}},3260:(ft,De,R)=>{R.d(De,{L:()=>W,Q:()=>Z});var g=R(655),z=R(576);function Z(ce){return(0,g.FC)(this,arguments,function*(){const Re=ce.getReader();try{for(;;){const{value:Ge,done:ye}=yield(0,g.qq)(Re.read());if(ye)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ge)}}finally{Re.releaseLock()}})}function W(ce){return(0,z.m)(ce?.getReader)}},4482:(ft,De,R)=>{R.d(De,{A:()=>z,e:()=>Z});var g=R(576);function z(W){return(0,g.m)(W?.lift)}function Z(W){return ce=>{if(z(ce))return ce.lift(function(Ee){try{return W(Ee,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ft,De,R)=>{R.d(De,{U:()=>Z,z:()=>z});var g=R(4671);function z(...W){return Z(W)}function Z(W){return 0===W.length?g.y:1===W.length?W[0]:function(Ee){return W.reduce((Re,Ge)=>Ge(Re),Ee)}}},7849:(ft,De,R)=>{R.d(De,{h:()=>Z});var g=R(2416),z=R(3410);function Z(W){z.z.setTimeout(()=>{const{onUnhandledError:ce}=g.v;if(!ce)throw W;ce(W)})}},4532:(ft,De,R)=>{function g(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(De,{z:()=>g})},655:(ft,De,R)=>{function W(q,Y){var j={};for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&Y.indexOf(K)<0&&(j[K]=q[K]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(K=Object.getOwnPropertySymbols(q);te<K.length;te++)Y.indexOf(K[te])<0&&Object.prototype.propertyIsEnumerable.call(q,K[te])&&(j[K[te]]=q[K[te]])}return j}function ee(q,Y,j,K){return new(j||(j=Promise))(function(oe,ke){function ut(vt){try{ze(K.next(vt))}catch(Ve){ke(Ve)}}function Dt(vt){try{ze(K.throw(vt))}catch(Ve){ke(Ve)}}function ze(vt){vt.done?oe(vt.value):function te(oe){return oe instanceof j?oe:new j(function(ke){ke(oe)})}(vt.value).then(ut,Dt)}ze((K=K.apply(q,Y||[])).next())})}function Ue(q){return this instanceof Ue?(this.v=q,this):new Ue(q)}function Me(q,Y,j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,K=j.apply(q,Y||[]),oe=[];return te={},ke("next"),ke("throw"),ke("return"),te[Symbol.asyncIterator]=function(){return this},te;function ke(rt){K[rt]&&(te[rt]=function(Wt){return new Promise(function(Tt,tt){oe.push([rt,Wt,Tt,tt])>1||ut(rt,Wt)})})}function ut(rt,Wt){try{!function Dt(rt){rt.value instanceof Ue?Promise.resolve(rt.value.v).then(ze,vt):Ve(oe[0][2],rt)}(K[rt](Wt))}catch(Tt){Ve(oe[0][3],Tt)}}function ze(rt){ut("next",rt)}function vt(rt){ut("throw",rt)}function Ve(rt,Wt){rt(Wt),oe.shift(),oe.length&&ut(oe[0][0],oe[0][1])}}function qe(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j,Y=q[Symbol.asyncIterator];return Y?Y.call(q):(q=function Ne(q){var Y="function"==typeof Symbol&&Symbol.iterator,j=Y&&q[Y],K=0;if(j)return j.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&K>=q.length&&(q=void 0),{value:q&&q[K++],done:!q}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),j={},K("next"),K("throw"),K("return"),j[Symbol.asyncIterator]=function(){return this},j);function K(oe){j[oe]=q[oe]&&function(ke){return new Promise(function(ut,Dt){!function te(oe,ke,ut,Dt){Promise.resolve(Dt).then(function(ze){oe({value:ze,done:ut})},ke)}(ut,Dt,(ke=q[oe](ke)).done,ke.value)})}}}R.d(De,{FC:()=>Me,KL:()=>qe,_T:()=>W,mG:()=>ee,qq:()=>Ue})},8256:(ft,De,R)=>{R.d(De,{tb:()=>GA,AFp:()=>OC,ip1:()=>PC,CZH:()=>Pf,hGG:()=>YC,z2F:()=>Wy,sBO:()=>zk,Sil:()=>OA,_Vd:()=>Wl,EJc:()=>LC,Xts:()=>pa,SBq:()=>ql,lqb:()=>ma,qLn:()=>Eu,vpe:()=>Pi,XFs:()=>ve,OlP:()=>Pn,zs3:()=>hr,ZZ4:()=>Hu,aQg:()=>Ff,soG:()=>xc,YKP:()=>XS,h0i:()=>Oo,PXZ:()=>Bk,R0b:()=>Qi,FiY:()=>tu,Lbi:()=>NA,g9A:()=>Of,Qsj:()=>yT,FYo:()=>Bg,JOm:()=>lr,tp0:()=>Pl,Rgc:()=>Ic,dDg:()=>Fk,eoX:()=>jA,q4F:()=>fE,GfV:()=>hE,s_b:()=>Tf,ifc:()=>en,MMx:()=>QI,Lck:()=>JS,eFA:()=>WA,Gpc:()=>Ft,f3M:()=>B,X6Q:()=>eM,$WT:()=>ns,MR2:()=>uT,_c5:()=>i_,c2e:()=>FC,zSh:()=>Fg,wAp:()=>pt,vHH:()=>he,lri:()=>BA,rWj:()=>$A,D6c:()=>s_,cg1:()=>Fm,kL8:()=>kI,dqk:()=>fn,Z0I:()=>_n,eJc:()=>xy,CqO:()=>ic,QGY:()=>aI,F4k:()=>vm,RDi:()=>KD,AaK:()=>Ne,qOj:()=>Lh,TTD:()=>is,_Bn:()=>Po,jDz:()=>hy,xp6:()=>DE,uIk:()=>XE,ekj:()=>cc,Suo:()=>fC,Xpm:()=>Ie,lG2:()=>Rr,Yz7:()=>un,cJS:()=>jr,oAB:()=>tr,Yjl:()=>uo,Y36:()=>_a,_UZ:()=>iI,qZA:()=>ym,TgZ:()=>mm,EpF:()=>_m,n5z:()=>gw,LFG:()=>C,$8M:()=>eg,$Z:()=>FE,NdJ:()=>Qr,CRH:()=>pC,oxw:()=>hs,Q6J:()=>Gh,DdM:()=>tC,VKq:()=>my,iGM:()=>ko,MAs:()=>_S,KtG:()=>lD,CHM:()=>uD,P3R:()=>mu,YNc:()=>yS,_uU:()=>AS,AsE:()=>nf});var g=R(7579),z=R(727),Z=R(9751),W=R(8189),ce=R(8421),Ee=R(515),Re=R(7669),Ge=R(8996),L=R(2961),V=R(4482);function Ce(s,o,...u){if(!0===o)return void s();if(!1===o)return;const c=new L.Hp({next:()=>{c.unsubscribe(),s()}});return(0,ce.Xf)(o(...u)).subscribe(c)}function X(s){for(let o in s)if(s[o]===X)return o;throw Error("Could not find renamed property on target object.")}function Le(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function Ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function _t(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Ze=X({__forward_ref__:X});function Ft(s){return s.__forward_ref__=Ft,s.toString=function(){return Ne(this())},s}function Pe(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(Ze)&&s.__forward_ref__===Ft}function Me(s){return s&&!!s.\u0275providers}const qe="https://g.co/ng/security#xss";class he extends Error{constructor(o,u){super(re(o,u)),this.code=o}}function re(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function ne(s){return"string"==typeof s?s:null==s?"":String(s)}function q(s,o){throw new he(-201,!1)}function Tt(s,o){null==s&&function tt(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function un(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function jr(s){return{providers:s.providers||[],imports:s.imports||[]}}function sn(s){return si(s,Fn)||si(s,qt)}function _n(s){return null!==sn(s)}function si(s,o){return s.hasOwnProperty(o)?s[o]:null}function Jn(s){return s&&(s.hasOwnProperty(Hr)||s.hasOwnProperty(nt))?s[Hr]:null}const Fn=X({\u0275prov:X}),Hr=X({\u0275inj:X}),qt=X({ngInjectableDef:X}),nt=X({ngInjectorDef:X});var ve=(()=>((ve=ve||{})[ve.Default=0]="Default",ve[ve.Host=1]="Host",ve[ve.Self=2]="Self",ve[ve.SkipSelf=4]="SkipSelf",ve[ve.Optional=8]="Optional",ve))();let gn;function hn(s){const o=gn;return gn=s,o}function er(s,o,u){const c=sn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&ve.Optional?null:void 0!==o?o:void q(Ne(s))}const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gr={},zr="__NG_DI_FLAG__",$e="ngTempTokenPath",de="ngTokenPath",Ye=/\n/gm,wt="\u0275",kt="__source";let Rt;function ln(s){const o=Rt;return Rt=s,o}function O(s,o=ve.Default){if(void 0===Rt)throw new he(-203,!1);return null===Rt?er(s,void 0,o):Rt.get(s,o&ve.Optional?null:void 0,o)}function C(s,o=ve.Default){return(function dn(){return gn}()||O)(Pe(s),o)}function B(s,o=ve.Default){return C(s,P(o))}function P(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function ie(s){const o=[];for(let u=0;u<s.length;u++){const c=Pe(s[u]);if(Array.isArray(c)){if(0===c.length)throw new he(900,!1);let d,f=ve.Default;for(let m=0;m<c.length;m++){const _=c[m],v=Xe(_);"number"==typeof v?-1===v?d=_.token:f|=v:d=_}o.push(C(d,f))}else o.push(C(c))}return o}function Ae(s,o){return s[zr]=o,s.prototype[zr]=o,s}function Xe(s){return s[zr]}function Ct(s){return{toString:s}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),en=(()=>{return(s=en||(en={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",en;var s})();const vn={},yt=[],ks=X({\u0275cmp:X}),Fs=X({\u0275dir:X}),Ls=X({\u0275pipe:X}),qo=X({\u0275mod:X}),oi=X({\u0275fac:X}),$=X({__NG_ELEMENT_ID__:X});let ae=0;function Ie(s){return Ct(()=>{const u=!0===s.standalone,c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||yt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||en.Emulated,id:"c"+ae++,styles:s.styles||yt,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},f=s.dependencies,m=s.features;return d.inputs=ts(s.inputs,c),d.outputs=ts(s.outputs),m&&m.forEach(_=>_(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(mn).filter(Qt):null,d.pipeDefs=f?()=>("function"==typeof f?f():f).map(Nr).filter(Qt):null,d})}function mn(s){return Zt(s)||ur(s)}function Qt(s){return null!==s}function tr(s){return Ct(()=>({type:s.type,bootstrap:s.bootstrap||yt,declarations:s.declarations||yt,imports:s.imports||yt,exports:s.exports||yt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ts(s,o){if(null==s)return vn;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}const Rr=Ie;function uo(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Zt(s){return s[ks]||null}function ur(s){return s[Fs]||null}function Nr(s){return s[Ls]||null}function ns(s){const o=Zt(s)||ur(s)||Nr(s);return null!==o&&o.standalone}function Wr(s,o){const u=s[qo]||null;if(!u&&!0===o)throw new Error(`Type ${Ne(s)} does not have '\u0275mod' property.`);return u}const Ui=0,We=1,At=2,Tn=3,ai=4,rs=5,nr=6,Bi=7,xn=8,lo=9,ja=10,Lt=11,co=12,Ko=13,gd=14,Yo=15,Pr=16,Or=17,Vs=18,vi=19,Qo=20,Ha=21,wn=22,md=1,Ga=2,_l=7,vl=8,ho=9,kr=10;function Er(s){return Array.isArray(s)&&"object"==typeof s[md]}function Ai(s){return Array.isArray(s)&&!0===s[md]}function za(s){return 0!=(4&s.flags)}function Zo(s){return s.componentOffset>-1}function Xo(s){return 1==(1&s.flags)}function Fr(s){return null!==s.template}function wl(s){return 0!=(256&s[At])}function Us(s,o){return s.hasOwnProperty(oi)?s[oi]:null}class Yv{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function is(){return Ed}function Ed(s){return s.type.prototype.ngOnChanges&&(s.setInput=Qv),Cl}function Cl(){const s=Id(this),o=s?.current;if(o){const u=s.previous;if(u===vn)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Qv(s,o,u,c){const d=this.declaredInputs[u],f=Id(s)||function Bs(s,o){return s[ws]=o}(s,{previous:vn,current:null}),m=f.current||(f.current={}),_=f.previous,v=_[d];m[d]=new Yv(v&&v.currentValue,o,_===vn),s[c]=o}is.ngInherit=!0;const ws="__ngSimpleChanges__";function Id(s){return s[ws]||null}const Lr=function(s,o,u){};function Ir(s){for(;Array.isArray(s);)s=s[Ui];return s}function D(s,o){return Ir(o[s])}function N(s,o){return Ir(o[s.index])}function me(s,o){return s.data[o]}function Je(s,o){const u=o[s];return Er(u)?u:u[Ui]}function Nn(s){return 64==(64&s[At])}function Xt(s,o){return null==o?null:s[o]}function Ut(s){s[Vs]=0}function ss(s,o){s[rs]+=o;let u=s,c=s[Tn];for(;null!==c&&(1===o&&1===u[rs]||-1===o&&0===u[rs]);)c[rs]+=o,u=c,c=c[Tn]}const ht={lFrame:tw(null),bindingsEnabled:!0};function Td(){return ht.bindingsEnabled}function fe(){return ht.lFrame.lView}function Yt(){return ht.lFrame.tView}function uD(s){return ht.lFrame.contextLView=s,s[xn]}function lD(s){return ht.lFrame.contextLView=null,s}function qr(){let s=Bp();for(;null!==s&&64===s.type;)s=s.parent;return s}function Bp(){return ht.lFrame.currentTNode}function Es(s,o){const u=ht.lFrame;u.currentTNode=s,u.isParent=o}function Dl(){return ht.lFrame.isParent}function Kr(){const s=ht.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function qa(){return ht.lFrame.bindingIndex++}function Is(s){const o=ht.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function WP(s,o){const u=ht.lFrame;u.bindingIndex=u.bindingRootIndex=s,Xv(o)}function Xv(s){ht.lFrame.currentDirectiveIndex=s}function hD(){return ht.lFrame.currentQueryIndex}function ew(s){ht.lFrame.currentQueryIndex=s}function KP(s){const o=s[We];return 2===o.type?o.declTNode:1===o.type?s[nr]:null}function fD(s,o,u){if(u&ve.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&ve.Host||(d=KP(f),null===d||(f=f[Yo],10&d.type))););if(null===d)return!1;o=d,s=f}const c=ht.lFrame=pD();return c.currentTNode=o,c.lView=s,!0}function jp(s){const o=pD(),u=s[We];ht.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function pD(){const s=ht.lFrame,o=null===s?null:s.child;return null===o?tw(s):o}function tw(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function nw(){const s=ht.lFrame;return ht.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const gD=nw;function rw(){const s=nw();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wi(){return ht.lFrame.selectedIndex}function Ka(s){ht.lFrame.selectedIndex=s}function Hn(){const s=ht.lFrame;return me(s.tView,s.selectedIndex)}function Sd(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:v,ngAfterViewChecked:I,ngOnDestroy:b}=f;m&&(s.contentHooks||(s.contentHooks=[])).push(-u,m),_&&((s.contentHooks||(s.contentHooks=[])).push(u,_),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,_)),v&&(s.viewHooks||(s.viewHooks=[])).push(-u,v),I&&((s.viewHooks||(s.viewHooks=[])).push(u,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,I)),null!=b&&(s.destroyHooks||(s.destroyHooks=[])).push(u,b)}}function ta(s,o,u){iw(s,o,3,u)}function Ad(s,o,u,c){(3&s[At])===u&&iw(s,o,u,c)}function Md(s,o){let u=s[At];(3&u)===o&&(u&=2047,u+=1,s[At]=u)}function iw(s,o,u,c){const f=c??-1,m=o.length-1;let _=0;for(let v=void 0!==c?65535&s[Vs]:0;v<m;v++)if("number"==typeof o[v+1]){if(_=o[v],null!=c&&_>=c)break}else o[v]<0&&(s[Vs]+=65536),(_<f||-1==f)&&(yD(s,u,o,v),s[Vs]=(4294901760&s[Vs])+v+2),v++}function yD(s,o,u,c){const d=u[c]<0,f=u[c+1],_=s[d?-u[c]:u[c]];if(d){if(s[At]>>11<s[Vs]>>16&&(3&s[At])===o){s[At]+=2048,Lr(4,_,f);try{f.call(_)}finally{Lr(5,_,f)}}}else{Lr(4,_,f);try{f.call(_)}finally{Lr(5,_,f)}}}const Ya=-1;class Sl{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Nd(s,o,u){let c=0;for(;c<u.length;){const d=u[c];if("number"==typeof d){if(0!==d)break;c++;const f=u[c++],m=u[c++],_=u[c++];s.setAttribute(o,m,_,f)}else{const f=d,m=u[++c];aw(f)?s.setProperty(o,f,m):s.setAttribute(o,f,m),c++}}return c}function ow(s){return 3===s||4===s||6===s}function aw(s){return 64===s.charCodeAt(0)}function Ml(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||Wp(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function Wp(s,o,u,c,d){let f=0,m=s.length;if(-1===o)m=-1;else for(;f<s.length;){const _=s[f++];if("number"==typeof _){if(_===o){m=-1;break}if(_>o){m=f-1;break}}}for(;f<s.length;){const _=s[f];if("number"==typeof _)break;if(_===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==m&&(s.splice(m,0,o),f=m+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function uw(s){return s!==Ya}function Pd(s){return 32767&s}function xl(s,o){let u=function lw(s){return s>>16}(s),c=o;for(;u>0;)c=c[Yo],u--;return c}let Rl=!0;function Qa(s){const o=Rl;return Rl=s,o}const qp=255,Kp=5;let wD=0;const ji={};function Od(s,o){const u=dw(s,o);if(-1!==u)return u;const c=o[We];c.firstCreatePass&&(s.injectorIndex=o.length,kd(c.data,s),kd(o,null),kd(c.blueprint,null));const d=Yp(s,o),f=s.injectorIndex;if(uw(d)){const m=Pd(d),_=xl(d,o),v=_[We].data;for(let I=0;I<8;I++)o[f+I]=_[m+I]|v[m+I]}return o[f+8]=d,f}function kd(s,o){s.push(0,0,0,0,0,0,0,0,o)}function dw(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Yp(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){if(c=TD(d),null===c)return Ya;if(u++,d=d[Yo],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return Ya}function Qp(s,o,u){!function cw(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty($)&&(c=u[$]),null==c&&(c=u[$]=wD++);const d=c&qp;o.data[s+(d>>Kp)]|=1<<d}(s,o,u)}function ED(s,o,u){if(u&ve.Optional||void 0!==s)return s;q()}function ID(s,o,u,c){if(u&ve.Optional&&void 0===c&&(c=null),!(u&(ve.Self|ve.Host))){const d=s[lo],f=hn(void 0);try{return d?d.get(o,c,u&ve.Optional):er(o,c,u&ve.Optional)}finally{hn(f)}}return ED(c,0,u)}function Xp(s,o,u,c=ve.Default,d){if(null!==s){if(1024&o[At]){const m=function DD(s,o,u,c,d){let f=s,m=o;for(;null!==f&&null!==m&&1024&m[At]&&!(256&m[At]);){const _=CD(f,m,u,c|ve.Self,ji);if(_!==ji)return _;let v=f.parent;if(!v){const I=m[Ha];if(I){const b=I.get(u,ji,c);if(b!==ji)return b}v=TD(m),m=m[Yo]}f=v}return d}(s,o,u,c,ji);if(m!==ji)return m}const f=CD(s,o,u,c,ji);if(f!==ji)return f}return ID(o,u,c,d)}function CD(s,o,u,c,d){const f=function hw(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty($)?s[$]:void 0;return"number"==typeof o?o>=0?o&qp:pw:o}(u);if("function"==typeof f){if(!fD(o,s,c))return c&ve.Host?ED(d,0,c):ID(o,u,c,d);try{const m=f(c);if(null!=m||c&ve.Optional)return m;q()}finally{gD()}}else if("number"==typeof f){let m=null,_=dw(s,o),v=Ya,I=c&ve.Host?o[Pr][nr]:null;for((-1===_||c&ve.SkipSelf)&&(v=-1===_?Yp(s,o):o[_+8],v!==Ya&&Jp(c,!1)?(m=o[We],_=Pd(v),o=xl(v,o)):_=-1);-1!==_;){const b=o[We];if(fw(f,_,b.data)){const M=bD(_,o,u,m,c,I);if(M!==ji)return M}v=o[_+8],v!==Ya&&Jp(c,o[We].data[_+8]===I)&&fw(f,_,o)?(m=b,_=Pd(v),o=xl(v,o)):_=-1}}return d}function bD(s,o,u,c,d,f){const m=o[We],_=m.data[s+8],b=Fd(_,m,u,null==c?Zo(_)&&Rl:c!=m&&0!=(3&_.type),d&ve.Host&&f===_);return null!==b?na(o,m,b,_):ji}function Fd(s,o,u,c,d){const f=s.providerIndexes,m=o.data,_=1048575&f,v=s.directiveStart,b=f>>20,U=d?_+b:s.directiveEnd;for(let G=c?_:_+b;G<U;G++){const ue=m[G];if(G<v&&u===ue||G>=v&&ue.type===u)return G}if(d){const G=m[v];if(G&&Fr(G)&&G.type===u)return v}return null}function na(s,o,u,c){let d=s[u];const f=o.data;if(function xd(s){return s instanceof Sl}(d)){const m=d;m.resolving&&function Qe(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new he(-200,`Circular dependency in DI detected for ${s}${u}`)}(function _e(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ne(s)}(f[u]));const _=Qa(m.canSeeViewProviders);m.resolving=!0;const v=m.injectImpl?hn(m.injectImpl):null;fD(s,c,ve.Default);try{d=s[u]=m.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function Tl(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const m=Ed(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==v&&hn(v),Qa(_),m.resolving=!1,gD()}}return d}function fw(s,o,u){return!!(u[o+(s>>Kp)]&1<<s)}function Jp(s,o){return!(s&ve.Self||s&ve.Host&&o)}class ra{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return Xp(this._tNode,this._lView,o,P(c),u)}}function pw(){return new ra(qr(),fe())}function gw(s){return Ct(()=>{const o=s.prototype.constructor,u=o[oi]||mw(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[oi]||mw(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function mw(s){return Ue(s)?()=>{const o=mw(Pe(s));return o&&o()}:Us(s)}function TD(s){const o=s[We],u=o.type;return 2===u?o.declTNode:1===u?s[nr]:null}function eg(s){return function Zp(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(ow(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(qr(),s)}const sa="__parameters__";function po(s,o,u){return Ct(()=>{const c=function tg(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const m=new d(...f);return _.annotation=m,_;function _(v,I,b){const M=v.hasOwnProperty(sa)?v[sa]:Object.defineProperty(v,sa,{value:[]})[sa];for(;M.length<=b;)M.push(null);return(M[b]=M[b]||[]).push(m),v}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Pn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=un({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Za(s,o){s.forEach(u=>Array.isArray(u)?Za(u,o):o(u))}function vw(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ng(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function xi(s,o,u){let c=Hi(s,o);return c>=0?s[1|c]=u:(c=~c,function Ja(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function eu(s,o){const u=Hi(s,o);if(u>=0)return s[1|u]}function Hi(s,o){return function ww(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),m=s[f<<u];if(o===m)return f<<u;m>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const tu=Ae(po("Optional"),8),Pl=Ae(po("SkipSelf"),4);var lr=(()=>((lr=lr||{})[lr.Important=1]="Important",lr[lr.DashCase=2]="DashCase",lr))();const cr=new Map;let vo=0;const zd="__ngContext__";function dr(s,o){Er(o)?(s[zd]=o[Qo],function PD(s){cr.set(s[Qo],s)}(o)):s[zd]=o}let qd;function ou(s,o){return qd(s,o)}function la(s){const o=s[Tn];return Ai(o)?o[Tn]:o}function Yd(s){return Uw(s[Ko])}function fg(s){return Uw(s[ai])}function Uw(s){for(;null!==s&&!Ai(s);)s=s[ai];return s}function au(s,o,u,c,d){if(null!=c){let f,m=!1;Ai(c)?f=c:Er(c)&&(m=!0,c=c[Ui]);const _=Ir(c);0===s&&null!==u?null==d?yg(o,u,_):Eo(o,u,_,d||null,!0):1===s&&null!==u?Eo(o,u,_,d||null,!0):2===s?function Wi(s,o,u){const c=Jd(s,o);c&&function cu(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,_,m):3===s&&o.destroyNode(_),null!=f&&function Eg(s,o,u,c,d){const f=u[_l];f!==Ir(u)&&au(o,s,c,f,d);for(let _=kr;_<u.length;_++){const v=u[_];as(v[We],v,s,o,c,f)}}(o,s,f,u,d)}}function pg(s,o,u){return s.createElement(o,u)}function Zd(s,o){const u=s[ho],c=u.indexOf(o),d=o[Tn];512&o[At]&&(o[At]&=-513,ss(d,-1)),u.splice(c,1)}function $w(s,o){if(s.length<=kr)return;const u=kr+o,c=s[u];if(c){const d=c[Or];null!==d&&d!==s&&Zd(d,c),o>0&&(s[u-1][ai]=c[ai]);const f=ng(s,kr+o);!function UD(s,o){as(s,o,o[Lt],2,null,null),o[Ui]=null,o[nr]=null}(c[We],c);const m=f[vi];null!==m&&m.detachView(f[We]),c[Tn]=null,c[ai]=null,c[At]&=-65}return c}function mg(s,o){if(!(128&o[At])){const u=o[Lt];u.destroyNode&&as(s,o,u,3,null,null),function Qd(s){let o=s[Ko];if(!o)return Xd(s[We],s);for(;o;){let u=null;if(Er(o))u=o[Ko];else{const c=o[kr];c&&(u=c)}if(!u){for(;o&&!o[ai]&&o!==s;)Er(o)&&Xd(o[We],o),o=o[Tn];null===o&&(o=s),Er(o)&&Xd(o[We],o),u=o&&o[ai]}o=u}}(o)}}function Xd(s,o){if(!(128&o[At])){o[At]&=-65,o[At]|=128,function Fl(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof Sl)){const f=u[c+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const _=d[f[m]],v=f[m+1];Lr(4,_,v);try{v.call(_)}finally{Lr(5,_,v)}}else{Lr(4,d,f);try{f.call(d)}finally{Lr(5,d,f)}}}}}(s,o),function jD(s,o){const u=s.cleanup,c=o[Bi];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const m=u[f+3];m>=0?c[d=m]():c[d=-m].unsubscribe(),f+=2}else{const m=c[d=u[f+1]];u[f].call(m)}if(null!==c){for(let f=d+1;f<c.length;f++)(0,c[f])();o[Bi]=null}}(s,o),1===o[We].type&&o[Lt].destroy();const u=o[Or];if(null!==u&&Ai(o[Tn])){u!==o[Tn]&&Zd(u,o);const c=o[vi];null!==c&&c.detachView(s)}!function Fw(s){cr.delete(s[Qo])}(o)}}function lu(s,o,u){return function da(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[Ui];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=s.data[c.directiveStart+d];if(f===en.None||f===en.Emulated)return null}return N(c,u)}}(s,o.parent,u)}function Eo(s,o,u,c,d){s.insertBefore(o,u,c,d)}function yg(s,o,u){s.appendChild(o,u)}function _g(s,o,u,c,d){null!==c?Eo(s,o,u,c,d):yg(s,o,u)}function Jd(s,o){return s.parentNode(o)}let vg,sh,oh,ha=function eh(s,o,u){return 40&s.type?N(s,u):null};function nh(s,o,u,c){const d=lu(s,c,o),f=o[Lt],_=function Hw(s,o,u){return ha(s,o,u)}(c.parent||o[nr],c,o);if(null!=d)if(Array.isArray(u))for(let v=0;v<u.length;v++)_g(f,d,u[v],_,!1);else _g(f,d,u,_,!1);void 0!==vg&&vg(f,c,o,u,d)}function Ll(s,o){if(null!==o){const u=o.type;if(3&u)return N(o,s);if(4&u)return fa(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Ll(s,c);{const d=s[o.index];return Ai(d)?fa(-1,d):Ir(d)}}if(32&u)return ou(o,s)()||Ir(s[o.index]);{const c=wg(s,o);return null!==c?Array.isArray(c)?c[0]:Ll(la(s[Pr]),c):Ll(s,o.next)}}return null}function wg(s,o){return null!==o?s[Pr][nr].projection[o.projection]:null}function fa(s,o){const u=kr+s+1;if(u<o.length){const c=o[u],d=c[We].firstChild;if(null!==d)return Ll(c,d)}return o[_l]}function Vl(s,o,u,c,d,f,m){for(;null!=u;){const _=c[u.index],v=u.type;if(m&&0===o&&(_&&dr(Ir(_),c),u.flags|=2),32!=(32&u.flags))if(8&v)Vl(s,o,u.child,c,d,f,!1),au(o,s,d,_,f);else if(32&v){const I=ou(u,c);let b;for(;b=I();)au(o,s,d,b,f);au(o,s,d,_,f)}else 16&v?Ul(s,o,c,u,d,f):au(o,s,d,_,f);u=m?u.projectionNext:u.next}}function as(s,o,u,c,d,f){Vl(u,c,s.firstChild,o,d,f,!1)}function Ul(s,o,u,c,d,f){const m=u[Pr],v=m[nr].projection[c.projection];if(Array.isArray(v))for(let I=0;I<v.length;I++)au(o,s,d,v[I],f);else Vl(s,o,v,m[Tn],d,f,!0)}function Gw(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function zw(s,o,u){const{mergedAttrs:c,classes:d,styles:f}=u;null!==c&&Nd(s,o,c),null!==d&&Gw(s,o,d),null!==f&&function GD(s,o,u){s.setAttribute(o,"style",u)}(s,o,f)}function KD(s){sh=s}function ah(s){return function Cg(){if(void 0===oh&&(oh=null,fn.trustedTypes))try{oh=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return oh}()?.createScriptURL(s)||s}class uh{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}function Ei(s){return s instanceof uh?s.changingThisBreaksApplicationSecurity:s}function fu(s,o){const u=function QD(s){return s instanceof uh&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${qe})`)}return u===o}const tT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Yn=(()=>((Yn=Yn||{})[Yn.NONE=0]="NONE",Yn[Yn.HTML=1]="HTML",Yn[Yn.STYLE=2]="STYLE",Yn[Yn.SCRIPT=3]="SCRIPT",Yn[Yn.URL=4]="URL",Yn[Yn.RESOURCE_URL=5]="RESOURCE_URL",Yn))();function tE(s){const o=zs();return o?o.sanitize(Yn.URL,s)||"":fu(s,"URL")?Ei(s):function $l(s){return(s=String(s)).match(tT)?s:"unsafe:"+s}(ne(s))}function Pg(s){const o=zs();if(o)return ah(o.sanitize(Yn.RESOURCE_URL,s)||"");if(fu(s,"ResourceURL"))return ah(Ei(s));throw new he(904,!1)}function mu(s,o,u){return function gu(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Pg:tE}(o,u)(s)}function zs(){const s=fe();return s&&s[co]}const pa=new Pn("ENVIRONMENT_INITIALIZER"),nE=new Pn("INJECTOR",-1),rE=new Pn("INJECTOR_DEF_TYPES");class iE{get(o,u=Gr){if(u===Gr){const c=new Error(`NullInjectorError: No provider for ${Ne(o)}!`);throw c.name="NullInjectorError",c}return u}}function uT(s){return{\u0275providers:s}}function lT(...s){return{\u0275providers:sE(0,s),\u0275fromNgModule:!0}}function sE(s,...o){const u=[],c=new Set;let d;return Za(o,f=>{const m=f;Og(m,u,[],c)&&(d||(d=[]),d.push(m))}),void 0!==d&&cT(d,u),u}function cT(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];yu(d,f=>{o.push(f)})}}function Og(s,o,u,c){if(!(s=Pe(s)))return!1;let d=null,f=Jn(s);const m=!f&&Zt(s);if(f||m){if(m&&!m.standalone)return!1;d=s}else{const v=s.ngModule;if(f=Jn(v),!f)return!1;d=v}const _=c.has(d);if(m){if(_)return!1;if(c.add(d),m.dependencies){const v="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const I of v)Og(I,o,u,c)}}else{if(!f)return!1;{if(null!=f.imports&&!_){let I;c.add(d);try{Za(f.imports,b=>{Og(b,o,u,c)&&(I||(I=[]),I.push(b))})}finally{}void 0!==I&&cT(I,o)}if(!_){const I=Us(d)||(()=>new d);o.push({provide:d,useFactory:I,deps:yt},{provide:rE,useValue:d,multi:!0},{provide:pa,useValue:()=>C(d),multi:!0})}const v=f.providers;null==v||_||yu(v,b=>{o.push(b)})}}return d!==s&&void 0!==s.providers}function yu(s,o){for(let u of s)Me(u)&&(u=u.\u0275providers),Array.isArray(u)?yu(u,o):o(u)}const _u=X({provide:String,useValue:X});function kg(s){return null!==s&&"object"==typeof s&&_u in s}function ga(s){return"function"==typeof s}const Fg=new Pn("Set Injector scope."),fh={},hT={};let Lg;function Gl(){return void 0===Lg&&(Lg=new iE),Lg}class ma{}class ph extends ma{get destroyed(){return this._destroyed}constructor(o,u,c,d){super(),this.parent=u,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_h(o,m=>this.processProvider(m)),this.records.set(nE,vu(void 0,this)),d.has("environment")&&this.records.set(ma,vu(void 0,this));const f=this.records.get(Fg);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(rE.multi,yt,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=ln(this),c=hn(void 0);try{return o()}finally{ln(u),hn(c)}}get(o,u=Gr,c=ve.Default){this.assertNotDestroyed(),c=P(c);const d=ln(this),f=hn(void 0);try{if(!(c&ve.SkipSelf)){let _=this.records.get(o);if(void 0===_){const v=function yh(s){return"function"==typeof s||"object"==typeof s&&s instanceof Pn}(o)&&sn(o);_=v&&this.injectableDefInScope(v)?vu(gh(o),fh):null,this.records.set(o,_)}if(null!=_)return this.hydrate(o,_)}return(c&ve.Self?Gl():this.parent).get(o,u=c&ve.Optional&&u===Gr?null:u)}catch(m){if("NullInjectorError"===m.name){if((m[$e]=m[$e]||[]).unshift(Ne(o)),d)throw m;return function It(s,o,u,c){const d=s[$e];throw o[kt]&&d.unshift(o[kt]),s.message=function mt(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==wt?s.slice(2):s;let d=Ne(o);if(Array.isArray(o))d=o.map(Ne).join(" -> ");else if("object"==typeof o){let f=[];for(let m in o)if(o.hasOwnProperty(m)){let _=o[m];f.push(m+":"+("string"==typeof _?JSON.stringify(_):Ne(_)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(Ye,"\n  ")}`}("\n"+s.message,d,u,c),s[de]=d,s[$e]=null,s}(m,o,"R3InjectorError",this.source)}throw m}finally{hn(f),ln(d)}}resolveInjectorInitializers(){const o=ln(this),u=hn(void 0);try{const c=this.get(pa.multi,yt,ve.Self);for(const d of c)d()}finally{ln(o),hn(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(Ne(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(o){let u=ga(o=Pe(o))?o:Pe(o&&o.provide);const c=function mh(s){return kg(s)?vu(void 0,s.useValue):vu(lE(s),fh)}(o);if(ga(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=vu(void 0,fh,!0),d.factory=()=>ie(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===fh&&(u.value=hT,u.value=u.factory()),"object"==typeof u.value&&u.value&&function pT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Pe(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function gh(s){const o=sn(s),u=null!==o?o.factory:Us(s);if(null!==u)return u;if(s instanceof Pn)throw new he(204,!1);if(s instanceof Function)return function Vg(s){const o=s.length;if(o>0)throw function Bn(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new he(204,!1);const u=function mi(s){const o=s&&(s[Fn]||s[qt]);return o?(function yi(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),o):null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new he(204,!1)}function lE(s,o,u){let c;if(ga(s)){const d=Pe(s);return Us(d)||gh(d)}if(kg(s))c=()=>Pe(s.useValue);else if(function uE(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...ie(s.deps||[]));else if(function aE(s){return!(!s||!s.useExisting)}(s))c=()=>C(Pe(s.useExisting));else{const d=Pe(s&&(s.useClass||s.provide));if(!function fT(s){return!!s.deps}(s))return Us(d)||gh(d);c=()=>new d(...ie(s.deps))}return c}function vu(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function _h(s,o){for(const u of s)Array.isArray(u)?_h(u,o):u&&Me(u)?_h(u.\u0275providers,o):o(u)}class cE{}class zl{}class dE{resolveComponentFactory(o){throw function vh(s){const o=Error(`No component factory found for ${Ne(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Wl=(()=>{class s{}return s.NULL=new dE,s})();function gT(){return wu(qr(),fe())}function wu(s,o){return new ql(N(s,o))}let ql=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=gT,s})();function mT(s){return s instanceof ql?s.nativeElement:s}class Bg{}let yT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function _T(){const s=fe(),u=Je(qr().index,s);return(Er(u)?u:s)[Lt]}(),s})(),vT=(()=>{class s{}return s.\u0275prov=un({token:s,providedIn:"root",factory:()=>null}),s})();class hE{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const fE=new hE("15.2.2"),$g={},jg="ngOriginalError";function Hg(s){return s[jg]}class Eu{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Hg(o);for(;u&&Hg(u);)u=Hg(u);return u||null}}function Ws(s){return s instanceof Function?s():s}function Eh(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}const wE="ng-template";function EE(s,o,u){let c=0;for(;c<s.length;){let d=s[c++];if(u&&"class"===d){if(d=s[c],-1!==Eh(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Yl(s){return 4===s.type&&s.value!==wE}function Ih(s,o,u){return o===(4!==s.type||u?s.value:wE)}function IE(s,o,u){let c=4;const d=s.attrs||[],f=function TT(s){for(let o=0;o<s.length;o++)if(ow(s[o]))return o;return s.length}(d);let m=!1;for(let _=0;_<o.length;_++){const v=o[_];if("number"!=typeof v){if(!m)if(4&c){if(c=2|1&c,""!==v&&!Ih(s,v,u)||""===v&&1===o.length){if(Ki(c))return!1;m=!0}}else{const I=8&c?v:o[++_];if(8&c&&null!==s.attrs){if(!EE(s.attrs,I,u)){if(Ki(c))return!1;m=!0}continue}const M=bT(8&c?"class":v,d,Yl(s),u);if(-1===M){if(Ki(c))return!1;m=!0;continue}if(""!==I){let U;U=M>f?"":d[M+1].toLowerCase();const G=8&c?U:null;if(G&&-1!==Eh(G,I,0)||2&c&&I!==U){if(Ki(c))return!1;m=!0}}}}else{if(!m&&!Ki(c)&&!Ki(v))return!1;if(m&&Ki(v))continue;m=!1,c=v|1&c}}return Ki(c)||m}function Ki(s){return 0==(1&s)}function bT(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const m=o[d];if(m===s)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let _=o[++d];for(;"string"==typeof _;)_=o[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function ST(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function CE(s,o,u=!1){for(let c=0;c<o.length;c++)if(IE(s,o[c],u))return!0;return!1}function bE(s,o){return s?":not("+o.trim()+")":o}function AT(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let m=s[u];if("string"==typeof m)if(2&c){const _=s[++u];d+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!Ki(m)&&(o+=bE(f,d),d=""),c=m,f=f||!Ki(c);u++}return""!==d&&(o+=bE(f,d)),o}const Mt={};function DE(s){TE(Yt(),fe(),wi()+s,!1)}function TE(s,o,u,c){if(!c)if(3==(3&o[At])){const f=s.preOrderCheckHooks;null!==f&&ta(o,f,u)}else{const f=s.preOrderHooks;null!==f&&Ad(o,f,0,u)}Ka(u)}function bh(s,o=null,u=null,c){const d=qg(s,o,u,c);return d.resolveInjectorInitializers(),d}function qg(s,o=null,u=null,c,d=new Set){const f=[u||yt,lT(s)];return c=c||("object"==typeof s?void 0:Ne(s)),new ph(f,o||Gl(),c||null,d)}let hr=(()=>{class s{static create(u,c){if(Array.isArray(u))return bh({name:""},c,u,"");{const d=u.name??"";return bh({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=Gr,s.NULL=new iE,s.\u0275prov=un({token:s,providedIn:"any",factory:()=>C(nE)}),s.__NG_ELEMENT_ID__=-1,s})();function _a(s,o=ve.Default){const u=fe();return null===u?C(s,o):Xp(qr(),u,Pe(s),o)}function FE(){throw new Error("invalid")}function LE(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const f=u[c+1];if(-1!==f){const m=s.data[f];ew(u[c]),m.contentQueries(2,o[f],f)}}}function Ss(s,o,u,c,d,f,m,_,v,I,b){const M=o.blueprint.slice();return M[Ui]=d,M[At]=76|c,(null!==b||s&&1024&s[At])&&(M[At]|=1024),Ut(M),M[Tn]=M[Yo]=s,M[xn]=u,M[ja]=m||s&&s[ja],M[Lt]=_||s&&s[Lt],M[co]=v||s&&s[co]||null,M[lo]=I||s&&s[lo]||null,M[nr]=f,M[Qo]=function Gd(){return vo++}(),M[Ha]=b,M[Pr]=2==o.type?s[Pr]:M,M}function qs(s,o,u,c,d){let f=s.data[o];if(null===f)f=function VE(s,o,u,c,d){const f=Bp(),m=Dl(),v=s.data[o]=function RO(s,o,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=v),null!==f&&(m?null==f.child&&null!==v.parent&&(f.child=v):null===f.next&&(f.next=v,v.prev=f)),v}(s,o,u,c,d),function zP(){return ht.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const m=function bl(){const s=ht.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Es(f,!0),f}function Xl(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function Jl(s,o,u){jp(o);try{const c=s.viewQuery;null!==c&&am(1,c,u);const d=s.template;null!==d&&UE(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&LE(s,o),s.staticViewQueries&&am(2,s.viewQuery,u);const f=s.components;null!==f&&function Ts(s,o){for(let u=0;u<o.length;u++)XT(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[At]&=-5,rw()}}function Th(s,o,u,c){const d=o[At];if(128!=(128&d)){jp(o);try{Ut(o),function cD(s){return ht.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&UE(s,o,u,2,c);const m=3==(3&d);if(m){const I=s.preOrderCheckHooks;null!==I&&ta(o,I,null)}else{const I=s.preOrderHooks;null!==I&&Ad(o,I,0,null),Md(o,0)}if(function QT(s){for(let o=Yd(s);null!==o;o=fg(o)){if(!o[Ga])continue;const u=o[ho];for(let c=0;c<u.length;c++){const d=u[c];512&d[At]||ss(d[Tn],1),d[At]|=512}}}(o),function sm(s){for(let o=Yd(s);null!==o;o=fg(o))for(let u=kr;u<o.length;u++){const c=o[u],d=c[We];Nn(c)&&Th(d,c,d.template,c[xn])}}(o),null!==s.contentQueries&&LE(s,o),m){const I=s.contentCheckHooks;null!==I&&ta(o,I)}else{const I=s.contentHooks;null!==I&&Ad(o,I,1),Md(o,1)}!function MO(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)Ka(~d);else{const f=d,m=u[++c],_=u[++c];WP(m,f),_(2,o[f])}}}finally{Ka(-1)}}(s,o);const _=s.components;null!==_&&function Gn(s,o){for(let u=0;u<o.length;u++)ZT(s,o[u])}(o,_);const v=s.viewQuery;if(null!==v&&am(2,v,c),m){const I=s.viewCheckHooks;null!==I&&ta(o,I)}else{const I=s.viewHooks;null!==I&&Ad(o,I,2),Md(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[At]&=-41,512&o[At]&&(o[At]&=-513,ss(o[Tn],-1))}finally{rw()}}}function UE(s,o,u,c,d){const f=wi(),m=2&c;try{Ka(-1),m&&o.length>wn&&TE(s,o,wn,!1),Lr(m?2:0,d),u(c,d)}finally{Ka(f),Lr(m?3:1,d)}}function Xg(s,o,u){if(za(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const m=s.data[f];m.contentQueries&&m.contentQueries(1,u[f],f)}}}function Jg(s,o,u){Td()&&(function rm(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;Zo(u)&&function ci(s,o,u){const c=N(o,s),d=VT(u),f=s[ja],m=bo(s,Ss(s,d,null,u.onPush?32:16,c,o,f,f.createRenderer(c,u),null,null,null));s[o.index]=m}(o,u,s.data[d+u.componentOffset]),s.firstCreatePass||Od(u,o),dr(c,o);const m=u.initialInputs;for(let _=d;_<f;_++){const v=s.data[_],I=na(o,s,_,u);dr(I,o),null!==m&&im(0,_-d,I,v,0,m),Fr(v)&&(Je(u.index,o)[xn]=na(o,s,_,u))}}(s,o,u,N(u,o)),64==(64&u.flags)&&$E(s,o,u))}function em(s,o,u=N){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const m=c[f+1],_=-1===m?u(o,s):s[m];s[d++]=_}}}function VT(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=BE(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function BE(s,o,u,c,d,f,m,_,v,I){const b=wn+c,M=b+d,U=function xO(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:Mt);return u}(b,M),G="function"==typeof I?I():I;return U[We]={type:s,blueprint:U,template:u,queries:null,viewQuery:_,declTNode:o,data:U.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:v,consts:G,incompleteFirstPass:!1}}function BT(s,o,u,c){const d=jE(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&HE(s).push(c,d.length-1))}function $T(s,o,u,c){for(let d in s)if(s.hasOwnProperty(d)){u=null===u?{}:u;const f=s[d];null===c?le(u,o,d,f):c.hasOwnProperty(d)&&le(u,o,c[d],f)}return u}function le(s,o,u,c){s.hasOwnProperty(u)?s[u].push(o,c):s[u]=[o,c]}function As(s,o){const u=Je(o,s);16&u[At]||(u[At]|=32)}function nm(s,o,u,c){if(Td()){const d=null===c?null:{"":-1},f=function zT(s,o){const u=s.directiveRegistry;let c=null,d=null;if(u)for(let f=0;f<u.length;f++){const m=u[f];if(CE(o,m.selectors,!1))if(c||(c=[]),Fr(m))if(null!==m.findHostDirectiveDefs){const _=[];d=d||new Map,m.findHostDirectiveDefs(m,_,d),c.unshift(..._,m),Ah(s,o,_.length)}else c.unshift(m),Ah(s,o,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,c,d),c.push(m)}return null===c?null:[c,d]}(s,u);let m,_;null===f?m=_=null:[m,_]=f,null!==m&&Dr(s,o,u,m,d,_),d&&function WT(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new he(-301,!1);c.push(o[d],f)}}}(u,c,d)}u.mergedAttrs=Ml(u.mergedAttrs,u.attrs)}function Dr(s,o,u,c,d,f){for(let I=0;I<c.length;I++)Qp(Od(u,o),s,c[I].type);!function KT(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,c.length);for(let I=0;I<c.length;I++){const b=c[I];b.providersResolver&&b.providersResolver(b)}let m=!1,_=!1,v=Xl(s,o,c.length,null);for(let I=0;I<c.length;I++){const b=c[I];u.mergedAttrs=Ml(u.mergedAttrs,b.hostAttrs),YT(s,u,o,v,b),qT(v,b,d),null!==b.contentQueries&&(u.flags|=4),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(u.flags|=64);const M=b.type.prototype;!m&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),m=!0),!_&&(M.ngOnChanges||M.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),_=!0),v++}!function Sn(s,o,u){const d=o.directiveEnd,f=s.data,m=o.attrs,_=[];let v=null,I=null;for(let b=o.directiveStart;b<d;b++){const M=f[b],U=u?u.get(M):null,ue=U?U.outputs:null;v=$T(M.inputs,b,v,U?U.inputs:null),I=$T(M.outputs,b,I,ue);const be=null===v||null===m||Yl(o)?null:xh(v,b,m);_.push(be)}null!==v&&(v.hasOwnProperty("class")&&(o.flags|=8),v.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=_,o.inputs=v,o.outputs=I}(s,u,f)}function $E(s,o,u){const c=u.directiveStart,d=u.directiveEnd,f=u.index,m=function qP(){return ht.lFrame.currentDirectiveIndex}();try{Ka(f);for(let _=c;_<d;_++){const v=s.data[_],I=o[_];Xv(_),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&GT(v,I)}}finally{Ka(-1),Xv(m)}}function GT(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ah(s,o,u){o.componentOffset=u,(s.components||(s.components=[])).push(o.index)}function qT(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;Fr(o)&&(u[""]=s)}}function YT(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=Us(d.type)),m=new Sl(f,Fr(d),_a);s.blueprint[c]=m,u[c]=m,function HT(s,o,u,c,d){const f=d.hostBindings;if(f){let m=s.hostBindingOpCodes;null===m&&(m=s.hostBindingOpCodes=[]);const _=~o.index;(function Sh(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(m)!=_&&m.push(_),m.push(u,c,f)}}(s,o,c,Xl(s,u,d.hostVars,Mt),d)}function Ri(s,o,u,c,d,f){const m=N(s,o);!function Mh(s,o,u,c,d,f,m){if(null==f)s.removeAttribute(o,d,u);else{const _=null==m?ne(f):m(f,c||"",d);s.setAttribute(o,d,_,u)}}(o[Lt],m,f,s.value,u,c,d)}function im(s,o,u,c,d,f){const m=f[o];if(null!==m){const _=c.setInput;for(let v=0;v<m.length;){const I=m[v++],b=m[v++],M=m[v++];null!==_?c.setInput(u,M,I,b):u[b]=M}}}function xh(s,o,u){let c=null,d=0;for(;d<u.length;){const f=u[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(s.hasOwnProperty(f)){null===c&&(c=[]);const m=s[f];for(let _=0;_<m.length;_+=2)if(m[_]===o){c.push(f,m[_+1],u[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Rh(s,o,u,c){return[s,!0,!1,o,null,0,c,u,null,null]}function ZT(s,o){const u=Je(o,s);if(Nn(u)){const c=u[We];48&u[At]?Th(c,u,c.template,u[xn]):u[rs]>0&&om(u)}}function om(s){for(let c=Yd(s);null!==c;c=fg(c))for(let d=kr;d<c.length;d++){const f=c[d];if(Nn(f))if(512&f[At]){const m=f[We];Th(m,f,m.template,f[xn])}else f[rs]>0&&om(f)}const u=s[We].components;if(null!==u)for(let c=0;c<u.length;c++){const d=Je(u[c],s);Nn(d)&&d[rs]>0&&om(d)}}function XT(s,o){const u=Je(o,s),c=u[We];(function JT(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),Jl(c,u,u[xn])}function bo(s,o){return s[Ko]?s[gd][ai]=o:s[Ko]=o,s[gd]=o,o}function Nh(s){for(;s;){s[At]|=32;const o=la(s);if(wl(s)&&!o)return s;s=o}return null}function va(s,o,u,c=!0){const d=o[ja];d.begin&&d.begin();try{Th(s,o,s.template,u)}catch(m){throw c&&Ph(o,m),m}finally{d.end&&d.end()}}function am(s,o,u){ew(0),o(s,u)}function jE(s){return s[Bi]||(s[Bi]=[])}function HE(s){return s.cleanup||(s.cleanup=[])}function Ph(s,o){const u=s[lo],c=u?u.get(Eu,null):null;c&&c.handleError(o)}function Oh(s,o,u,c,d){for(let f=0;f<u.length;){const m=u[f++],_=u[f++],v=o[m],I=s.data[m];null!==I.setInput?I.setInput(v,d,c,_):v[_]=d}}function ec(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let m=0;m<o.length;m++){const _=o[m];"number"==typeof _?f=_:1==f?d=_t(d,_):2==f&&(c=_t(c,_+": "+o[++m]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}function Do(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(Ir(f)),Ai(f))for(let _=kr;_<f.length;_++){const v=f[_],I=v[We].firstChild;null!==I&&Do(v[We],v,I,c)}const m=u.type;if(8&m)Do(s,o,u.child,c);else if(32&m){const _=ou(u,o);let v;for(;v=_();)c.push(v)}else if(16&m){const _=wg(o,u);if(Array.isArray(_))c.push(..._);else{const v=la(o[Pr]);Do(v[We],v,_,c,!0)}}u=d?u.projectionNext:u.next}return c}class tc{get rootNodes(){const o=this._lView,u=o[We];return Do(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(o){this._lView[xn]=o}get destroyed(){return 128==(128&this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Tn];if(Ai(o)){const u=o[vl],c=u?u.indexOf(this):-1;c>-1&&($w(o,c),ng(u,c))}this._attachedToViewContainer=!1}mg(this._lView[We],this._lView)}onDestroy(o){BT(this._lView[We],this._lView,null,o)}markForCheck(){Nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-65}reattach(){this._lView[At]|=64}detectChanges(){va(this._lView[We],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gg(s,o){as(s,o,o[Lt],2,null,null)}(this._lView[We],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=o}}class lm extends tc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;va(o[We],o,o[xn],!1)}checkNoChanges(){}get context(){return null}}class kh extends Wl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Zt(o);return new bu(u,this.ngModule)}}function GE(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class zE{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){c=P(c);const d=this.injector.get(o,$g,c);return d!==$g||u===$g?d:this.parentInjector.get(o,u,c)}}class bu extends zl{get inputs(){return GE(this.componentDef.inputs)}get outputs(){return GE(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function zg(s){return s.map(AT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,c,d){let f=(d=d||this.ngModule)instanceof ma?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new zE(o,f):o,_=m.get(Bg,null);if(null===_)throw new he(407,!1);const v=m.get(vT,null),I=_.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",M=c?function UT(s,o,u){return s.selectRootElement(o,u===en.ShadowDom)}(I,c,this.componentDef.encapsulation):pg(I,b,function cm(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(b)),U=this.componentDef.onPush?288:272,G=BE(0,null,null,1,0,null,null,null,null,null),ue=Ss(null,G,null,U,null,null,_,I,v,m,null);let be,Fe;jp(ue);try{const Ke=this.componentDef;let lt,pe=null;Ke.findHostDirectiveDefs?(lt=[],pe=new Map,Ke.findHostDirectiveDefs(Ke,lt,pe),lt.push(Ke)):lt=[Ke];const St=function tS(s,o){const u=s[We],c=wn;return s[c]=o,qs(u,c,2,"#host",null)}(ue,M),An=function nS(s,o,u,c,d,f,m,_){const v=d[We];!function Fh(s,o,u,c){for(const d of s)o.mergedAttrs=Ml(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(ec(o,o.mergedAttrs,!0),null!==u&&zw(c,u,o))}(c,s,o,m);const I=f.createRenderer(o,u),b=Ss(d,VT(u),null,u.onPush?32:16,d[s.index],s,f,I,_||null,null,null);return v.firstCreatePass&&Ah(v,s,c.length-1),bo(d,b),d[s.index]=b}(St,M,Ke,lt,ue,_,I);Fe=me(G,wn),M&&function fm(s,o,u,c){if(c)Nd(s,u,["ng-version",fE.full]);else{const{attrs:d,classes:f}=function MT(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!Ki(d))break;d=f}c++}return{attrs:o,classes:u}}(o.selectors[0]);d&&Nd(s,u,d),f&&f.length>0&&Gw(s,u,f.join(" "))}}(I,Ke,M,c),void 0!==u&&function pm(s,o,u){const c=s.projection=[];for(let d=0;d<o.length;d++){const f=u[d];c.push(null!=f?Array.from(f):null)}}(Fe,this.ngContentSelectors,u),be=function hm(s,o,u,c,d,f){const m=qr(),_=d[We],v=N(m,d);Dr(_,d,m,u,null,c);for(let b=0;b<u.length;b++)dr(na(d,_,m.directiveStart+b,m),d);$E(_,d,m),v&&dr(v,d);const I=na(d,_,m.directiveStart+m.componentOffset,m);if(s[xn]=d[xn]=I,null!==f)for(const b of f)b(I,o);return Xg(_,m,s),I}(An,Ke,lt,pe,ue,[WE]),Jl(G,ue,null)}finally{rw()}return new dm(this.componentType,be,wu(Fe,ue),ue,Fe)}}class dm extends cE{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new lm(d),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const f=this._rootLView;Oh(f[We],f,d,o,u),As(f,this._tNode.index)}}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function WE(){const s=qr();Sd(fe()[We],s)}function Lh(s){let o=function qE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(Fr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new he(903,!1);d=o.\u0275dir}if(d){if(u){c.push(d);const m=s;m.inputs=Vh(s.inputs),m.declaredInputs=Vh(s.declaredInputs),m.outputs=Vh(s.outputs);const _=d.hostBindings;_&&sS(s,_);const v=d.viewQuery,I=d.contentQueries;if(v&&rS(s,v),I&&iS(s,I),Le(s.inputs,d.inputs),Le(s.declaredInputs,d.declaredInputs),Le(s.outputs,d.outputs),Fr(d)&&d.data.animation){const b=s.data;b.animation=(b.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const _=f[m];_&&_.ngInherit&&_(s),_===Lh&&(u=!1)}}o=Object.getPrototypeOf(o)}!function Du(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Ml(d.hostAttrs,u=Ml(u,d.hostAttrs))}}(c)}function Vh(s){return s===vn?{}:s===yt?[]:s}function rS(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function iS(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function sS(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}function Bh(s){return!!$h(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function $h(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ls(s,o,u){return s[o]=u}function Vr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function XE(s,o,u,c){const d=fe();return Vr(d,qa(),o)&&(Yt(),Ri(Hn(),d,s,o,u,c)),XE}function Au(s,o,u,c,d,f){const _=function Su(s,o,u,c){const d=Vr(s,o,u);return Vr(s,o+1,c)||d}(s,function fo(){return ht.lFrame.bindingIndex}(),u,d);return Is(2),_?o+ne(u)+c+ne(d)+f:Mt}function yS(s,o,u,c,d,f,m,_){const v=fe(),I=Yt(),b=s+wn,M=I.firstCreatePass?function kO(s,o,u,c,d,f,m,_,v){const I=o.consts,b=qs(o,s,4,m||null,Xt(I,_));nm(o,u,b,Xt(I,v)),Sd(o,b);const M=b.tView=BE(2,b,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,b),M.queries=o.queries.embeddedTView(b)),b}(b,I,v,o,u,c,d,f,m):I.data[b];Es(M,!1);const U=v[Lt].createComment("");nh(I,v,U,M),dr(U,v),bo(v,v[b]=Rh(U,v,U,M)),Xo(M)&&Jg(I,v,M),null!=m&&em(v,M,_)}function _S(s){return function Se(s,o){return s[o]}(function GP(){return ht.lFrame.contextLView}(),wn+s)}function Gh(s,o,u){const c=fe();return Vr(c,qa(),o)&&function k(s,o,u,c,d,f,m,_){const v=N(o,u);let b,I=o.inputs;!_&&null!=I&&(b=I[c])?(Oh(s,u,b,c,d),Zo(o)&&As(u,o.index)):3&o.type&&(c=function Cu(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=m?m(d,o.value||"",c):d,f.setProperty(v,c,d))}(Yt(),Hn(),c,s,o,c[Lt],u,!1),Gh}function rI(s,o,u,c,d){const m=d?"class":"style";Oh(s,u,o.inputs[m],m,c)}function mm(s,o,u,c){const d=fe(),f=Yt(),m=wn+s,_=d[Lt],v=f.firstCreatePass?function LO(s,o,u,c,d,f){const m=o.consts,v=qs(o,s,2,c,Xt(m,d));return nm(o,u,v,Xt(m,f)),null!==v.attrs&&ec(v,v.attrs,!1),null!==v.mergedAttrs&&ec(v,v.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,v),v}(m,f,d,o,u,c):f.data[m],I=d[m]=pg(_,o,function Hp(){return ht.lFrame.currentNamespace}()),b=Xo(v);return Es(v,!0),zw(_,I,v),32!=(32&v.flags)&&nh(f,d,I,v),0===function En(){return ht.lFrame.elementDepthCount}()&&dr(I,d),function $i(){ht.lFrame.elementDepthCount++}(),b&&(Jg(f,d,v),Xg(f,v,d)),null!==c&&em(d,v),mm}function ym(){let s=qr();Dl()?function ea(){ht.lFrame.isParent=!1}():(s=s.parent,Es(s,!1));const o=s;!function $s(){ht.lFrame.elementDepthCount--}();const u=Yt();return u.firstCreatePass&&(Sd(u,s),za(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Al(s){return 0!=(8&s.flags)}(o)&&rI(u,o,fe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function zp(s){return 0!=(16&s.flags)}(o)&&rI(u,o,fe(),o.stylesWithoutHost,!1),ym}function iI(s,o,u,c){return mm(s,o,u,c),ym(),iI}function _m(){return fe()}function aI(s){return!!s&&"function"==typeof s.then}function vm(s){return!!s&&"function"==typeof s.subscribe}const ic=vm;function Qr(s,o,u,c){const d=fe(),f=Yt(),m=qr();return function Ia(s,o,u,c,d,f,m){const _=Xo(c),I=s.firstCreatePass&&HE(s),b=o[xn],M=jE(o);let U=!0;if(3&c.type||m){const be=N(c,o),Fe=m?m(be):be,Ke=M.length,lt=m?St=>m(Ir(St[c.index])):c.index;let pe=null;if(!m&&_&&(pe=function uI(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===u&&d[f+1]===c){const _=o[Bi],v=d[f+2];return _.length>v?_[v]:null}"string"==typeof m&&(f+=2)}return null}(s,o,d,c.index)),null!==pe)(pe.__ngLastListenerFn__||pe).__ngNextListenerFn__=f,pe.__ngLastListenerFn__=f,U=!1;else{f=Oe(c,o,b,f,!1);const St=u.listen(Fe,d,f);M.push(f,St),I&&I.push(d,lt,Ke,Ke+1)}}else f=Oe(c,o,b,f,!1);const G=c.outputs;let ue;if(U&&null!==G&&(ue=G[d])){const be=ue.length;if(be)for(let Fe=0;Fe<be;Fe+=2){const An=o[ue[Fe]][ue[Fe+1]].subscribe(f),On=M.length;M.push(f,An),I&&I.push(d,c.index,On,-(On+1))}}}(f,d,d[Lt],m,s,o,c),Qr}function Wh(s,o,u,c){try{return Lr(6,o,u),!1!==u(c)}catch(d){return Ph(s,d),!1}finally{Lr(7,o,u)}}function Oe(s,o,u,c,d){return function f(m){if(m===Function)return c;Nh(s.componentOffset>-1?Je(s.index,o):o);let v=Wh(o,u,c,m),I=f.__ngNextListenerFn__;for(;I;)v=Wh(o,u,I,m)&&v,I=I.__ngNextListenerFn__;return d&&!1===v&&(m.preventDefault(),m.returnValue=!1),v}}function hs(s=1){return function YP(s){return(ht.lFrame.contextLView=function QP(s,o){for(;s>0;)o=o[Yo],s--;return o}(s,ht.lFrame.contextLView))[xn]}(s)}function Yh(s,o){return s<<17|o<<2}function Mo(s){return s>>17&32767}function sc(s){return 2|s}function xo(s){return(131068&s)>>2}function oc(s,o){return-131069&s|o<<2}function ac(s){return 1|s}function Qh(s,o,u,c,d){const f=s[u+1],m=null===o;let _=c?Mo(f):xo(f),v=!1;for(;0!==_&&(!1===v||m);){const b=s[_+1];ES(s[_],o)&&(v=!0,s[_+1]=c?ac(b):sc(b)),_=c?Mo(b):xo(b)}v&&(s[u+1]=c?sc(f):ac(f))}function ES(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Hi(s,o)>=0}function cc(s,o){return function fs(s,o,u,c){const d=fe(),f=Yt(),m=Is(2);f.firstUpdatePass&&function Js(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[wi()],m=function Pu(s,o){return o>=s.expandoStartIndex}(s,u);(function hc(s,o){return 0!=(s.flags&(o?8:16))})(f,c)&&null===o&&!m&&(o=!1),o=function Ca(s,o,u,c){const d=function Jv(s){const o=ht.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=Ou(u=Ro(null,s,o,u,c),o.attrs,c),f=null);else{const m=o.directiveStylingLast;if(-1===m||s[m]!==d)if(u=Ro(d,s,o,u,c),null===f){let v=function BO(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==xo(c))return s[Mo(c)]}(s,o,c);void 0!==v&&Array.isArray(v)&&(v=Ro(null,s,o,v[1],c),v=Ou(v,o.attrs,c),function gI(s,o,u,c){s[Mo(u?o.classBindings:o.styleBindings)]=c}(s,o,c,v))}else f=function ef(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=Ou(c,s[f].hostAttrs,u);return Ou(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function uc(s,o,u,c,d,f){let m=f?o.classBindings:o.styleBindings,_=Mo(m),v=xo(m);s[c]=u;let b,I=!1;if(Array.isArray(u)?(b=u[1],(null===b||Hi(u,b)>0)&&(I=!0)):b=u,d)if(0!==v){const U=Mo(s[_+1]);s[c+1]=Yh(U,_),0!==U&&(s[U+1]=oc(s[U+1],c)),s[_+1]=function Tr(s,o){return 131071&s|o<<17}(s[_+1],c)}else s[c+1]=Yh(_,0),0!==_&&(s[_+1]=oc(s[_+1],c)),_=c;else s[c+1]=Yh(v,0),0===_?_=c:s[v+1]=oc(s[v+1],c),v=c;I&&(s[c+1]=sc(s[c+1])),Qh(s,b,c,!0),Qh(s,b,c,!1),function wS(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&Hi(f,o)>=0&&(u[c+1]=ac(u[c+1]))}(o,b,s,c,f),m=Yh(_,v),f?o.classBindings=m:o.styleBindings=m}(d,f,o,u,m,c)}}(f,s,m,c),o!==Mt&&Vr(d,m,o)&&function Dm(s,o,u,c,d,f,m,_){if(!(3&o.type))return;const v=s.data,I=v[_+1],b=function Qs(s){return 1==(1&s)}(I)?Tm(v,o,u,d,xo(I),m):void 0;dc(b)||(dc(f)||function fr(s){return 2==(2&s)}(I)&&(f=Tm(v,null,u,d,_,m)),function HD(s,o,u,c,d){if(o)d?s.addClass(u,c):s.removeClass(u,c);else{let f=-1===c.indexOf("-")?void 0:lr.DashCase;null==d?s.removeStyle(u,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=lr.Important),s.setStyle(u,c,d,f))}}(c,m,D(wi(),u),d,f))}(f,f.data[wi()],d,d[Lt],s,d[m+1]=function _I(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ne(Ei(s)))),s}(o,u),c,m)}(s,o,null,!0),cc}function Ro(s,o,u,c,d){let f=null;const m=u.directiveEnd;let _=u.directiveStylingLast;for(-1===_?_=u.directiveStart:_++;_<m&&(f=o[_],c=Ou(c,f.hostAttrs,d),f!==s);)_++;return null!==s&&(u.directiveStylingLast=_),c}function Ou(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const m=o[f];"number"==typeof m?d=m:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),xi(s,m,!!u||o[++f]))}return void 0===s?null:s}function Tm(s,o,u,c,d,f){const m=null===o;let _;for(;d>0;){const v=s[d],I=Array.isArray(v),b=I?v[1]:v,M=null===b;let U=u[d+1];U===Mt&&(U=M?yt:void 0);let G=M?eu(U,c):b===c?U:void 0;if(I&&!dc(G)&&(G=eu(v,c)),dc(G)&&(_=G,m))return _;const ue=s[d+1];d=m?Mo(ue):xo(ue)}if(null!==o){let v=f?o.residualClasses:o.residualStyles;null!=v&&(_=eu(v,c))}return _}function dc(s){return void 0!==s}function AS(s,o=""){const u=fe(),c=Yt(),d=s+wn,f=c.firstCreatePass?qs(c,d,1,o,null):c.data[d],m=u[d]=function uu(s,o){return s.createText(o)}(u[Lt],o);nh(c,u,m,f),Es(f,!1)}function nf(s,o,u,c,d){const f=fe(),m=Au(f,s,o,u,c,d);return m!==Mt&&function us(s,o,u){const c=D(o,s);!function Bw(s,o,u){s.setValue(o,u)}(s[Lt],c,u)}(f,wi(),m),nf}const eo=void 0;var fc=["en",[["a","p"],["AM","PM"],eo],[["AM","PM"],eo,eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eo,"{1} 'at' {0}",eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kS(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Fu={};function Fm(s){const o=function Lm(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=df(o);if(u)return u;const c=o.split("-")[0];if(u=df(c),u)return u;if("en"===c)return fc;throw new he(701,!1)}function kI(s){return Fm(s)[pt.PluralCase]}function df(s){return s in Fu||(Fu[s]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[s]),Fu[s]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const Lu="en-US";let yc=Lu;function uy(s,o,u,c,d){if(s=Pe(s),Array.isArray(s))for(let f=0;f<s.length;f++)uy(s[f],o,u,c,d);else{const f=Yt(),m=fe();let _=ga(s)?s:Pe(s.provide),v=lE(s);const I=qr(),b=1048575&I.providerIndexes,M=I.directiveStart,U=I.providerIndexes>>20;if(ga(s)||!s.multi){const G=new Sl(v,d,_a),ue=qI(_,o,d?b:b+U,M);-1===ue?(Qp(Od(I,m),f,_),ly(f,s,o.length),o.push(_),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),u.push(G),m.push(G)):(u[ue]=G,m[ue]=G)}else{const G=qI(_,o,b+U,M),ue=qI(_,o,b,b+U),Fe=ue>=0&&u[ue];if(d&&!Fe||!d&&!(G>=0&&u[G])){Qp(Od(I,m),f,_);const Ke=function cy(s,o,u,c,d){const f=new Sl(s,u,_a);return f.multi=[],f.index=o,f.componentProviders=0,ZS(f,d,c&&!u),f}(d?ok:sk,u.length,d,c,v);!d&&Fe&&(u[ue].providerFactory=Ke),ly(f,s,o.length,0),o.push(_),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),u.push(Ke),m.push(Ke)}else ly(f,s,G>-1?G:ue,ZS(u[d?ue:G],v,!d&&c));!d&&c&&Fe&&u[ue].componentProviders++}}}function ly(s,o,u,c){const d=ga(o),f=function dT(s){return!!s.useClass}(o);if(d||f){const v=(f?Pe(o.useClass):o).prototype.ngOnDestroy;if(v){const I=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const b=I.indexOf(u);-1===b?I.push(u,[c,v]):I[b+1].push(c,v)}else I.push(u,v)}}}function ZS(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function qI(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function sk(s,o,u,c){return KI(this.multi,[])}function ok(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=na(u,u[We],this.providerFactory.index,c);f=_.slice(0,m),KI(d,f);for(let v=m;v<_.length;v++)f.push(_[v])}else f=[],KI(d,f);return f}function KI(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Po(s,o=[]){return u=>{u.providersResolver=(c,d)=>function ik(s,o,u){const c=Yt();if(c.firstCreatePass){const d=Fr(s);uy(u,c.data,c.blueprint,d,!0),uy(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class Oo{}class XS{}function JS(s,o){return new YI(s,o??null)}class YI extends Oo{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kh(this);const c=Wr(o);this._bootstrapComponents=Ws(c.bootstrap),this._r3Injector=qg(o,u,[{provide:Oo,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],Ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class wc extends XS{constructor(o){super(),this.moduleType=o}create(o){return new YI(this.moduleType,o)}}class dy extends Oo{constructor(o,u,c){super(),this.componentFactoryResolver=new kh(this),this.instance=null;const d=new ph([...o,{provide:Oo,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],u||Gl(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function QI(s,o,u=null){return new dy(s,o,u).injector}let wf=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=sE(0,u.type),d=c.length>0?QI([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,d)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=un({token:s,providedIn:"environment",factory:()=>new s(C(ma))}),s})();function hy(s){s.getStandaloneInjector=o=>o.get(wf).getOrCreateStandaloneInjector(s)}function tC(s,o,u){const c=Kr()+s,d=fe();return d[c]===Mt?ls(d,c,u?o.call(u):o()):function Tu(s,o){return s[o]}(d,c)}function my(s,o,u,c){return function iC(s,o,u,c,d,f){const m=o+u;return Vr(s,m,d)?ls(s,m+1,f?c.call(f,d):c(d)):function Aa(s,o){const u=s[o];return u===Mt?void 0:u}(s,m+1)}(fe(),Kr(),s,o,u,c)}function wy(s){return o=>{setTimeout(s,void 0,o)}}const Pi=class dA extends g.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let d=o,f=u||(()=>null),m=c;if(o&&"object"==typeof o){const v=o;d=v.next?.bind(v),f=v.error?.bind(v),m=v.complete?.bind(v)}this.__isAsync&&(f=wy(f),d&&(d=wy(d)),m&&(m=wy(m)));const _=super.subscribe({next:d,error:f,complete:m});return o instanceof z.w0&&o.add(_),_}};function hA(){return this._results[Symbol.iterator]()}class Ey{get changes(){return this._changes||(this._changes=new Pi)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ey.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=hA)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=function os(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function rO(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ic=(()=>{class s{}return s.__NG_ELEMENT_ID__=pA,s})();const Iy=Ic,fA=class extends Iy{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o,u){const c=this._declarationTContainer.tView,d=Ss(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,u||null);d[Or]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[vi];return null!==m&&(d[vi]=m.createEmbeddedView(c)),Jl(c,d,o),new tc(d)}};function pA(){return Df(qr(),fe())}function Df(s,o){return 4&s.type?new fA(o,s,wu(s,o)):null}let Tf=(()=>{class s{}return s.__NG_ELEMENT_ID__=gA,s})();function gA(){return Sf(qr(),fe())}const uC=Tf,lC=class extends uC{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return wu(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const o=Yp(this._hostTNode,this._hostLView);if(uw(o)){const u=xl(o,this._hostLView),c=Pd(o);return new ra(u[We].data[c+8],u)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=mA(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-kr}createEmbeddedView(o,u,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const m=o.createEmbeddedView(u||{},f);return this.insert(m,d),m}createComponent(o,u,c,d,f){const m=o&&!function Ld(s){return"function"==typeof s}(o);let _;if(m)_=u;else{const M=u||{};_=M.index,c=M.injector,d=M.projectableNodes,f=M.environmentInjector||M.ngModuleRef}const v=m?o:new bu(Zt(o)),I=c||this.parentInjector;if(!f&&null==v.ngModule){const U=(m?I:this.parentInjector).get(ma,null);U&&(f=U)}const b=v.create(I,d,void 0,f);return this.insert(b.hostView,_),b}insert(o,u){const c=o._lView,d=c[We];if(function Ln(s){return Ai(s[Tn])}(c)){const b=this.indexOf(o);if(-1!==b)this.detach(b);else{const M=c[Tn],U=new lC(M,M[nr],M[Tn]);U.detach(U.indexOf(o))}}const f=this._adjustIndex(u),m=this._lContainer;!function $D(s,o,u,c){const d=kr+c,f=u.length;c>0&&(u[d-1][ai]=o),c<f-kr?(o[ai]=u[d],vw(u,kr+c,o)):(u.push(o),o[ai]=null),o[Tn]=u;const m=o[Or];null!==m&&u!==m&&function ca(s,o){const u=s[ho];o[Pr]!==o[Tn][Tn][Pr]&&(s[Ga]=!0),null===u?s[ho]=[o]:u.push(o)}(m,o);const _=o[vi];null!==_&&_.insertView(s),o[At]|=64}(d,c,m,f);const _=fa(f,m),v=c[Lt],I=Jd(v,m[_l]);return null!==I&&function BD(s,o,u,c,d,f){c[Ui]=d,c[nr]=o,as(s,c,u,1,d,f)}(d,m[nr],v,c,I,_),o.attachToViewContainerRef(),vw(Cy(m),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=mA(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=$w(this._lContainer,u);c&&(ng(Cy(this._lContainer),u),mg(c[We],c))}detach(o){const u=this._adjustIndex(o,-1),c=$w(this._lContainer,u);return c&&null!=ng(Cy(this._lContainer),u)?new tc(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function mA(s){return s[vl]}function Cy(s){return s[vl]||(s[vl]=[])}function Sf(s,o){let u;const c=o[s.index];if(Ai(c))u=c;else{let d;if(8&s.type)d=Ir(c);else{const f=o[Lt];d=f.createComment("");const m=N(s,o);Eo(f,Jd(f,m),d,function jw(s,o){return s.nextSibling(o)}(f,m),!1)}o[s.index]=u=Rh(c,o,d,s),bo(o,u)}return new lC(u,s,o)}class cC{constructor(o){this.queryList=o,this.matches=null}clone(){return new cC(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cc{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const m=u.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new Cc(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==vA(o,u).matches&&this.queries[u].setDirty()}}class yA{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class bc{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new bc(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class dC{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new dC(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,by(u,f)),this.matchTNodeWithReadOption(o,u,Fd(u,o,f,!1,!1))}else c===Ic?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Fd(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ql||d===Tf||d===Ic&&4&u.type)this.addMatch(u.index,-2);else{const f=Fd(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function by(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function Ty(s,o,u,c){return-1===u?function Dy(s,o){return 11&s.type?wu(s,o):4&s.type?Df(s,o):null}(o,s):-2===u?function fk(s,o,u){return u===ql?wu(o,s):u===Ic?Df(o,s):u===Tf?Sf(o,s):void 0}(s,o,c):na(s,s[We],u,o)}function Af(s,o,u,c){const d=o[vi].queries[c];if(null===d.matches){const f=s.data,m=u.matches,_=[];for(let v=0;v<m.length;v+=2){const I=m[v];_.push(I<0?null:Ty(o,f[I],m[v+1],u.metadata.read))}d.matches=_}return d.matches}function hC(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const m=Af(s,o,d,u);for(let _=0;_<f.length;_+=2){const v=f[_];if(v>0)c.push(m[_/2]);else{const I=f[_+1],b=o[-v];for(let M=kr;M<b.length;M++){const U=b[M];U[Or]===U[Tn]&&hC(U[We],U,I,c)}if(null!==b[ho]){const M=b[ho];for(let U=0;U<M.length;U++){const G=M[U];hC(G[We],G,I,c)}}}}}return c}function ko(s){const o=fe(),u=Yt(),c=hD();ew(c+1);const d=vA(u,c);if(s.dirty&&function Rn(s){return 4==(4&s[At])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?hC(u,o,c,[]):Af(u,o,d,c);s.reset(f,mT),s.notifyOnChanges()}return!0}return!1}function fC(s,o,u,c){const d=Yt();if(d.firstCreatePass){const f=qr();(function gC(s,o,u){null===s.queries&&(s.queries=new bc),s.queries.track(new dC(o,u))})(d,new yA(o,u,c),f.index),function pk(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function Mf(s,o,u){const c=new Ey(4==(4&u));BT(s,o,c,c.destroy),null===o[vi]&&(o[vi]=new Cc),o[vi].queries.push(new cC(c))}(d,fe(),u)}function pC(){return function _A(s,o){return s[vi].queries[o].queryList}(fe(),hD())}function vA(s,o){return s.queries.getByIndex(o)}function xy(s){return!!Wr(s)}function Nf(...s){}const PC=new Pn("Application Initializer");let Pf=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Nf,this.reject=Nf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(aI(f))u.push(f);else if(ic(f)){const m=new Promise((_,v)=>{f.subscribe({complete:_,error:v})});u.push(m)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(C(PC,8))},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const OC=new Pn("AppId",{providedIn:"root",factory:function kC(){return`${$y()}${$y()}${$y()}`}});function $y(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Of=new Pn("Platform Initializer"),NA=new Pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let FC=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const xc=new Pn("LocaleId",{providedIn:"root",factory:()=>B(xc,ve.Optional|ve.SkipSelf)||function Sk(){return typeof $localize<"u"&&$localize.locale||Lu}()}),LC=new Pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class PA{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let OA=(()=>{class s{compileModuleSync(u){return new wc(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),f=Ws(Wr(u).declarations).reduce((m,_)=>{const v=Zt(_);return v&&m.push(new bu(v)),m},[]);return new PA(c,f)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Hy=(()=>Promise.resolve(0))();function Gy(s){typeof Zone>"u"?Hy.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Qi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pi(!1),this.onMicrotaskEmpty=new Pi(!1),this.onStable=new Pi(!1),this.onError=new Pi(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function FA(){let s=fn.requestAnimationFrame,o=fn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ok(s){const o=()=>{!function Pk(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(fn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,BC(s),s.isCheckStableRunning=!0,zy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),BC(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,m,_)=>{try{return VA(s),u.invokeTask(d,f,m,_)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),UA(s)}},onInvoke:(u,c,d,f,m,_,v)=>{try{return VA(s),u.invoke(d,f,m,_,v)}finally{s.shouldCoalesceRunChangeDetection&&o(),UA(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,BC(s),zy(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qi.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(Qi.isInAngularZone())throw new he(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,o,LA,Nf,Nf);try{return f.runTask(m,u,c)}finally{f.cancelTask(m)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const LA={};function zy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function BC(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function VA(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function UA(s){s._nesting--,zy(s)}class kk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pi,this.onMicrotaskEmpty=new Pi,this.onStable=new Pi,this.onError=new Pi}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}const BA=new Pn(""),$A=new Pn("");let $C,Fk=(()=>{class s{constructor(u,c,d){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$C||(function Lk(s){$C=s}(d),d.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qi.assertNotInAngularZone(),Gy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gy(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(C(Qi),C(jA),C($A))},s.\u0275prov=un({token:s,factory:s.\u0275fac}),s})(),jA=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return $C?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const to=!1;let Ma=null;const HA=new Pn("AllowMultipleToken"),jC=new Pn("PlatformDestroyListeners"),GA=new Pn("appBootstrapListener");class Bk{constructor(o,u){this.name=o,this.token=u}}function WA(s,o,u=[]){const c=`Platform: ${o}`,d=new Pn(c);return(f=[])=>{let m=HC();if(!m||m.injector.get(HA,!1)){const _=[...u,...f,{provide:d,useValue:!0}];s?s(_):function $k(s){if(Ma&&!Ma.get(HA,!1))throw new he(400,!1);Ma=s;const o=s.get(KA);(function zA(s){const o=s.get(Of,null);o&&o.forEach(u=>u())})(s)}(function qA(s=[],o){return hr.create({name:o,providers:[{provide:Fg,useValue:"platform"},{provide:jC,useValue:new Set([()=>Ma=null])},...s]})}(_,c))}return function Hk(s){const o=HC();if(!o)throw new he(401,!1);return o}()}}function HC(){return Ma?.get(KA)??null}let KA=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const d=function QA(s,o){let u;return u="noop"===s?new kk:("zone.js"===s?void 0:s)||new Qi(o),u}(c?.ngZone,function YA(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:Qi,useValue:d}];return d.run(()=>{const m=hr.create({providers:f,parent:this.injector,name:u.moduleType.name}),_=u.create(m),v=_.injector.get(Eu,null);if(!v)throw new he(402,!1);return d.runOutsideAngular(()=>{const I=d.onError.subscribe({next:b=>{v.handleError(b)}});_.onDestroy(()=>{qy(this._modules,_),I.unsubscribe()})}),function ZA(s,o,u){try{const c=u();return aI(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(v,d,()=>{const I=_.injector.get(Pf);return I.runInitializers(),I.donePromise.then(()=>(function LS(s){Tt(s,"Expected localeId to be defined"),"string"==typeof s&&(yc=s.toLowerCase().replace(/_/g,"-"))}(_.injector.get(xc,Lu)||Lu),this._moduleDoBootstrap(_),_))})})}bootstrapModule(u,c=[]){const d=XA({},c);return function Vk(s,o,u){const c=new wc(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(Wy);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new he(-403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(jC,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(C(hr))},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function XA(s,o){return Array.isArray(o)?o.reduce(XA,s):{...s,...o}}let Wy=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,c,d){this._zone=u,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new Z.y(_=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{_.next(this._stable),_.complete()})}),m=new Z.y(_=>{let v;this._zone.runOutsideAngular(()=>{v=this._zone.onStable.subscribe(()=>{Qi.assertNotInAngularZone(),Gy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,_.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{Qi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{_.next(!1)}))});return()=>{v.unsubscribe(),I.unsubscribe()}});this.isStable=function ye(...s){const o=(0,Re.yG)(s),u=(0,Re._6)(s,1/0),c=s;return c.length?1===c.length?(0,ce.Xf)(c[0]):(0,W.J)(u)((0,Ge.D)(c,o)):Ee.E}(f,m.pipe(function ee(s={}){const{connector:o=(()=>new g.x),resetOnError:u=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=s;return f=>{let m,_,v,I=0,b=!1,M=!1;const U=()=>{_?.unsubscribe(),_=void 0},G=()=>{U(),m=v=void 0,b=M=!1},ue=()=>{const be=m;G(),be?.unsubscribe()};return(0,V.e)((be,Fe)=>{I++,!M&&!b&&U();const Ke=v=v??o();Fe.add(()=>{I--,0===I&&!M&&!b&&(_=Ce(ue,d))}),Ke.subscribe(Fe),!m&&I>0&&(m=new L.Hp({next:lt=>Ke.next(lt),error:lt=>{M=!0,U(),_=Ce(G,u,lt),Ke.error(lt)},complete:()=>{b=!0,U(),_=Ce(G,c),Ke.complete()}}),(0,ce.Xf)(be).subscribe(m))})(f)}}()))}bootstrap(u,c){const d=u instanceof zl;if(!this._injector.get(Pf).done){!d&&ns(u);throw new he(405,to)}let m;m=d?u:this._injector.get(Wl).resolveComponentFactory(u),this.componentTypes.push(m.componentType);const _=function Uk(s){return s.isBoundToModule}(m)?void 0:this._injector.get(Oo),I=m.create(hr.NULL,[],c||m.selector,_),b=I.location.nativeElement,M=I.injector.get(BA,null);return M?.registerApplication(b),I.onDestroy(()=>{this.detachView(I.hostView),qy(this.components,I),M?.unregisterApplication(b)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;qy(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const c=this._injector.get(GA,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>qy(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new he(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(C(Qi),C(ma),C(Eu))},s.\u0275prov=un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function qy(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function eM(){return!1}let zk=(()=>{class s{}return s.__NG_ELEMENT_ID__=Wk,s})();function Wk(s){return function qk(s,o,u){if(Zo(s)&&!u){const c=Je(s.index,o);return new tc(c,c)}return 47&s.type?new tc(o[Pr],o):null}(qr(),fe(),16==(16&s))}class ro{constructor(){}supports(o){return Bh(o)}create(o){return new Qk(o)}}const sM=(s,o)=>o;class Qk{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||sM}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const m=!c||u&&u.currentIndex<e_(c,d,f)?u:c,_=e_(m,d,f),v=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(u=u._next,null==m.previousIndex)d++;else{f||(f=[]);const I=_-d,b=v-d;if(I!=b){for(let U=0;U<I;U++){const G=U<f.length?f[U]:f[U]=0,ue=G+U;b<=ue&&ue<I&&(f[U]=G+1)}f[m.previousIndex]=b-I}}_!==v&&o(m,_,v)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Bh(o))throw new he(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,m,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let _=0;_<this.length;_++)f=o[_],m=this._trackByFn(_,f),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,f,m,_)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,m,_),c=!0),u=u._next}else d=0,function hS(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,_=>{m=this._trackByFn(d,_),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,_,m,d)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,m,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new GC(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Jy),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class GC{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Jy{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new zC,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function e_(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class t_{constructor(){}supports(o){return o instanceof Map||$h(o)}create(){return new WC}}class WC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||$h(o)))throw new he(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const c=new qC(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class qC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function n_(){return new Hu([new ro])}let Hu=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||n_()),deps:[[s,new Pl,new tu]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new he(901,!1)}}return s.\u0275prov=un({token:s,providedIn:"root",factory:n_}),s})();function r_(){return new Ff([new t_])}let Ff=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||r_()),deps:[[s,new Pl,new tu]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new he(901,!1)}}return s.\u0275prov=un({token:s,providedIn:"root",factory:r_}),s})();const i_=WA(null,"core",[]);let YC=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(C(Wy))},s.\u0275mod=tr({type:s}),s.\u0275inj=jr({}),s})();function s_(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},9681:(ft,De,R)=>{R.r(De),R.d(De,{FirebaseError:()=>W.ZR,SDK_VERSION:()=>vr,_DEFAULT_ENTRY_NAME:()=>te,_addComponent:()=>Dt,_addOrOverwriteComponent:()=>ze,_apps:()=>ke,_clearComponents:()=>Wt,_components:()=>ut,_getProvider:()=>Ve,_registerComponent:()=>vt,_removeServiceInstance:()=>rt,deleteApp:()=>jr,getApp:()=>un,getApps:()=>ii,initializeApp:()=>$r,onLog:()=>si,registerVersion:()=>_n,setLogLevel:()=>mi});var g=R(5861),z=R(4859),Z=R(1877),W=R(2090),ce=R(8766);class Ee{constructor(de){this.container=de}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function Re($e){return"VERSION"===$e.getComponent()?.type}(Ye)){const wt=Ye.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(Ye=>Ye).join(" ")}}const Ge="@firebase/app",L=new Z.Yd("@firebase/app"),te="[DEFAULT]",oe={[Ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ke=new Map,ut=new Map;function Dt($e,de){try{$e.container.addComponent(de)}catch(Ye){L.debug(`Component ${de.name} failed to register with FirebaseApp ${$e.name}`,Ye)}}function ze($e,de){$e.container.addOrOverwriteComponent(de)}function vt($e){const de=$e.name;if(ut.has(de))return L.debug(`There were multiple attempts to register component ${de}.`),!1;ut.set(de,$e);for(const Ye of ke.values())Dt(Ye,$e);return!0}function Ve($e,de){const Ye=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),$e.container.getProvider(de)}function rt($e,de,Ye=te){Ve($e,de).clearInstance(Ye)}function Wt(){ut.clear()}const tt=new W.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Dn{constructor(de,Ye,wt){this._isDeleted=!1,this._options=Object.assign({},de),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this.checkDestroyed(),this._automaticDataCollectionEnabled=de}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(de){this._isDeleted=de}checkDestroyed(){if(this.isDeleted)throw tt.create("app-deleted",{appName:this._name})}}const vr="9.17.2";function $r($e,de={}){let Ye=$e;"object"!=typeof de&&(de={name:de});const wt=Object.assign({name:te,automaticDataCollectionEnabled:!1},de),kt=wt.name;if("string"!=typeof kt||!kt)throw tt.create("bad-app-name",{appName:String(kt)});if(Ye||(Ye=(0,W.aH)()),!Ye)throw tt.create("no-options");const Rt=ke.get(kt);if(Rt){if((0,W.vZ)(Ye,Rt.options)&&(0,W.vZ)(wt,Rt.config))return Rt;throw tt.create("duplicate-app",{appName:kt})}const ln=new z.H0(kt);for(const C of ut.values())ln.addComponent(C);const O=new Dn(Ye,wt,ln);return ke.set(kt,O),O}function un($e=te){const de=ke.get($e);if(!de&&$e===te)return $r();if(!de)throw tt.create("no-app",{appName:$e});return de}function ii(){return Array.from(ke.values())}function jr($e){return sn.apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*($e){const de=$e.name;ke.has(de)&&(ke.delete(de),yield Promise.all($e.container.getProviders().map(Ye=>Ye.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function _n($e,de,Ye){var wt;let kt=null!==(wt=oe[$e])&&void 0!==wt?wt:$e;Ye&&(kt+=`-${Ye}`);const Rt=kt.match(/\s|\//),ln=de.match(/\s|\//);if(Rt||ln){const O=[`Unable to register library "${kt}" with version "${de}":`];return Rt&&O.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),Rt&&ln&&O.push("and"),ln&&O.push(`version name "${de}" contains illegal characters (whitespace or "/")`),void L.warn(O.join(" "))}vt(new z.wA(`${kt}-version`,()=>({library:kt,version:de}),"VERSION"))}function si($e,de){if(null!==$e&&"function"!=typeof $e)throw tt.create("invalid-log-argument");(0,Z.Am)($e,de)}function mi($e){(0,Z.Ub)($e)}const yi="firebase-heartbeat-database",Jn=1,Fn="firebase-heartbeat-store";let Hr=null;function qt(){return Hr||(Hr=(0,ce.X3)(yi,Jn,{upgrade:($e,de)=>{0===de&&$e.createObjectStore(Fn)}}).catch($e=>{throw tt.create("idb-open",{originalErrorMessage:$e.message})})),Hr}function ve(){return(ve=(0,g.Z)(function*($e){try{return(yield qt()).transaction(Fn).objectStore(Fn).get(hn($e))}catch(de){if(de instanceof W.ZR)L.warn(de.message);else{const Ye=tt.create("idb-get",{originalErrorMessage:de?.message});L.warn(Ye.message)}}})).apply(this,arguments)}function gn($e,de){return dn.apply(this,arguments)}function dn(){return(dn=(0,g.Z)(function*($e,de){try{const wt=(yield qt()).transaction(Fn,"readwrite");return yield wt.objectStore(Fn).put(de,hn($e)),wt.done}catch(Ye){if(Ye instanceof W.ZR)L.warn(Ye.message);else{const wt=tt.create("idb-set",{originalErrorMessage:Ye?.message});L.warn(wt.message)}}})).apply(this,arguments)}function hn($e){return`${$e.name}!${$e.options.appId}`}class fn{constructor(de){this.container=de,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new Ht(Ye),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var de=this;return(0,g.Z)(function*(){const wt=de.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=on();if(null===de._heartbeatsCache&&(de._heartbeatsCache=yield de._heartbeatsCachePromise),de._heartbeatsCache.lastSentHeartbeatDate!==kt&&!de._heartbeatsCache.heartbeats.some(Rt=>Rt.date===kt))return de._heartbeatsCache.heartbeats.push({date:kt,agent:wt}),de._heartbeatsCache.heartbeats=de._heartbeatsCache.heartbeats.filter(Rt=>{const ln=new Date(Rt.date).valueOf();return Date.now()-ln<=2592e6}),de._storage.overwrite(de._heartbeatsCache)})()}getHeartbeatsHeader(){var de=this;return(0,g.Z)(function*(){if(null===de._heartbeatsCache&&(yield de._heartbeatsCachePromise),null===de._heartbeatsCache||0===de._heartbeatsCache.heartbeats.length)return"";const Ye=on(),{heartbeatsToSend:wt,unsentEntries:kt}=function _i($e,de=1024){const Ye=[];let wt=$e.slice();for(const kt of $e){const Rt=Ye.find(ln=>ln.agent===kt.agent);if(Rt){if(Rt.dates.push(kt.date),Gr(Ye)>de){Rt.dates.pop();break}}else if(Ye.push({agent:kt.agent,dates:[kt.date]}),Gr(Ye)>de){Ye.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:wt}}(de._heartbeatsCache.heartbeats),Rt=(0,W.L)(JSON.stringify({version:2,heartbeats:wt}));return de._heartbeatsCache.lastSentHeartbeatDate=Ye,kt.length>0?(de._heartbeatsCache.heartbeats=kt,yield de._storage.overwrite(de._heartbeatsCache)):(de._heartbeatsCache.heartbeats=[],de._storage.overwrite(de._heartbeatsCache)),Rt})()}}function on(){return(new Date).toISOString().substring(0,10)}class Ht{constructor(de){this.app=de,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,W.hl)()&&(0,W.eu)().then(()=>!0).catch(()=>!1)})()}read(){var de=this;return(0,g.Z)(function*(){return(yield de._canUseIndexedDBPromise)&&(yield function nt($e){return ve.apply(this,arguments)}(de.app))||{heartbeats:[]}})()}overwrite(de){var Ye=this;return(0,g.Z)(function*(){var wt;if(yield Ye._canUseIndexedDBPromise){const Rt=yield Ye.read();return gn(Ye.app,{lastSentHeartbeatDate:null!==(wt=de.lastSentHeartbeatDate)&&void 0!==wt?wt:Rt.lastSentHeartbeatDate,heartbeats:de.heartbeats})}})()}add(de){var Ye=this;return(0,g.Z)(function*(){var wt;if(yield Ye._canUseIndexedDBPromise){const Rt=yield Ye.read();return gn(Ye.app,{lastSentHeartbeatDate:null!==(wt=de.lastSentHeartbeatDate)&&void 0!==wt?wt:Rt.lastSentHeartbeatDate,heartbeats:[...Rt.heartbeats,...de.heartbeats]})}})()}}function Gr($e){return(0,W.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function zr($e){vt(new z.wA("platform-logger",de=>new Ee(de),"PRIVATE")),vt(new z.wA("heartbeat",de=>new fn(de),"PRIVATE")),_n(Ge,"0.9.4",$e),_n(Ge,"0.9.4","esm2017"),_n("fire-js","")}("")},4859:(ft,De,R)=>{R.d(De,{H0:()=>Ge,wA:()=>Z});var g=R(5861),z=R(2090);class Z{constructor(L,V,ee){this.name=L,this.instanceFactory=V,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const W="[DEFAULT]";class ce{constructor(L,V){this.name=L,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const V=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(V)){const ee=new z.BH;if(this.instancesDeferred.set(V,ee),this.isInitialized(V)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:V});Ce&&ee.resolve(Ce)}catch{}}return this.instancesDeferred.get(V).promise}getImmediate(L){var V;const ee=this.normalizeInstanceIdentifier(L?.identifier),Ce=null!==(V=L?.optional)&&void 0!==V&&V;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(X){if(Ce)return null;throw X}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function Re(ye){return"EAGER"===ye.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:W})}catch{}for(const[V,ee]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(V);try{const X=this.getOrInitializeService({instanceIdentifier:Ce});ee.resolve(X)}catch{}}}}clearInstance(L=W){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,g.Z)(function*(){const V=Array.from(L.instances.values());yield Promise.all([...V.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...V.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=W){return this.instances.has(L)}getOptions(L=W){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:V={}}=L,ee=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:ee,options:V});for(const[X,Le]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(X)&&Le.resolve(Ce);return Ce}onInit(L,V){var ee;const Ce=this.normalizeInstanceIdentifier(V),X=null!==(ee=this.onInitCallbacks.get(Ce))&&void 0!==ee?ee:new Set;X.add(L),this.onInitCallbacks.set(Ce,X);const Le=this.instances.get(Ce);return Le&&L(Le,Ce),()=>{X.delete(L)}}invokeOnInitCallbacks(L,V){const ee=this.onInitCallbacks.get(V);if(ee)for(const Ce of ee)try{Ce(L,V)}catch{}}getOrInitializeService({instanceIdentifier:L,options:V={}}){let ee=this.instances.get(L);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=L,ye===W?void 0:ye),options:V}),this.instances.set(L,ee),this.instancesOptions.set(L,V),this.invokeOnInitCallbacks(ee,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,ee)}catch{}var ye;return ee||null}normalizeInstanceIdentifier(L=W){return this.component?this.component.multipleInstances?L:W:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ge{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const V=this.getProvider(L.name);if(V.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);V.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const V=new ce(L,this);return this.providers.set(L,V),V}getProviders(){return Array.from(this.providers.values())}}},2833:(ft,De,R)=>{var g=R(5861),z=R(9681),Z=R(4859),W=R(2090),ce=R(8766);const Ee="@firebase/installations",Re="0.6.4",Ge=1e4,ye=`w:${Re}`,L="FIS_v2",V="https://firebaseinstallations.googleapis.com/v1",ee=36e5,Ne=new W.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t($){return $ instanceof W.ZR&&$.code.includes("request-failed")}function Ze({projectId:$}){return`${V}/projects/${$}/installations`}function Ft($){return{token:$.token,requestStatus:2,expiresIn:re($.expiresIn),creationTime:Date.now()}}function Pe($,ae){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,g.Z)(function*($,ae){const at=(yield ae.json()).error;return Ne.create("request-failed",{requestName:$,serverCode:at.code,serverMessage:at.message,serverStatus:at.status})})).apply(this,arguments)}function Me({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function qe($){return he.apply(this,arguments)}function he(){return(he=(0,g.Z)(function*($){const ae=yield $();return ae.status>=500&&ae.status<600?$():ae})).apply(this,arguments)}function re($){return Number($.replace("s","000"))}function Qe(){return(Qe=(0,g.Z)(function*({appConfig:$,heartbeatServiceProvider:ae},{fid:Ie}){const at=Ze($),mn=Me($),Qt=ae.getImmediate({optional:!0});if(Qt){const Rr=yield Qt.getHeartbeatsHeader();Rr&&mn.append("x-firebase-client",Rr)}const wr={method:"POST",headers:mn,body:JSON.stringify({fid:Ie,authVersion:L,appId:$.appId,sdkVersion:ye})},ts=yield qe(()=>fetch(at,wr));if(ts.ok){const Rr=yield ts.json();return{fid:Rr.fid||Ie,registrationStatus:2,refreshToken:Rr.refreshToken,authToken:Ft(Rr.authToken)}}throw yield Pe("Create Installation",ts)})).apply(this,arguments)}function Et($){return new Promise(ae=>{setTimeout(ae,$)})}const q=/^[cdef][\w-]{21}$/,Y="";function j(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const Ie=function K($){return function Be($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}($).substr(0,22)}($);return q.test(Ie)?Ie:Y}catch{return Y}}function te($){return`${$.appName}!${$.appId}`}const oe=new Map;function ke($,ae){const Ie=te($);ze(Ie,ae),function vt($,ae){const Ie=function rt(){return!Ve&&"BroadcastChannel"in self&&(Ve=new BroadcastChannel("[Firebase] FID Change"),Ve.onmessage=$=>{ze($.data.key,$.data.fid)}),Ve}();Ie&&Ie.postMessage({key:$,fid:ae}),function Wt(){0===oe.size&&Ve&&(Ve.close(),Ve=null)}()}(Ie,ae)}function ze($,ae){const Ie=oe.get($);if(Ie)for(const at of Ie)at(ae)}let Ve=null;const Tt="firebase-installations-database",tt=1,Dn="firebase-installations-store";let vr=null;function $r(){return vr||(vr=(0,ce.X3)(Tt,tt,{upgrade:($,ae)=>{0===ae&&$.createObjectStore(Dn)}})),vr}function un($,ae){return ii.apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*($,ae){const Ie=te($),mn=(yield $r()).transaction(Dn,"readwrite"),Qt=mn.objectStore(Dn),tr=yield Qt.get(Ie);return yield Qt.put(ae,Ie),yield mn.done,(!tr||tr.fid!==ae.fid)&&ke($,ae.fid),ae})).apply(this,arguments)}function jr($){return sn.apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*($){const ae=te($),at=(yield $r()).transaction(Dn,"readwrite");yield at.objectStore(Dn).delete(ae),yield at.done})).apply(this,arguments)}function _n($,ae){return si.apply(this,arguments)}function si(){return(si=(0,g.Z)(function*($,ae){const Ie=te($),mn=(yield $r()).transaction(Dn,"readwrite"),Qt=mn.objectStore(Dn),tr=yield Qt.get(Ie),wr=ae(tr);return void 0===wr?yield Qt.delete(Ie):yield Qt.put(wr,Ie),yield mn.done,wr&&(!tr||tr.fid!==wr.fid)&&ke($,wr.fid),wr})).apply(this,arguments)}function mi($){return yi.apply(this,arguments)}function yi(){return yi=(0,g.Z)(function*($){let ae;const Ie=yield _n($.appConfig,at=>{const mn=function Jn($){return dn($||{fid:j(),registrationStatus:0})}(at),Qt=function Fn($,ae){if(0===ae.registrationStatus){if(!navigator.onLine)return{installationEntry:ae,registrationPromise:Promise.reject(Ne.create("app-offline"))};const Ie={fid:ae.fid,registrationStatus:1,registrationTime:Date.now()},at=function Hr($,ae){return qt.apply(this,arguments)}($,Ie);return{installationEntry:Ie,registrationPromise:at}}return 1===ae.registrationStatus?{installationEntry:ae,registrationPromise:nt($)}:{installationEntry:ae}}($,mn);return ae=Qt.registrationPromise,Qt.installationEntry});return Ie.fid===Y?{installationEntry:yield ae}:{installationEntry:Ie,registrationPromise:ae}}),yi.apply(this,arguments)}function qt(){return qt=(0,g.Z)(function*($,ae){try{const Ie=yield function _e($,ae){return Qe.apply(this,arguments)}($,ae);return un($.appConfig,Ie)}catch(Ie){throw _t(Ie)&&409===Ie.customData.serverCode?yield jr($.appConfig):yield un($.appConfig,{fid:ae.fid,registrationStatus:0}),Ie}}),qt.apply(this,arguments)}function nt($){return ve.apply(this,arguments)}function ve(){return(ve=(0,g.Z)(function*($){let ae=yield gn($.appConfig);for(;1===ae.registrationStatus;)yield Et(100),ae=yield gn($.appConfig);if(0===ae.registrationStatus){const{installationEntry:Ie,registrationPromise:at}=yield mi($);return at||Ie}return ae})).apply(this,arguments)}function gn($){return _n($,ae=>{if(!ae)throw Ne.create("installation-not-found");return dn(ae)})}function dn($){return function hn($){return 1===$.registrationStatus&&$.registrationTime+Ge<Date.now()}($)?{fid:$.fid,registrationStatus:0}:$}function Kn(){return(Kn=(0,g.Z)(function*({appConfig:$,heartbeatServiceProvider:ae},Ie){const at=function fn($,{fid:ae}){return`${Ze($)}/${ae}/authTokens:generate`}($,Ie),mn=function Te($,{refreshToken:ae}){const Ie=Me($);return Ie.append("Authorization",function ne($){return`${L} ${$}`}(ae)),Ie}($,Ie),Qt=ae.getImmediate({optional:!0});if(Qt){const Rr=yield Qt.getHeartbeatsHeader();Rr&&mn.append("x-firebase-client",Rr)}const wr={method:"POST",headers:mn,body:JSON.stringify({installation:{sdkVersion:ye,appId:$.appId}})},ts=yield qe(()=>fetch(at,wr));if(ts.ok)return Ft(yield ts.json());throw yield Pe("Generate Auth Token",ts)})).apply(this,arguments)}function on($){return _i.apply(this,arguments)}function _i(){return _i=(0,g.Z)(function*($,ae=!1){let Ie;const at=yield _n($.appConfig,Qt=>{if(!Ye(Qt))throw Ne.create("not-registered");const tr=Qt.authToken;if(!ae&&function wt($){return 2===$.requestStatus&&!function kt($){const ae=Date.now();return ae<$.creationTime||$.creationTime+$.expiresIn<ae+ee}($)}(tr))return Qt;if(1===tr.requestStatus)return Ie=function Ht($,ae){return Gr.apply(this,arguments)}($,ae),Qt;{if(!navigator.onLine)throw Ne.create("app-offline");const wr=function Rt($){const ae={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:ae})}(Qt);return Ie=function $e($,ae){return de.apply(this,arguments)}($,wr),wr}});return Ie?yield Ie:at.authToken}),_i.apply(this,arguments)}function Gr(){return(Gr=(0,g.Z)(function*($,ae){let Ie=yield zr($.appConfig);for(;1===Ie.authToken.requestStatus;)yield Et(100),Ie=yield zr($.appConfig);const at=Ie.authToken;return 0===at.requestStatus?on($,ae):at})).apply(this,arguments)}function zr($){return _n($,ae=>{if(!Ye(ae))throw Ne.create("not-registered");return function ln($){return 1===$.requestStatus&&$.requestTime+Ge<Date.now()}(ae.authToken)?Object.assign(Object.assign({},ae),{authToken:{requestStatus:0}}):ae})}function de(){return de=(0,g.Z)(function*($,ae){try{const Ie=yield function er($,ae){return Kn.apply(this,arguments)}($,ae),at=Object.assign(Object.assign({},ae),{authToken:Ie});return yield un($.appConfig,at),Ie}catch(Ie){if(!_t(Ie)||401!==Ie.customData.serverCode&&404!==Ie.customData.serverCode){const at=Object.assign(Object.assign({},ae),{authToken:{requestStatus:0}});yield un($.appConfig,at)}else yield jr($.appConfig);throw Ie}}),de.apply(this,arguments)}function Ye($){return void 0!==$&&2===$.registrationStatus}function C(){return(C=(0,g.Z)(function*($){const ae=$,{installationEntry:Ie,registrationPromise:at}=yield mi(ae);return at?at.catch(console.error):on(ae).catch(console.error),Ie.fid})).apply(this,arguments)}function B(){return B=(0,g.Z)(function*($,ae=!1){const Ie=$;return yield function P($){return ie.apply(this,arguments)}(Ie),(yield on(Ie,ae)).token}),B.apply(this,arguments)}function ie(){return(ie=(0,g.Z)(function*($){const{registrationPromise:ae}=yield mi($);ae&&(yield ae)})).apply(this,arguments)}function yt($){return Ne.create("missing-app-config-values",{valueName:$})}const ks="installations",Ls=$=>{const ae=$.getProvider("app").getImmediate(),Ie=function vn($){if(!$||!$.options)throw yt("App Configuration");if(!$.name)throw yt("App Name");const ae=["projectId","apiKey","appId"];for(const Ie of ae)if(!$.options[Ie])throw yt(Ie);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}(ae);return{app:ae,appConfig:Ie,heartbeatServiceProvider:(0,z._getProvider)(ae,"heartbeat"),_delete:()=>Promise.resolve()}},qo=$=>{const ae=$.getProvider("app").getImmediate(),Ie=(0,z._getProvider)(ae,ks).getImmediate();return{getId:()=>function O($){return C.apply(this,arguments)}(Ie),getToken:mn=>function A($){return B.apply(this,arguments)}(Ie,mn)}};(function oi(){(0,z._registerComponent)(new Z.wA(ks,Ls,"PUBLIC")),(0,z._registerComponent)(new Z.wA("installations-internal",qo,"PRIVATE"))})(),(0,z.registerVersion)(Ee,Re),(0,z.registerVersion)(Ee,Re,"esm2017")},1877:(ft,De,R)=>{R.d(De,{Am:()=>ye,Ub:()=>Ge,Yd:()=>Re,in:()=>z});const g=[];var z=(()=>{return(L=z||(z={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",z;var L})();const Z={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},W=z.INFO,ce={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Ee=(L,V,...ee)=>{if(V<L.logLevel)return;const Ce=(new Date).toISOString(),X=ce[V];if(!X)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[X](`[${Ce}]  ${L.name}:`,...ee)};class Re{constructor(V){this.name=V,this._logLevel=W,this._logHandler=Ee,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in z))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?Z[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...V),this._logHandler(this,z.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...V),this._logHandler(this,z.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,z.INFO,...V),this._logHandler(this,z.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,z.WARN,...V),this._logHandler(this,z.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...V),this._logHandler(this,z.ERROR,...V)}}function Ge(L){g.forEach(V=>{V.setLogLevel(L)})}function ye(L,V){for(const ee of g){let Ce=null;V&&V.level&&(Ce=Z[V.level]),ee.userLogHandler=null===L?null:(X,Le,...Ne)=>{const _t=Ne.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");Le>=(Ce??X.logLevel)&&L({level:z[Le].toLowerCase(),message:_t,args:Ne,type:X.name})}}}},3008:(ft,De,R)=>{R.d(De,{IH:()=>fn,Gb:()=>_i});var g=R(5861),z=R(9681),Z=R(1877),W=R(2090),ce=R(4859);R(2833);const Re="analytics",Ge="firebase_id",ye="origin",L=6e4,V="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ee="https://www.googletagmanager.com/gtag/js",Ce=new Z.Yd("@firebase/analytics");function X(C){return Promise.all(C.map(A=>A.catch(B=>B)))}function Ze(){return(Ze=(0,g.Z)(function*(C,A,B,P,ie,Ae){const Xe=P[ie];try{if(Xe)yield A[Xe];else{const mt=(yield X(B)).find(Ct=>Ct.measurementId===ie);mt&&(yield A[mt.appId])}}catch(It){Ce.error(It)}C("config",ie,Ae)})).apply(this,arguments)}function Pe(){return(Pe=(0,g.Z)(function*(C,A,B,P,ie){try{let Ae=[];if(ie&&ie.send_to){let Xe=ie.send_to;Array.isArray(Xe)||(Xe=[Xe]);const It=yield X(B);for(const mt of Xe){const Ct=It.find(en=>en.measurementId===mt),dt=Ct&&A[Ct.appId];if(!dt){Ae=[];break}Ae.push(dt)}}0===Ae.length&&(Ae=Object.values(A)),yield Promise.all(Ae),C("event",P,ie||{})}catch(Ae){Ce.error(Ae)}})).apply(this,arguments)}const he=new W.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),re=30,Qe=new class _e{constructor(A={},B=1e3){this.throttleMetadata=A,this.intervalMillis=B}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,B){this.throttleMetadata[A]=B}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Et(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function q(){return(q=(0,g.Z)(function*(C){var A;const{appId:B,apiKey:P}=C,ie={method:"GET",headers:Et(P)},Ae=V.replace("{app-id}",B),Xe=yield fetch(Ae,ie);if(200!==Xe.status&&304!==Xe.status){let It="";try{const mt=yield Xe.json();null!==(A=mt.error)&&void 0!==A&&A.message&&(It=mt.error.message)}catch{}throw he.create("config-fetch-failed",{httpStatus:Xe.status,responseMessage:It})}return Xe.json()})).apply(this,arguments)}function j(){return(j=(0,g.Z)(function*(C,A=Qe,B){const{appId:P,apiKey:ie,measurementId:Ae}=C.options;if(!P)throw he.create("no-app-id");if(!ie){if(Ae)return{measurementId:Ae,appId:P};throw he.create("no-api-key")}const Xe=A.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},It=new ut;return setTimeout((0,g.Z)(function*(){It.abort()}),void 0!==B?B:L),K({appId:P,apiKey:ie,measurementId:Ae},Xe,It,A)})).apply(this,arguments)}function K(C,A,B){return te.apply(this,arguments)}function te(){return te=(0,g.Z)(function*(C,{throttleEndTimeMillis:A,backoffCount:B},P,ie=Qe){var Ae;const{appId:Xe,measurementId:It}=C;try{yield function oe(C,A){return new Promise((B,P)=>{const ie=Math.max(A-Date.now(),0),Ae=setTimeout(B,ie);C.addEventListener(()=>{clearTimeout(Ae),P(he.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(P,A)}catch(mt){if(It)return Ce.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:Xe,measurementId:It};throw mt}try{const mt=yield function Be(C){return q.apply(this,arguments)}(C);return ie.deleteThrottleMetadata(Xe),mt}catch(mt){const Ct=mt;if(!function ke(C){if(!(C instanceof W.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Ct)){if(ie.deleteThrottleMetadata(Xe),It)return Ce.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${Ct?.message}]`),{appId:Xe,measurementId:It};throw mt}const dt=503===Number(null===(Ae=Ct?.customData)||void 0===Ae?void 0:Ae.httpStatus)?(0,W.$s)(B,ie.intervalMillis,re):(0,W.$s)(B,ie.intervalMillis),en={throttleEndTimeMillis:Date.now()+dt,backoffCount:B+1};return ie.setThrottleMetadata(Xe,en),Ce.debug(`Calling attemptFetch again in ${dt} millis`),K(C,en,P,ie)}}),te.apply(this,arguments)}class ut{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Dt,un;function vt(){return(vt=(0,g.Z)(function*(C,A,B,P,ie){if(ie&&ie.global)C("event",B,P);else{const Ae=yield A;C("event",B,Object.assign(Object.assign({},P),{send_to:Ae}))}})).apply(this,arguments)}function _n(){return(_n=(0,g.Z)(function*(){if(!(0,W.hl)())return Ce.warn(he.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,W.eu)()}catch(C){return Ce.warn(he.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function mi(){return mi=(0,g.Z)(function*(C,A,B,P,ie,Ae,Xe){var It;const mt=function Y(C){return j.apply(this,arguments)}(C);mt.then(yt=>{B[yt.measurementId]=yt.appId,C.options.measurementId&&yt.measurementId!==C.options.measurementId&&Ce.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${yt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yt=>Ce.error(yt)),A.push(mt);const Ct=function sn(){return _n.apply(this,arguments)}().then(yt=>{if(yt)return P.getId()}),[dt,en]=yield Promise.all([mt,Ct]);(function Te(C){const A=window.document.getElementsByTagName("script");for(const B of Object.values(A))if(B.src&&B.src.includes(ee)&&B.src.includes(C))return B;return null})(Ae)||function Le(C,A){const B=document.createElement("script");B.src=`${ee}?l=${C}&id=${A}`,B.async=!0,document.head.appendChild(B)}(Ae,dt.measurementId),un&&(ie("consent","default",un),function ii(C){un=C}(void 0)),ie("js",new Date);const vn=null!==(It=Xe?.config)&&void 0!==It?It:{};return vn[ye]="firebase",vn.update=!0,null!=en&&(vn[Ge]=en),ie("config",dt.measurementId,vn),Dt&&(ie("set",Dt),function jr(C){Dt=C}(void 0)),dt.measurementId}),mi.apply(this,arguments)}class yi{constructor(A){this.app=A}_delete(){return delete Jn[this.app.options.appId],Promise.resolve()}}let Jn={},Fn=[];const Hr={};let ve,gn,qt="dataLayer",nt="gtag",dn=!1;function Kn(C,A,B){!function er(){const C=[];if((0,W.ru)()&&C.push("This is a browser extension environment."),(0,W.zI)()||C.push("Cookies are not available."),C.length>0){const A=C.map((P,ie)=>`(${ie+1}) ${P}`).join(" "),B=he.create("invalid-analytics-context",{errorInfo:A});Ce.warn(B.message)}}();const P=C.options.appId;if(!P)throw he.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw he.create("no-api-key");Ce.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jn[P])throw he.create("already-exists",{id:P});if(!dn){!function Ne(C){let A=[];Array.isArray(window[C])?A=window[C]:window[C]=A}(qt);const{wrappedGtag:Ae,gtagCore:Xe}=function Me(C,A,B,P,ie){let Ae=function(...Xe){window[P].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(Ae=window[ie]),window[ie]=function Ue(C,A,B,P){function Ae(){return Ae=(0,g.Z)(function*(Xe,It,mt){try{"event"===Xe?yield function Ft(C,A,B,P,ie){return Pe.apply(this,arguments)}(C,A,B,It,mt):"config"===Xe?yield function _t(C,A,B,P,ie,Ae){return Ze.apply(this,arguments)}(C,A,B,P,It,mt):"consent"===Xe?C("consent","update",mt):C("set",It)}catch(Ct){Ce.error(Ct)}}),Ae.apply(this,arguments)}return function ie(Xe,It,mt){return Ae.apply(this,arguments)}}(Ae,C,A,B),{gtagCore:Ae,wrappedGtag:window[ie]}}(Jn,Fn,Hr,qt,nt);gn=Ae,ve=Xe,dn=!0}return Jn[P]=function si(C,A,B,P,ie,Ae,Xe){return mi.apply(this,arguments)}(C,Fn,Hr,A,ve,qt,B),new yi(C)}function fn(C=(0,z.getApp)()){C=(0,W.m9)(C);const A=(0,z._getProvider)(C,Re);return A.isInitialized()?A.getImmediate():function on(C,A={}){const B=(0,z._getProvider)(C,Re);if(B.isInitialized()){const ie=B.getImmediate();if((0,W.vZ)(A,B.getOptions()))return ie;throw he.create("already-initialized")}return B.initialize({options:A})}(C)}function _i(){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,g.Z)(function*(){if((0,W.ru)()||!(0,W.zI)()||!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}const Rt="@firebase/analytics";!function O(){(0,z._registerComponent)(new ce.wA(Re,(A,{options:B})=>Kn(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,z._registerComponent)(new ce.wA("analytics-internal",function C(A){try{const B=A.getProvider(Re).getImmediate();return{logEvent:(P,ie,Ae)=>function wt(C,A,B,P){C=(0,W.m9)(C),function ze(C,A,B,P,ie){return vt.apply(this,arguments)}(gn,Jn[C.app.options.appId],A,B,P).catch(ie=>Ce.error(ie))}(B,P,ie,Ae)}}catch(B){throw he.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,z.registerVersion)(Rt,"0.9.4"),(0,z.registerVersion)(Rt,"0.9.4","esm2017")}()},259:(ft,De,R)=>{R.d(De,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp,ZF:()=>g.initializeApp});var g=R(9681);(0,g.registerVersion)("firebase","9.17.2","app")},8766:(ft,De,R)=>{R.d(De,{Lj:()=>Ue,X3:()=>Pe});var g=R(5861);const z=(re,ne)=>ne.some(_e=>re instanceof _e);let Z,W;const Re=new WeakMap,Ge=new WeakMap,ye=new WeakMap,L=new WeakMap,V=new WeakMap;let X={get(re,ne,_e){if(re instanceof IDBTransaction){if("done"===ne)return Ge.get(re);if("objectStoreNames"===ne)return re.objectStoreNames||ye.get(re);if("store"===ne)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Ze(re[ne])},set:(re,ne,_e)=>(re[ne]=_e,!0),has:(re,ne)=>re instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in re};function _t(re){return"function"==typeof re?function Ne(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...ne){return re.apply(Ft(this),ne),Ze(Re.get(this))}:function(...ne){return Ze(re.apply(Ft(this),ne))}:function(ne,..._e){const Qe=re.call(Ft(this),ne,..._e);return ye.set(Qe,ne.sort?ne.sort():[ne]),Ze(Qe)}}(re):(re instanceof IDBTransaction&&function Ce(re){if(Ge.has(re))return;const ne=new Promise((_e,Qe)=>{const Et=()=>{re.removeEventListener("complete",Be),re.removeEventListener("error",q),re.removeEventListener("abort",q)},Be=()=>{_e(),Et()},q=()=>{Qe(re.error||new DOMException("AbortError","AbortError")),Et()};re.addEventListener("complete",Be),re.addEventListener("error",q),re.addEventListener("abort",q)});Ge.set(re,ne)}(re),z(re,function ce(){return Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,X):re)}function Ze(re){if(re instanceof IDBRequest)return function ee(re){const ne=new Promise((_e,Qe)=>{const Et=()=>{re.removeEventListener("success",Be),re.removeEventListener("error",q)},Be=()=>{_e(Ze(re.result)),Et()},q=()=>{Qe(re.error),Et()};re.addEventListener("success",Be),re.addEventListener("error",q)});return ne.then(_e=>{_e instanceof IDBCursor&&Re.set(_e,re)}).catch(()=>{}),V.set(ne,re),ne}(re);if(L.has(re))return L.get(re);const ne=_t(re);return ne!==re&&(L.set(re,ne),V.set(ne,re)),ne}const Ft=re=>V.get(re);function Pe(re,ne,{blocked:_e,upgrade:Qe,blocking:Et,terminated:Be}={}){const q=indexedDB.open(re,ne),Y=Ze(q);return Qe&&q.addEventListener("upgradeneeded",j=>{Qe(Ze(q.result),j.oldVersion,j.newVersion,Ze(q.transaction))}),_e&&q.addEventListener("blocked",()=>_e()),Y.then(j=>{Be&&j.addEventListener("close",()=>Be()),Et&&j.addEventListener("versionchange",()=>Et())}).catch(()=>{}),Y}function Ue(re,{blocked:ne}={}){const _e=indexedDB.deleteDatabase(re);return ne&&_e.addEventListener("blocked",()=>ne()),Ze(_e).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],qe=new Map;function he(re,ne){if(!(re instanceof IDBDatabase)||ne in re||"string"!=typeof ne)return;if(qe.get(ne))return qe.get(ne);const _e=ne.replace(/FromIndex$/,""),Qe=ne!==_e,Et=Te.includes(_e);if(!(_e in(Qe?IDBIndex:IDBObjectStore).prototype)||!Et&&!Me.includes(_e))return;const Be=function(){var q=(0,g.Z)(function*(Y,...j){const K=this.transaction(Y,Et?"readwrite":"readonly");let te=K.store;return Qe&&(te=te.index(j.shift())),(yield Promise.all([te[_e](...j),Et&&K.done]))[0]});return function(j){return q.apply(this,arguments)}}();return qe.set(ne,Be),Be}!function Le(re){X=re(X)}(re=>({...re,get:(ne,_e,Qe)=>he(ne,_e)||re.get(ne,_e,Qe),has:(ne,_e)=>!!he(ne,_e)||re.has(ne,_e)}))},5861:(ft,De,R)=>{function g(Z,W,ce,Ee,Re,Ge,ye){try{var L=Z[Ge](ye),V=L.value}catch(ee){return void ce(ee)}L.done?W(V):Promise.resolve(V).then(Ee,Re)}function z(Z){return function(){var W=this,ce=arguments;return new Promise(function(Ee,Re){var Ge=Z.apply(W,ce);function ye(V){g(Ge,Ee,Re,ye,L,"next",V)}function L(V){g(Ge,Ee,Re,ye,L,"throw",V)}ye(void 0)})}}R.d(De,{Z:()=>z})}},ft=>{ft(ft.s=896)}]);